!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var d=a.length,b=m.type(a);return"function"===b||m.isWindow(a)?!1:1===a.nodeType&&d?!0:"array"===b||0===d||"number"==typeof d&&0<d&&d-1 in a}function e(a,d,b){if(m.isFunction(d))return m.grep(a,function(a,h){return!!d.call(a,h,
a)!==b});if(d.nodeType)return m.grep(a,function(a){return a===d!==b});if("string"==typeof d){if(ma.test(d))return m.filter(d,a,b);d=m.filter(d,a)}return m.grep(a,function(a){return 0<=ia.call(d,a)!==b})}function g(a,d){for(;(a=a[d])&&1!==a.nodeType;);return a}function n(a){var d=Ga[a]={};return m.each(a.match(Z)||[],function(a,b){d[b]=!0}),d}function k(){K.removeEventListener("DOMContentLoaded",k,!1);a.removeEventListener("load",k,!1);m.ready()}function p(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});
this.expando=m.expando+Math.random()}function t(a,d,b){var h;if(void 0===b&&1===a.nodeType)if(h="data-"+d.replace(mb,"-$1").toLowerCase(),b=a.getAttribute(h),"string"==typeof b){try{b="true"===b?!0:"false"===b?!1:"null"===b?null:+b+""===b?+b:nb.test(b)?m.parseJSON(b):b}catch(f){}ea.set(a,d,b)}else b=void 0;return b}function q(){return!0}function w(){return!1}function y(){try{return K.activeElement}catch(a){}}function A(a,d){return m.nodeName(a,"table")&&m.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?
a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function l(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function u(a){var d=ob.exec(a.type);return d?a.type=d[1]:a.removeAttribute("type"),a}function B(a,d){for(var b=0,h=a.length;h>b;b++)N.set(a[b],"globalEval",!d||N.get(d[b],"globalEval"))}function d(a,d){var b,h,f,c,e,r;if(1===d.nodeType){if(N.hasData(a)&&(b=N.access(a),h=N.set(d,b),r=b.events))for(f in delete h.handle,h.events={},r)for(b=
0,h=r[f].length;h>b;b++)m.event.add(d,f,r[f][b]);ea.hasData(a)&&(c=ea.access(a),e=m.extend({},c),ea.set(d,e))}}function h(a,d){var b=a.getElementsByTagName?a.getElementsByTagName(d||"*"):a.querySelectorAll?a.querySelectorAll(d||"*"):[];return void 0===d||d&&m.nodeName(a,d)?m.merge([a],b):b}function f(d,b){var h,f=m(b.createElement(d)).appendTo(b.body),c=a.getDefaultComputedStyle&&(h=a.getDefaultComputedStyle(f[0]))?h.display:m.css(f[0],"display");return f.detach(),c}function r(a){var d=K,b=Ta[a];
return b||(b=f(a,d),"none"!==b&&b||(Ha=(Ha||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),d=Ha[0].contentDocument,d.write(),d.close(),b=f(a,d),Ha.detach()),Ta[a]=b),b}function C(a,d,b){var h,f,c,r,e=a.style;return b=b||Ia(a),b&&(r=b.getPropertyValue(d)||b[d]),b&&(""!==r||m.contains(a.ownerDocument,a)||(r=m.style(a,d)),Na.test(r)&&Ua.test(d)&&(h=e.width,f=e.minWidth,c=e.maxWidth,e.minWidth=e.maxWidth=e.width=r,r=b.width,e.width=h,e.minWidth=f,e.maxWidth=c)),void 0!==
r?r+"":r}function Q(a,d){return{get:function(){return a()?void delete this.get:(this.get=d).apply(this,arguments)}}}function R(a,d){if(d in a)return d;for(var b=d[0].toUpperCase()+d.slice(1),h=d,f=Va.length;f--;)if(d=Va[f]+b,d in a)return d;return h}function F(a,d,b){return(a=pb.exec(d))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):d}function U(a,d,b,h,f){d=b===(h?"border":"content")?4:"width"===d?1:0;for(var c=0;4>d;d+=2)"margin"===b&&(c+=m.css(a,b+va[d],!0,f)),h?("content"===b&&(c-=m.css(a,"padding"+va[d],
!0,f)),"margin"!==b&&(c-=m.css(a,"border"+va[d]+"Width",!0,f))):(c+=m.css(a,"padding"+va[d],!0,f),"padding"!==b&&(c+=m.css(a,"border"+va[d]+"Width",!0,f)));return c}function aa(a,d,b){var h=!0,f="width"===d?a.offsetWidth:a.offsetHeight,c=Ia(a),r="border-box"===m.css(a,"boxSizing",!1,c);if(0>=f||null==f){if(f=C(a,d,c),(0>f||null==f)&&(f=a.style[d]),Na.test(f))return f;h=r&&(O.boxSizingReliable()||f===a.style[d]);f=parseFloat(f)||0}return f+U(a,d,b||(r?"border":"content"),h,c)+"px"}function W(a,d){for(var b,
h,f,c=[],e=0,l=a.length;l>e;e++)h=a[e],h.style&&(c[e]=N.get(h,"olddisplay"),b=h.style.display,d?(c[e]||"none"!==b||(h.style.display=""),""===h.style.display&&wa(h)&&(c[e]=N.access(h,"olddisplay",r(h.nodeName)))):(f=wa(h),"none"===b&&f||N.set(h,"olddisplay",f?b:m.css(h,"display"))));for(e=0;l>e;e++)h=a[e],h.style&&(d&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=d?c[e]||"":"none"));return a}function G(a,d,b,h,f){return new G.prototype.init(a,d,b,h,f)}function da(){return setTimeout(function(){sa=
void 0}),sa=m.now()}function E(a,d){var b,h=0,f={height:a};for(d=d?1:0;4>h;h+=2-d)b=va[h],f["margin"+b]=f["padding"+b]=a;return d&&(f.opacity=f.width=a),f}function s(a,d,b){for(var h,f=(Ba[d]||[]).concat(Ba["*"]),c=0,e=f.length;e>c;c++)if(h=f[c].call(b,d,a))return h}function v(a,d){var b,h,f,c,e;for(b in a)if(h=m.camelCase(b),f=d[h],c=a[b],m.isArray(c)&&(f=c[1],c=a[b]=c[0]),b!==h&&(a[h]=c,delete a[b]),e=m.cssHooks[h],e&&"expand"in e)for(b in c=e.expand(c),delete a[h],c)b in a||(a[b]=c[b],d[b]=f);
else d[h]=f}function x(a,d,b){var h,f=0,c=Ja.length,e=m.Deferred().always(function(){delete r.elem}),r=function(){if(h)return!1;for(var d=sa||da(),d=Math.max(0,l.startTime+l.duration-d),b=1-(d/l.duration||0),f=0,c=l.tweens.length;c>f;f++)l.tweens[f].run(b);return e.notifyWith(a,[l,b,d]),1>b&&c?d:(e.resolveWith(a,[l]),!1)},l=e.promise({elem:a,props:m.extend({},d),opts:m.extend(!0,{specialEasing:{}},b),originalProperties:d,originalOptions:b,startTime:sa||da(),duration:b.duration,tweens:[],createTween:function(d,
b){var h=m.Tween(a,l.opts,d,b,l.opts.specialEasing[d]||l.opts.easing);return l.tweens.push(h),h},stop:function(d){var b=0,f=d?l.tweens.length:0;if(h)return this;for(h=!0;f>b;b++)l.tweens[b].run(1);return d?e.resolveWith(a,[l,d]):e.rejectWith(a,[l,d]),this}});b=l.props;for(v(b,l.opts.specialEasing);c>f;f++)if(d=Ja[f].call(l,a,b,l.opts))return d;return m.map(b,s,l),m.isFunction(l.opts.start)&&l.opts.start.call(a,l),m.fx.timer(m.extend(r,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,
l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(a){return function(d,b){"string"!=typeof d&&(b=d,d="*");var h,f=0,c=d.toLowerCase().match(Z)||[];if(m.isFunction(b))for(;h=c[f++];)"+"===h[0]?(h=h.slice(1)||"*",(a[h]=a[h]||[]).unshift(b)):(a[h]=a[h]||[]).push(b)}}function M(a,d,b,h){function f(r){var l;return c[r]=!0,m.each(a[r]||[],function(a,D){var r=D(d,b,h);return"string"!=typeof r||e||c[r]?e?!(l=r):void 0:(d.dataTypes.unshift(r),f(r),!1)}),l}var c={},e=a===Oa;return f(d.dataTypes[0])||
!c["*"]&&f("*")}function H(a,d){var b,h,f=m.ajaxSettings.flatOptions||{};for(b in d)void 0!==d[b]&&((f[b]?a:h||(h={}))[b]=d[b]);return h&&m.extend(!0,a,h),a}function J(a,d,b,h){var f;if(m.isArray(d))m.each(d,function(d,f){b||qb.test(a)?h(a,f):J(a+"["+("object"==typeof f?d:"")+"]",f,b,h)});else if(b||"object"!==m.type(d))h(a,d);else for(f in d)J(a+"["+f+"]",d[f],b,h)}var S=[],I=S.slice,ha=S.concat,X=S.push,ia=S.indexOf,ga={},fa=ga.toString,Y=ga.hasOwnProperty,O={},K=a.document,m=function(a,d){return new m.fn.init(a,
d)},pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ua=/^-ms-/,ka=/-([\da-z])/gi,ba=function(a,d){return d.toUpperCase()};m.fn=m.prototype={jquery:"2.1.1",constructor:m,selector:"",length:0,toArray:function(){return I.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:I.call(this)},pushStack:function(a){a=m.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,d){return m.each(this,a,d)},map:function(a){return this.pushStack(m.map(this,function(d,
b){return a.call(d,b,d)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var d=this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&d>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:S.sort,splice:S.splice};m.extend=m.fn.extend=function(){var a,d,b,h,f,c,e=arguments[0]||{},r=1,l=arguments.length,k=!1;"boolean"==typeof e&&(k=e,e=arguments[r]||{},r++);
"object"==typeof e||m.isFunction(e)||(e={});for(r===l&&(e=this,r--);l>r;r++)if(null!=(a=arguments[r]))for(d in a)b=e[d],h=a[d],e!==h&&(k&&h&&(m.isPlainObject(h)||(f=m.isArray(h)))?(f?(f=!1,c=b&&m.isArray(b)?b:[]):c=b&&m.isPlainObject(b)?b:{},e[d]=m.extend(k,c,h)):void 0!==h&&(e[d]=h));return e};m.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray,
isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!m.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==m.type(a)||a.nodeType||m.isWindow(a)?!1:a.constructor&&!Y.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var d in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ga[fa.call(a)]||"object":typeof a},globalEval:function(a){var d,b=eval;(a=m.trim(a))&&(1===a.indexOf("use strict")?
(d=K.createElement("script"),d.text=a,K.head.appendChild(d).parentNode.removeChild(d)):b(a))},camelCase:function(a){return a.replace(ua,"ms-").replace(ka,ba)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},each:function(a,d,b){var h,f=0,e=a.length,r=c(a);if(b)if(r)for(;e>f&&(h=d.apply(a[f],b),!1!==h);f++);else for(f in a){if(h=d.apply(a[f],b),!1===h)break}else if(r)for(;e>f&&(h=d.call(a[f],f,a[f]),!1!==h);f++);else for(f in a)if(h=d.call(a[f],f,a[f]),!1===h)break;
return a},trim:function(a){return null==a?"":(a+"").replace(pa,"")},makeArray:function(a,d){var b=d||[];return null!=a&&(c(Object(a))?m.merge(b,"string"==typeof a?[a]:a):X.call(b,a)),b},inArray:function(a,d,b){return null==d?-1:ia.call(d,a,b)},merge:function(a,d){for(var b=+d.length,h=0,f=a.length;b>h;h++)a[f++]=d[h];return a.length=f,a},grep:function(a,d,b){for(var h=[],f=0,c=a.length,e=!b;c>f;f++)b=!d(a[f],f),b!==e&&h.push(a[f]);return h},map:function(a,d,b){var h,f=0,e=a.length,r=[];if(c(a))for(;e>
f;f++)h=d(a[f],f,b),null!=h&&r.push(h);else for(f in a)h=d(a[f],f,b),null!=h&&r.push(h);return ha.apply([],r)},guid:1,proxy:function(a,d){var b,h,f;return"string"==typeof d&&(b=a[d],d=a,a=b),m.isFunction(a)?(h=I.call(arguments,2),f=function(){return a.apply(d||this,h.concat(I.call(arguments)))},f.guid=a.guid=a.guid||m.guid++,f):void 0},now:Date.now,support:O});m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,d){ga["[object "+d+"]"]=d.toLowerCase()});var V=
function(a){function d(a,b,h,f){var c,D,e,r,l;if((b?b.ownerDocument||b:W)!==w&&R(b),b=b||w,h=h||[],!a||"string"!=typeof a)return h;if(1!==(r=b.nodeType)&&9!==r)return[];if(S&&!f){if(c=Aa.exec(a))if(e=c[1])if(9===r){if(D=b.getElementById(e),!D||!D.parentNode)return h;if(D.id===e)return h.push(D),h}else{if(b.ownerDocument&&(D=b.ownerDocument.getElementById(e))&&ha(b,D)&&D.id===e)return h.push(D),h}else{if(c[2])return T.apply(h,b.getElementsByTagName(a)),h;if((e=c[3])&&p.getElementsByClassName&&b.getElementsByClassName)return T.apply(h,
b.getElementsByClassName(e)),h}if(p.qsa&&(!I||!I.test(a))){if(D=c=G,e=b,l=9===r&&a,1===r&&"object"!==b.nodeName.toLowerCase()){r=z(a);(c=b.getAttribute("id"))?D=c.replace(Ba,"\\$&"):b.setAttribute("id",D);D="[id='"+D+"'] ";for(e=r.length;e--;)r[e]=D+g(r[e]);e=wa.test(a)&&k(b.parentNode)||b;l=r.join(",")}if(l)try{return T.apply(h,e.querySelectorAll(l)),h}catch(m){}finally{c||b.removeAttribute("id")}}}return J(a.replace(ja,"$1"),b,h,f)}function b(){function a(b,h){return d.push(b+" ")>v.cacheLength&&
delete a[d.shift()],a[b+" "]=h}var d=[];return a}function h(a){return a[G]=!0,a}function f(a){var d=w.createElement("div");try{return!!a(d)}catch(b){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function c(a,d){for(var b=a.split("|"),h=a.length;h--;)v.attrHandle[b[h]]=d}function e(a,d){var b=d&&a,h=b&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||N)-(~a.sourceIndex||N);if(h)return h;if(b)for(;b=b.nextSibling;)if(b===d)return-1;return a?1:-1}function r(a){return function(d){return"input"===
d.nodeName.toLowerCase()&&d.type===a}}function l(a){return function(d){var b=d.nodeName.toLowerCase();return("input"===b||"button"===b)&&d.type===a}}function m(a){return h(function(d){return d=+d,h(function(b,h){for(var f,c=a([],b.length,d),D=c.length;D--;)b[f=c[D]]&&(b[f]=!(h[f]=b[f]))})})}function k(a){return a&&typeof a.getElementsByTagName!==O&&a}function C(){}function g(a){for(var d=0,b=a.length,h="";b>d;d++)h+=a[d].value;return h}function s(a,d,b){var h=d.dir,f=b&&"parentNode"===h,c=da++;return d.first?
function(d,b,c){for(;d=d[h];)if(1===d.nodeType||f)return a(d,b,c)}:function(d,b,D){var e,r,l=[X,c];if(D)for(;d=d[h];){if((1===d.nodeType||f)&&a(d,b,D))return!0}else for(;d=d[h];)if(1===d.nodeType||f){if(r=d[G]||(d[G]={}),(e=r[h])&&e[0]===X&&e[1]===c)return l[2]=e[2];if(r[h]=l,l[2]=a(d,b,D))return!0}}}function u(a){return 1<a.length?function(d,b,h){for(var f=a.length;f--;)if(!a[f](d,b,h))return!1;return!0}:a[0]}function n(a,d,b,h,f){for(var c,D=[],e=0,r=a.length,l=null!=d;r>e;e++)(c=a[e])&&(!b||b(c,
h,f))&&(D.push(c),l&&d.push(e));return D}function Q(a,b,f,c,D,e){return c&&!c[G]&&(c=Q(c)),D&&!D[G]&&(D=Q(D,e)),h(function(h,e,r,l){var m,k,C=[],g=[],la=e.length,s;if(!(s=h)){s=b||"*";for(var u=r.nodeType?[r]:r,Q=[],Ca=0,B=u.length;B>Ca;Ca++)d(s,u[Ca],Q);s=Q}s=!a||!h&&b?s:n(s,C,a,r,l);u=f?D||(h?a:la||c)?[]:e:s;if(f&&f(s,u,r,l),c)for(m=n(u,g),c(m,[],r,l),r=m.length;r--;)(k=m[r])&&(u[g[r]]=!(s[g[r]]=k));if(h){if(D||a){if(D){m=[];for(r=u.length;r--;)(k=u[r])&&m.push(s[r]=k);D(null,u=[],m,l)}for(r=u.length;r--;)(k=
u[r])&&-1<(m=D?ca.call(h,k):C[r])&&(h[m]=!(e[m]=k))}}else u=n(u===e?u.splice(la,u.length):u),D?D(null,e,u,l):T.apply(e,u)})}function B(a){var d,b,h,f=a.length,c=v.relative[a[0].type];b=c||v.relative[" "];for(var D=c?1:0,e=s(function(a){return a===d},b,!0),r=s(function(a){return-1<ca.call(d,a)},b,!0),l=[function(a,b,h){return!c&&(h||b!==A)||((d=b).nodeType?e(a,b,h):r(a,b,h))}];f>D;D++)if(b=v.relative[a[D].type])l=[s(u(l),b)];else{if(b=v.filter[a[D].type].apply(null,a[D].matches),b[G]){for(h=++D;f>
h&&!v.relative[a[h].type];h++);return Q(1<D&&u(l),1<D&&g(a.slice(0,D-1).concat({value:" "===a[D-2].type?"*":""})).replace(ja,"$1"),b,h>D&&B(a.slice(D,h)),f>h&&B(a=a.slice(h)),f>h&&g(a))}l.push(b)}return u(l)}function q(a,b){var f=0<b.length,c=0<a.length,D=function(h,D,e,r,l){var m,k,C,g=0,la="0",s=h&&[],u=[],Q=A,Ca=h||c&&v.find.TAG("*",l),B=X+=null==Q?1:Math.random()||0.1,p=Ca.length;for(l&&(A=D!==w&&D);la!==p&&null!=(m=Ca[la]);la++){if(c&&m){for(k=0;C=a[k++];)if(C(m,D,e)){r.push(m);break}l&&(X=B)}f&&
((m=!C&&m)&&g--,h&&s.push(m))}if(g+=la,f&&la!==g){for(k=0;C=b[k++];)C(s,u,D,e);if(h){if(0<g)for(;la--;)s[la]||u[la]||(u[la]=ka.call(r));u=n(u)}T.apply(r,u);l&&!h&&0<u.length&&1<g+b.length&&d.uniqueSort(r)}return l&&(X=B,A=Q),s};return f?h(D):D}var M,p,v,y,x,z,t,J,A,F,E,R,w,H,S,I,U,aa,ha,G="sizzle"+-new Date,W=a.document,X=0,da=0,fa=b(),ia=b(),ga=b(),K=function(a,d){return a===d&&(E=!0),0},O="undefined",N=-2147483648,Y={}.hasOwnProperty,P=[],ka=P.pop,V=P.push,T=P.push,ba=P.slice,ca=P.indexOf||function(a){for(var d=
0,b=this.length;b>d;d++)if(this[d]===a)return d;return-1},Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ma="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)[\\x20\\t\\r\\n\\f]*\\]",ea=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ma+")*)|.*)\\)|)",ja=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$",
"g"),pa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,na=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ua=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),qa=RegExp(ea),ta=RegExp("^"+Z+"$"),ra={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ma),PSEUDO:RegExp("^"+ea),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},va=/^(?:input|select|textarea|button)$/i,xa=/^h\d$/i,sa=/^[^{]+\{\s*\[native \w/,Aa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wa=/[+~]/,Ba=/'|\\/g,ya=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)",
"ig"),za=function(a,d,b){a="0x"+d-65536;return a!==a||b?d:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{T.apply(P=ba.call(W.childNodes),W.childNodes),P[W.childNodes.length].nodeType}catch(Da){T={apply:P.length?function(a,d){V.apply(a,ba.call(d))}:function(a,d){for(var b=a.length,h=0;a[b++]=d[h++];);a.length=b-1}}}p=d.support={};x=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};R=d.setDocument=function(a){var d,b=a?
a.ownerDocument||a:W;a=b.defaultView;return b!==w&&9===b.nodeType&&b.documentElement?(w=b,H=b.documentElement,S=!x(b),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){R()},!1):a.attachEvent&&a.attachEvent("onunload",function(){R()})),p.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),p.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),p.getElementsByClassName=sa.test(b.getElementsByClassName)&&
f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),p.getById=f(function(a){return H.appendChild(a).id=G,!b.getElementsByName||!b.getElementsByName(G).length}),p.getById?(v.find.ID=function(a,d){if(typeof d.getElementById!==O&&S){var b=d.getElementById(a);return b&&b.parentNode?[b]:[]}},v.filter.ID=function(a){var d=a.replace(ya,za);return function(a){return a.getAttribute("id")===d}}):(delete v.find.ID,
v.filter.ID=function(a){var d=a.replace(ya,za);return function(a){return(a=typeof a.getAttributeNode!==O&&a.getAttributeNode("id"))&&a.value===d}}),v.find.TAG=p.getElementsByTagName?function(a,d){return typeof d.getElementsByTagName!==O?d.getElementsByTagName(a):void 0}:function(a,d){var b,h=[],f=0,c=d.getElementsByTagName(a);if("*"===a){for(;b=c[f++];)1===b.nodeType&&h.push(b);return h}return c},v.find.CLASS=p.getElementsByClassName&&function(a,d){return typeof d.getElementsByClassName!==O&&S?d.getElementsByClassName(a):
void 0},U=[],I=[],(p.qsa=sa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&I.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||I.push(":checked")}),
f(function(a){var d=b.createElement("input");d.setAttribute("type","hidden");a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&I.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")})),(p.matchesSelector=sa.test(aa=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){p.disconnectedMatch=aa.call(a,"div");aa.call(a,
"[s!='']:x");U.push("!=",ea)}),I=I.length&&RegExp(I.join("|")),U=U.length&&RegExp(U.join("|")),d=sa.test(H.compareDocumentPosition),ha=d||sa.test(H.contains)?function(a,d){var b=9===a.nodeType?a.documentElement:a,h=d&&d.parentNode;return a===h||!(!h||1!==h.nodeType||!(b.contains?b.contains(h):a.compareDocumentPosition&&16&a.compareDocumentPosition(h)))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===a)return!0;return!1},K=d?function(a,d){if(a===d)return E=!0,0;var h=!a.compareDocumentPosition-!d.compareDocumentPosition;
return h?h:(h=(a.ownerDocument||a)===(d.ownerDocument||d)?a.compareDocumentPosition(d):1,1&h||!p.sortDetached&&d.compareDocumentPosition(a)===h?a===b||a.ownerDocument===W&&ha(W,a)?-1:d===b||d.ownerDocument===W&&ha(W,d)?1:F?ca.call(F,a)-ca.call(F,d):0:4&h?-1:1)}:function(a,d){if(a===d)return E=!0,0;var h,f=0;h=a.parentNode;var c=d.parentNode,D=[a],r=[d];if(!h||!c)return a===b?-1:d===b?1:h?-1:c?1:F?ca.call(F,a)-ca.call(F,d):0;if(h===c)return e(a,d);for(h=a;h=h.parentNode;)D.unshift(h);for(h=d;h=h.parentNode;)r.unshift(h);
for(;D[f]===r[f];)f++;return f?e(D[f],r[f]):D[f]===W?-1:r[f]===W?1:0},b):w};d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){if((a.ownerDocument||a)!==w&&R(a),b=b.replace(ua,"='$1']"),p.matchesSelector&&S&&!(U&&U.test(b)||I&&I.test(b)))try{var h=aa.call(a,b);if(h||p.disconnectedMatch||a.document&&11!==a.document.nodeType)return h}catch(f){}return 0<d(b,w,null,[a]).length};d.contains=function(a,d){return(a.ownerDocument||a)!==w&&R(a),ha(a,d)};d.attr=function(a,d){(a.ownerDocument||
a)!==w&&R(a);var b=v.attrHandle[d.toLowerCase()],b=b&&Y.call(v.attrHandle,d.toLowerCase())?b(a,d,!S):void 0;return void 0!==b?b:p.attributes||!S?a.getAttribute(d):(b=a.getAttributeNode(d))&&b.specified?b.value:null};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};d.uniqueSort=function(a){var d,b=[],h=0,f=0;if(E=!p.detectDuplicates,F=!p.sortStable&&a.slice(0),a.sort(K),E){for(;d=a[f++];)d===a[f]&&(h=b.push(f));for(;h--;)a.splice(b[h],1)}return F=null,a};y=d.getText=function(a){var d,
b="",h=0;if(d=a.nodeType)if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=y(a)}else{if(3===d||4===d)return a.nodeValue}else for(;d=a[h++];)b+=y(d);return b};v=d.selectors={cacheLength:50,createPseudo:h,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ya,za),a[3]=(a[3]||
a[4]||a[5]||"").replace(ya,za),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]),a},PSEUDO:function(a){var d,b=!a[6]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&qa.test(b)&&(d=z(b,!0))&&(d=b.indexOf(")",b.length-d)-b.length)&&(a[0]=a[0].slice(0,d),a[2]=b.slice(0,d)),a.slice(0,
3))}},filter:{TAG:function(a){var d=a.replace(ya,za).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===d}},CLASS:function(a){var d=fa[a+" "];return d||(d=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&fa(a,function(a){return d.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==O&&a.getAttribute("class")||"")})},ATTR:function(a,b,h){return function(f){f=d.attr(f,a);return null==f?"!="===b:b?(f+="","="===
b?f===h:"!="===b?f!==h:"^="===b?h&&0===f.indexOf(h):"*="===b?h&&-1<f.indexOf(h):"$="===b?h&&f.slice(-h.length)===h:"~="===b?-1<(" "+f+" ").indexOf(h):"|="===b?f===h||f.slice(0,h.length+1)===h+"-":!1):!0}},CHILD:function(a,d,b,h,f){var c="nth"!==a.slice(0,3),D="last"!==a.slice(-4),e="of-type"===d;return 1===h&&0===f?function(a){return!!a.parentNode}:function(d,b,r){var l,m,oa,k,C;b=c!==D?"nextSibling":"previousSibling";var g=d.parentNode,la=e&&d.nodeName.toLowerCase();r=!r&&!e;if(g){if(c){for(;b;){for(m=
d;m=m[b];)if(e?m.nodeName.toLowerCase()===la:1===m.nodeType)return!1;C=b="only"===a&&!C&&"nextSibling"}return!0}if(C=[D?g.firstChild:g.lastChild],D&&r)for(r=g[G]||(g[G]={}),l=r[a]||[],k=l[0]===X&&l[1],oa=l[0]===X&&l[2],m=k&&g.childNodes[k];m=++k&&m&&m[b]||(oa=k=0)||C.pop();){if(1===m.nodeType&&++oa&&m===d){r[a]=[X,k,oa];break}}else if(r&&(l=(d[G]||(d[G]={}))[a])&&l[0]===X)oa=l[1];else for(;(m=++k&&m&&m[b]||(oa=k=0)||C.pop())&&((e?m.nodeName.toLowerCase()!==la:1!==m.nodeType)||!++oa||(r&&((m[G]||(m[G]=
{}))[a]=[X,oa]),m!==d)););return oa-=f,oa===h||0===oa%h&&0<=oa/h}}},PSEUDO:function(a,b){var f,c=v.pseudos[a]||v.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return c[G]?c(b):1<c.length?(f=[a,a,"",b],v.setFilters.hasOwnProperty(a.toLowerCase())?h(function(a,d){for(var h,f=c(a,b),D=f.length;D--;)h=ca.call(a,f[D]),a[h]=!(d[h]=f[D])}):function(a){return c(a,0,f)}):c}},pseudos:{not:h(function(a){var d=[],b=[],f=t(a.replace(ja,"$1"));return f[G]?h(function(a,d,b,h){var c;b=f(a,null,h,
[]);for(h=a.length;h--;)(c=b[h])&&(a[h]=!(d[h]=c))}):function(a,h,c){return d[0]=a,f(d,null,c,b),!b.pop()}}),has:h(function(a){return function(b){return 0<d(a,b).length}}),contains:h(function(a){return function(d){return-1<(d.textContent||d.innerText||y(d)).indexOf(a)}}),lang:h(function(a){return ta.test(a||"")||d.error("unsupported lang: "+a),a=a.replace(ya,za).toLowerCase(),function(d){var b;do if(b=S?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===
b.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var b=a.location&&a.location.hash;return b&&b.slice(1)===d.id},root:function(a){return a===H},focus:function(a){return a===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){return a.parentNode&&
a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return xa.test(a.nodeName)},input:function(a){return va.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===
d.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,d){return[d-1]}),eq:m(function(a,d,b){return[0>b?b+d:b]}),even:m(function(a,d){for(var b=0;d>b;b+=2)a.push(b);return a}),odd:m(function(a,d){for(var b=1;d>b;b+=2)a.push(b);return a}),lt:m(function(a,d,b){for(d=0>b?b+d:b;0<=--d;)a.push(d);return a}),gt:m(function(a,d,b){for(b=0>b?b+d:b;++b<d;)a.push(b);return a})}};v.pseudos.nth=v.pseudos.eq;for(M in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[M]=r(M);for(M in{submit:!0,
reset:!0})v.pseudos[M]=l(M);C.prototype=v.filters=v.pseudos;v.setFilters=new C;z=d.tokenize=function(a,b){var h,f,c,D,e,r,l;if(e=ia[a+" "])return b?0:e.slice(0);e=a;r=[];for(l=v.preFilter;e;){h&&!(f=pa.exec(e))||(f&&(e=e.slice(f[0].length)||e),r.push(c=[]));h=!1;(f=na.exec(e))&&(h=f.shift(),c.push({value:h,type:f[0].replace(ja," ")}),e=e.slice(h.length));for(D in v.filter)!(f=ra[D].exec(e))||l[D]&&!(f=l[D](f))||(h=f.shift(),c.push({value:h,type:D,matches:f}),e=e.slice(h.length));if(!h)break}return b?
e.length:e?d.error(a):ia(a,r).slice(0)};return t=d.compile=function(a,d){var b,h=[],f=[],c=ga[a+" "];if(!c){d||(d=z(a));for(b=d.length;b--;)c=B(d[b]),c[G]?h.push(c):f.push(c);c=ga(a,q(f,h));c.selector=a}return c},J=d.select=function(a,d,b,h){var f,c,D,e,r,l="function"==typeof a&&a,m=!h&&z(a=l.selector||a);if(b=b||[],1===m.length){if(c=m[0]=m[0].slice(0),2<c.length&&"ID"===(D=c[0]).type&&p.getById&&9===d.nodeType&&S&&v.relative[c[1].type]){if(d=(v.find.ID(D.matches[0].replace(ya,za),d)||[])[0],!d)return b;
l&&(d=d.parentNode);a=a.slice(c.shift().value.length)}for(f=ra.needsContext.test(a)?0:c.length;f--&&(D=c[f],!v.relative[e=D.type]);)if((r=v.find[e])&&(h=r(D.matches[0].replace(ya,za),wa.test(c[0].type)&&k(d.parentNode)||d))){if(c.splice(f,1),a=h.length&&g(c),!a)return T.apply(b,h),b;break}}return(l||t(a,m))(h,d,!S,b,wa.test(a)&&k(d.parentNode)||d),b},p.sortStable=G.split("").sort(K).join("")===G,p.detectDuplicates=!!E,R(),p.sortDetached=f(function(a){return 1&a.compareDocumentPosition(w.createElement("div"))}),
f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||c("type|href|height|width",function(a,d,b){return b?void 0:a.getAttribute(d,"type"===d.toLowerCase()?1:2)}),p.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||c("value",function(a,d,b){return b||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,d,b){var h;return b?void 0:!0===a[d]?d.toLowerCase():(h=a.getAttributeNode(d))&&h.specified?h.value:null}),d}(a);m.find=V;m.expr=V.selectors;m.expr[":"]=m.expr.pseudos;m.unique=V.uniqueSort;m.text=V.getText;m.isXMLDoc=V.isXML;m.contains=V.contains;var ca=m.expr.match.needsContext,P=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;m.filter=function(a,d,b){var h=d[0];return b&&(a=":not("+a+")"),1===d.length&&1===h.nodeType?m.find.matchesSelector(h,a)?[h]:[]:m.find.matches(a,m.grep(d,function(a){return 1===
a.nodeType}))};m.fn.extend({find:function(a){var d,b=this.length,h=[],f=this;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(d=0;b>d;d++)if(m.contains(f[d],this))return!0}));for(d=0;b>d;d++)m.find(a,f[d],h);return h=this.pushStack(1<b?m.unique(h):h),h.selector=this.selector?this.selector+" "+a:a,h},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&ca.test(a)?
m(a):a||[],!1).length}});var ja,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(a,d){var b,h;if(!a)return this;if("string"==typeof a){if(b="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:T.exec(a),!b||!b[1]&&d)return!d||d.jquery?(d||ja).find(a):this.constructor(d).find(a);if(b[1]){if(d=d instanceof m?d[0]:d,m.merge(this,m.parseHTML(b[1],d&&d.nodeType?d.ownerDocument||d:K,!0)),P.test(b[1])&&m.isPlainObject(d))for(b in d)m.isFunction(this[b])?this[b](d[b]):this.attr(b,d[b]);return this}return h=
K.getElementById(b[2]),h&&h.parentNode&&(this.length=1,this[0]=h),this.context=K,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof ja.ready?ja.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))}).prototype=m.fn;ja=m(K);var Da=/^(?:parents|prev(?:Until|All))/,ta={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,d,b){for(var h=[],f=void 0!==b;(a=a[d])&&9!==a.nodeType;)if(1===
a.nodeType){if(f&&m(a).is(b))break;h.push(a)}return h},sibling:function(a,d){for(var b=[];a;a=a.nextSibling)1===a.nodeType&&a!==d&&b.push(a);return b}});m.fn.extend({has:function(a){var d=m(a,this),b=d.length;return this.filter(function(){for(var a=0;b>a;a++)if(m.contains(this,d[a]))return!0})},closest:function(a,d){for(var b,h=0,f=this.length,c=[],e=ca.test(a)||"string"!=typeof a?m(a,d||this.context):0;f>h;h++)for(b=this[h];b&&b!==d;b=b.parentNode)if(11>b.nodeType&&(e?-1<e.index(b):1===b.nodeType&&
m.find.matchesSelector(b,a))){c.push(b);break}return this.pushStack(1<c.length?m.unique(c):c)},index:function(a){return a?"string"==typeof a?ia.call(m(a),this[0]):ia.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(m.unique(m.merge(this.get(),m(a,d))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});m.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return m.dir(a,
"parentNode")},parentsUntil:function(a,d,b){return m.dir(a,"parentNode",b)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,d,b){return m.dir(a,"nextSibling",b)},prevUntil:function(a,d,b){return m.dir(a,"previousSibling",b)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},
contents:function(a){return a.contentDocument||m.merge([],a.childNodes)}},function(a,d){m.fn[a]=function(b,h){var f=m.map(this,d,b);return"Until"!==a.slice(-5)&&(h=b),h&&"string"==typeof h&&(f=m.filter(h,f)),1<this.length&&(ta[a]||m.unique(f),Da.test(a)&&f.reverse()),this.pushStack(f)}});var Z=/\S+/g,Ga={};m.Callbacks=function(a){a="string"==typeof a?Ga[a]||n(a):m.extend({},a);var d,b,h,f,c,e,r=[],l=!a.once&&[],k=function(m){d=a.memory&&m;b=!0;e=f||0;f=0;c=r.length;for(h=!0;r&&c>e;e++)if(!1===r[e].apply(m[0],
m[1])&&a.stopOnFalse){d=!1;break}h=!1;r&&(l?l.length&&k(l.shift()):d?r=[]:C.disable())},C={add:function(){if(r){var b=r.length;!function rb(d){m.each(d,function(d,b){var h=m.type(b);"function"===h?a.unique&&C.has(b)||r.push(b):b&&b.length&&"string"!==h&&rb(b)})}(arguments);h?c=r.length:d&&(f=b,k(d))}return this},remove:function(){return r&&m.each(arguments,function(a,d){for(var b;-1<(b=m.inArray(d,r,b));)r.splice(b,1),h&&(c>=b&&c--,e>=b&&e--)}),this},has:function(a){return a?-1<m.inArray(a,r):!(!r||
!r.length)},empty:function(){return r=[],c=0,this},disable:function(){return r=l=d=void 0,this},disabled:function(){return!r},lock:function(){return l=void 0,d||C.disable(),this},locked:function(){return!l},fireWith:function(a,d){return!r||b&&!l||(d=d||[],d=[a,d.slice?d.slice():d],h?l.push(d):k(d)),this},fire:function(){return C.fireWith(this,arguments),this},fired:function(){return!!b}};return C};m.extend({Deferred:function(a){var d=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject",
"fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],b="pending",h={state:function(){return b},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(b){m.each(d,function(d,c){var D=m.isFunction(a[d])&&a[d];f[c[1]](function(){var a=D&&D.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[c[0]+"With"](this===h?b.promise():this,D?[a]:
arguments)})});a=null}).promise()},promise:function(a){return null!=a?m.extend(a,h):h}},f={};return h.pipe=h.then,m.each(d,function(a,c){var D=c[2],e=c[3];h[c[1]]=D.add;e&&D.add(function(){b=e},d[1^a][2].disable,d[2][2].lock);f[c[0]]=function(){return f[c[0]+"With"](this===f?h:this,arguments),this};f[c[0]+"With"]=D.fireWith}),h.promise(f),a&&a.call(f,f),f},when:function(a){var d=0,b=I.call(arguments),h=b.length,f=1!==h||a&&m.isFunction(a.promise)?h:0,c=1===f?a:m.Deferred(),e=function(a,d,b){return function(h){d[a]=
this;b[a]=1<arguments.length?I.call(arguments):h;b===r?c.notifyWith(d,b):--f||c.resolveWith(d,b)}},r,l,k;if(1<h)for(r=Array(h),l=Array(h),k=Array(h);h>d;d++)b[d]&&m.isFunction(b[d].promise)?b[d].promise().done(e(d,k,b)).fail(c.reject).progress(e(d,l,r)):--f;return f||c.resolveWith(k,b),c.promise()}});var Aa;m.fn.ready=function(a){return m.ready.promise().done(a),this};m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){(!0===a?--m.readyWait:m.isReady)||
(m.isReady=!0,!0!==a&&0<--m.readyWait||(Aa.resolveWith(K,[m]),m.fn.triggerHandler&&(m(K).triggerHandler("ready"),m(K).off("ready"))))}});m.ready.promise=function(d){return Aa||(Aa=m.Deferred(),"complete"===K.readyState?setTimeout(m.ready):(K.addEventListener("DOMContentLoaded",k,!1),a.addEventListener("load",k,!1))),Aa.promise(d)};m.ready.promise();var qa=m.access=function(a,d,b,h,f,c,e){var r=0,l=a.length,k=null==b;if("object"===m.type(b))for(r in f=!0,b)m.access(a,d,r,b[r],!0,c,e);else if(void 0!==
h&&(f=!0,m.isFunction(h)||(e=!0),k&&(e?(d.call(a,h),d=null):(k=d,d=function(a,d,b){return k.call(m(a),b)})),d))for(;l>r;r++)d(a[r],b,e?h:h.call(a[r],r,d(a[r],b)));return f?a:k?d.call(a):l?d(a[0],b):c};m.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};p.uid=1;p.accepts=m.acceptData;p.prototype={key:function(a){if(!p.accepts(a))return 0;var d={},b=a[this.expando];if(!b){b=p.uid++;try{d[this.expando]={value:b},Object.defineProperties(a,d)}catch(h){d[this.expando]=b,m.extend(a,
d)}}return this.cache[b]||(this.cache[b]={}),b},set:function(a,d,b){var h;a=this.key(a);var f=this.cache[a];if("string"==typeof d)f[d]=b;else if(m.isEmptyObject(f))m.extend(this.cache[a],d);else for(h in d)f[h]=d[h];return f},get:function(a,d){var b=this.cache[this.key(a)];return void 0===d?b:b[d]},access:function(a,d,b){var h;return void 0===d||d&&"string"==typeof d&&void 0===b?(h=this.get(a,d),void 0!==h?h:this.get(a,m.camelCase(d))):(this.set(a,d,b),void 0!==b?b:d)},remove:function(a,d){var b,
h,f=this.key(a),c=this.cache[f];if(void 0===d)this.cache[f]={};else for(m.isArray(d)?h=d.concat(d.map(m.camelCase)):(b=m.camelCase(d),d in c?h=[d,b]:(h=b,h=h in c?[h]:h.match(Z)||[])),b=h.length;b--;)delete c[h[b]]},hasData:function(a){return!m.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var N=new p,ea=new p,nb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mb=/([A-Z])/g;m.extend({hasData:function(a){return ea.hasData(a)||N.hasData(a)},
data:function(a,d,b){return ea.access(a,d,b)},removeData:function(a,d){ea.remove(a,d)},_data:function(a,d,b){return N.access(a,d,b)},_removeData:function(a,d){N.remove(a,d)}});m.fn.extend({data:function(a,d){var b,h,f,c=this[0],e=c&&c.attributes;if(void 0===a){if(this.length&&(f=ea.get(c),1===c.nodeType&&!N.get(c,"hasDataAttrs"))){for(b=e.length;b--;)e[b]&&(h=e[b].name,0===h.indexOf("data-")&&(h=m.camelCase(h.slice(5)),t(c,h,f[h])));N.set(c,"hasDataAttrs",!0)}return f}return"object"==typeof a?this.each(function(){ea.set(this,
a)}):qa(this,function(d){var b,h=m.camelCase(a);if(c&&void 0===d){if((b=ea.get(c,a),void 0!==b)||(b=ea.get(c,h),void 0!==b)||(b=t(c,h,void 0),void 0!==b))return b}else this.each(function(){var b=ea.get(this,h);ea.set(this,h,d);-1!==a.indexOf("-")&&void 0!==b&&ea.set(this,a,d)})},null,d,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ea.remove(this,a)})}});m.extend({queue:function(a,d,b){var h;return a?(d=(d||"fx")+"queue",h=N.get(a,d),b&&(!h||m.isArray(b)?h=N.access(a,
d,m.makeArray(b)):h.push(b)),h||[]):void 0},dequeue:function(a,d){d=d||"fx";var b=m.queue(a,d),h=b.length,f=b.shift(),c=m._queueHooks(a,d),e=function(){m.dequeue(a,d)};"inprogress"===f&&(f=b.shift(),h--);f&&("fx"===d&&b.unshift("inprogress"),delete c.stop,f.call(a,e,c));!h&&c&&c.empty.fire()},_queueHooks:function(a,d){var b=d+"queueHooks";return N.get(a,b)||N.access(a,b,{empty:m.Callbacks("once memory").add(function(){N.remove(a,[d+"queue",b])})})}});m.fn.extend({queue:function(a,d){var b=2;return"string"!=
typeof a&&(d=a,a="fx",b--),arguments.length<b?m.queue(this[0],a):void 0===d?this:this.each(function(){var b=m.queue(this,a,d);m._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var b,h=1,f=m.Deferred(),c=this,e=this.length,r=function(){--h||f.resolveWith(c,[c])};"string"!=typeof a&&(d=a,a=void 0);for(a=a||"fx";e--;)(b=N.get(c[e],a+
"queueHooks"))&&b.empty&&(h++,b.empty.add(r));return r(),f.promise(d)}});var Ka=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,va=["Top","Right","Bottom","Left"],wa=function(a,d){return a=d||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},Wa=/^(?:checkbox|radio)$/i;!function(){var a=K.createDocumentFragment().appendChild(K.createElement("div")),d=K.createElement("input");d.setAttribute("type","radio");d.setAttribute("checked","checked");d.setAttribute("name","t");a.appendChild(d);O.checkClone=
a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";O.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();O.focusinBubbles="onfocusin"in a;var sb=/^key/,tb=/^(?:mouse|pointer|contextmenu)|click/,Xa=/^(?:focusinfocus|focusoutblur)$/,Ya=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(a,d,b,h,f){var c,e,r,l,k,C,g,s,u,n;if(k=N.get(a))for(b.handler&&(c=b,b=c.handler,f=c.selector),b.guid||(b.guid=m.guid++),(l=k.events)||(l=k.events={}),(e=k.handle)||(e=k.handle=
function(d){return"undefined"!==typeof m&&m.event.triggered!==d.type?m.event.dispatch.apply(a,arguments):void 0}),d=(d||"").match(Z)||[""],k=d.length;k--;)r=Ya.exec(d[k])||[],u=n=r[1],r=(r[2]||"").split(".").sort(),u&&(g=m.event.special[u]||{},u=(f?g.delegateType:g.bindType)||u,g=m.event.special[u]||{},C=m.extend({type:u,origType:n,data:h,handler:b,guid:b.guid,selector:f,needsContext:f&&m.expr.match.needsContext.test(f),namespace:r.join(".")},c),(s=l[u])||(s=l[u]=[],s.delegateCount=0,g.setup&&!1!==
g.setup.call(a,h,r,e)||a.addEventListener&&a.addEventListener(u,e,!1)),g.add&&(g.add.call(a,C),C.handler.guid||(C.handler.guid=b.guid)),f?s.splice(s.delegateCount++,0,C):s.push(C),m.event.global[u]=!0)},remove:function(a,d,b,h,f){var c,e,r,l,k,C,g,s,u,n,Q,B=N.hasData(a)&&N.get(a);if(B&&(l=B.events)){d=(d||"").match(Z)||[""];for(k=d.length;k--;)if(r=Ya.exec(d[k])||[],u=Q=r[1],n=(r[2]||"").split(".").sort(),u){g=m.event.special[u]||{};u=(h?g.delegateType:g.bindType)||u;s=l[u]||[];r=r[2]&&RegExp("(^|\\.)"+
n.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=c=s.length;c--;)C=s[c],!f&&Q!==C.origType||b&&b.guid!==C.guid||r&&!r.test(C.namespace)||h&&h!==C.selector&&("**"!==h||!C.selector)||(s.splice(c,1),C.selector&&s.delegateCount--,g.remove&&g.remove.call(a,C));e&&!s.length&&(g.teardown&&!1!==g.teardown.call(a,n,B.handle)||m.removeEvent(a,u,B.handle),delete l[u])}else for(u in l)m.event.remove(a,u+d[k],b,h,!0);m.isEmptyObject(l)&&(delete B.handle,N.remove(a,"events"))}},trigger:function(d,b,h,f){var c,e,r,l,k,
C,g,s=[h||K],u=Y.call(d,"type")?d.type:d;c=Y.call(d,"namespace")?d.namespace.split("."):[];if(e=r=h=h||K,3!==h.nodeType&&8!==h.nodeType&&!Xa.test(u+m.event.triggered)&&(0<=u.indexOf(".")&&(c=u.split("."),u=c.shift(),c.sort()),k=0>u.indexOf(":")&&"on"+u,d=d[m.expando]?d:new m.Event(u,"object"==typeof d&&d),d.isTrigger=f?2:3,d.namespace=c.join("."),d.namespace_re=d.namespace?RegExp("(^|\\.)"+c.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=h),b=null==b?[d]:m.makeArray(b,[d]),
g=m.event.special[u]||{},f||!g.trigger||!1!==g.trigger.apply(h,b))){if(!f&&!g.noBubble&&!m.isWindow(h)){l=g.delegateType||u;for(Xa.test(l+u)||(e=e.parentNode);e;e=e.parentNode)s.push(e),r=e;r===(h.ownerDocument||K)&&s.push(r.defaultView||r.parentWindow||a)}for(c=0;(e=s[c++])&&!d.isPropagationStopped();)d.type=1<c?l:g.bindType||u,(C=(N.get(e,"events")||{})[d.type]&&N.get(e,"handle"))&&C.apply(e,b),(C=k&&e[k])&&C.apply&&m.acceptData(e)&&(d.result=C.apply(e,b),!1===d.result&&d.preventDefault());return d.type=
u,f||d.isDefaultPrevented()||g._default&&!1!==g._default.apply(s.pop(),b)||!m.acceptData(h)||k&&m.isFunction(h[u])&&!m.isWindow(h)&&(r=h[k],r&&(h[k]=null),m.event.triggered=u,h[u](),m.event.triggered=void 0,r&&(h[k]=r)),d.result}},dispatch:function(a){a=m.event.fix(a);var d,b,h,f,c,e=[],r=I.call(arguments);d=(N.get(this,"events")||{})[a.type]||[];var l=m.event.special[a.type]||{};if(r[0]=a,a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){e=m.event.handlers.call(this,a,d);for(d=
0;(f=e[d++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,b=0;(c=f.handlers[b++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,h=((m.event.special[c.origType]||{}).handle||c.handler).apply(f.elem,r),void 0===h||!1!==(a.result=h)||(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(a,d){var b,h,f,c,e=[],r=d.delegateCount,l=a.target;if(r&&l.nodeType&&
(!a.button||"click"!==a.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==a.type){h=[];for(b=0;r>b;b++)c=d[b],f=c.selector+" ",void 0===h[f]&&(h[f]=c.needsContext?0<=m(f,this).index(l):m.find(f,this,null,[l]).length),h[f]&&h.push(c);h.length&&e.push({elem:l,handlers:h})}return r<d.length&&e.push({elem:this,handlers:d.slice(r)}),e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,d){return null==a.which&&(a.which=null!=d.charCode?d.charCode:d.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var b,h,f,c=d.button;return null==a.pageX&&null!=d.clientX&&(b=a.target.ownerDocument||K,h=b.documentElement,f=b.body,a.pageX=d.clientX+(h&&h.scrollLeft||f&&f.scrollLeft||0)-(h&&h.clientLeft||f&&f.clientLeft||0),a.pageY=
d.clientY+(h&&h.scrollTop||f&&f.scrollTop||0)-(h&&h.clientTop||f&&f.clientTop||0)),a.which||void 0===c||(a.which=1&c?1:2&c?3:4&c?2:0),a}},fix:function(a){if(a[m.expando])return a;var d,b,h;d=a.type;var f=a,c=this.fixHooks[d];c||(this.fixHooks[d]=c=tb.test(d)?this.mouseHooks:sb.test(d)?this.keyHooks:{});h=c.props?this.props.concat(c.props):this.props;a=new m.Event(f);for(d=h.length;d--;)b=h[d],a[b]=f[b];return a.target||(a.target=K),3===a.target.nodeType&&(a.target=a.target.parentNode),c.filter?c.filter(a,
f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==y()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&m.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,d,b,h){a=m.extend(new m.Event,b,{type:a,isSimulated:!0,originalEvent:{}});h?m.event.trigger(a,null,d):m.event.dispatch.call(d,a);a.isDefaultPrevented()&&b.preventDefault()}};m.removeEvent=function(a,d,b){a.removeEventListener&&a.removeEventListener(d,b,!1)};m.Event=function(a,d){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?q:w):this.type=
a,d&&m.extend(this,d),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,d)};m.Event.prototype={isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=q;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=q;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;
this.isImmediatePropagationStopped=q;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){m.event.special[a]={delegateType:d,bindType:d,handle:function(a){var b,h=a.relatedTarget,f=a.handleObj;return(!h||h!==this&&!m.contains(this,h))&&(a.type=f.origType,b=f.handler.apply(this,arguments),a.type=d),b}}});O.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},
function(a,d){var b=function(a){m.event.simulate(d,a.target,m.event.fix(a),!0)};m.event.special[d]={setup:function(){var h=this.ownerDocument||this,f=N.access(h,d);f||h.addEventListener(a,b,!0);N.access(h,d,(f||0)+1)},teardown:function(){var h=this.ownerDocument||this,f=N.access(h,d)-1;f?N.access(h,d,f):(h.removeEventListener(a,b,!0),N.remove(h,d))}}});m.fn.extend({on:function(a,d,b,h,f){var c,e;if("object"==typeof a){"string"!=typeof d&&(b=b||d,d=void 0);for(e in a)this.on(e,d,b,a[e],f);return this}if(null==
b&&null==h?(h=d,b=d=void 0):null==h&&("string"==typeof d?(h=b,b=void 0):(h=b,b=d,d=void 0)),!1===h)h=w;else if(!h)return this;return 1===f&&(c=h,h=function(a){return m().off(a),c.apply(this,arguments)},h.guid=c.guid||(c.guid=m.guid++)),this.each(function(){m.event.add(this,a,h,b,d)})},one:function(a,d,b,h){return this.on(a,d,b,h,1)},off:function(a,d,b){var h,f;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,m(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,
h.handler),this;if("object"==typeof a){for(f in a)this.off(f,d,a[f]);return this}return(!1===d||"function"==typeof d)&&(b=d,d=void 0),!1===b&&(b=w),this.each(function(){m.event.remove(this,a,b,d)})},trigger:function(a,d){return this.each(function(){m.event.trigger(a,d,this)})},triggerHandler:function(a,d){var b=this[0];return b?m.event.trigger(a,d,b,!0):void 0}});var Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$a=/<([\w:]+)/,ub=/<|&#?\w+;/,vb=/<(?:script|style|link)/i,
wb=/checked\s*(?:[^=]|=\s*.checked.)/i,ab=/^$|\/(?:java|ecma)script/i,ob=/^true\/(.*)/,xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,na={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};na.optgroup=na.option;na.tbody=na.tfoot=na.colgroup=na.caption=na.thead;na.th=na.td;m.extend({clone:function(a,b,f){var c,
e,r,l,k=a.cloneNode(!0),C=m.contains(a.ownerDocument,a);if(!(O.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(l=h(k),r=h(a),c=0,e=r.length;e>c;c++){var g=r[c],u=l[c],s=u.nodeName.toLowerCase();"input"===s&&Wa.test(g.type)?u.checked=g.checked:("input"===s||"textarea"===s)&&(u.defaultValue=g.defaultValue)}if(b)if(f)for(r=r||h(a),l=l||h(k),c=0,e=r.length;e>c;c++)d(r[c],l[c]);else d(a,k);return l=h(k,"script"),0<l.length&&B(l,!C&&h(a,"script")),k},buildFragment:function(a,d,b,f){for(var c,
e,r,l,k=d.createDocumentFragment(),C=[],g=0,u=a.length;u>g;g++)if(c=a[g],c||0===c)if("object"===m.type(c))m.merge(C,c.nodeType?[c]:c);else if(ub.test(c)){e=e||k.appendChild(d.createElement("div"));r=($a.exec(c)||["",""])[1].toLowerCase();r=na[r]||na._default;e.innerHTML=r[1]+c.replace(Za,"<$1></$2>")+r[2];for(r=r[0];r--;)e=e.lastChild;m.merge(C,e.childNodes);e=k.firstChild;e.textContent=""}else C.push(d.createTextNode(c));k.textContent="";for(g=0;c=C[g++];)if((!f||-1===m.inArray(c,f))&&(l=m.contains(c.ownerDocument,
c),e=h(k.appendChild(c),"script"),l&&B(e),b))for(r=0;c=e[r++];)ab.test(c.type||"")&&b.push(c);return k},cleanData:function(a){for(var d,b,h,f,c=m.event.special,e=0;void 0!==(b=a[e]);e++){if(m.acceptData(b)&&(f=b[N.expando],f&&(d=N.cache[f]))){if(d.events)for(h in d.events)c[h]?m.event.remove(b,h):m.removeEvent(b,h,d.handle);N.cache[f]&&delete N.cache[f]}delete ea.cache[b[ea.expando]]}}});m.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?m.text(this):this.empty().each(function(){1!==
this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=A(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&
this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,d){for(var b,f=a?m.filter(a,this):this,c=0;null!=(b=f[c]);c++)d||1!==b.nodeType||m.cleanData(h(b)),b.parentNode&&(d&&m.contains(b.ownerDocument,b)&&B(h(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var a,d=0;null!=(a=this[d]);d++)1===a.nodeType&&(m.cleanData(h(a,!1)),a.textContent="");
return this},clone:function(a,d){return a=null==a?!1:a,d=null==d?a:d,this.map(function(){return m.clone(this,a,d)})},html:function(a){return qa(this,function(a){var d=this[0]||{},b=0,f=this.length;if(void 0===a&&1===d.nodeType)return d.innerHTML;if("string"==typeof a&&!vb.test(a)&&!na[($a.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Za,"<$1></$2>");try{for(;f>b;b++)d=this[b]||{},1===d.nodeType&&(m.cleanData(h(d,!1)),d.innerHTML=a);d=0}catch(c){}}d&&this.empty().append(a)},null,a,arguments.length)},
replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(d){a=this.parentNode;m.cleanData(h(this));a&&a.replaceChild(d,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,d){a=ha.apply([],a);var b,f,c,e,r=0,k=this.length,C=this,g=k-1,s=a[0],n=m.isFunction(s);if(n||1<k&&"string"==typeof s&&!O.checkClone&&wb.test(s))return this.each(function(b){var h=C.eq(b);n&&(a[0]=s.call(this,b,h.html()));h.domManip(a,d)});
if(k&&(b=m.buildFragment(a,this[0].ownerDocument,!1,this),f=b.firstChild,1===b.childNodes.length&&(b=f),f)){f=m.map(h(b,"script"),l);for(c=f.length;k>r;r++)e=b,r!==g&&(e=m.clone(e,!0,!0),c&&m.merge(f,h(e,"script"))),d.call(this[r],e,r);if(c)for(b=f[f.length-1].ownerDocument,m.map(f,u),r=0;c>r;r++)e=f[r],ab.test(e.type||"")&&!N.access(e,"globalEval")&&m.contains(b,e)&&(e.src?m._evalUrl&&m._evalUrl(e.src):m.globalEval(e.textContent.replace(xb,"")))}return this}});m.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){m.fn[a]=function(a){for(var b=[],h=m(a),f=h.length-1,c=0;f>=c;c++)a=c===f?this:this.clone(!0),m(h[c])[d](a),X.apply(b,a.get());return this.pushStack(b)}});var Ha,Ta={},Ua=/^margin/,Na=RegExp("^("+Ka+")(?!px)[a-z%]+$","i"),Ia=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){var d,b,h=K.documentElement,f=K.createElement("div"),c=K.createElement("div");if(c.style){c.style.backgroundClip=
"content-box";c.cloneNode(!0).style.backgroundClip="";O.clearCloneStyle="content-box"===c.style.backgroundClip;f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";f.appendChild(c);var e=function(){c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";c.innerHTML="";h.appendChild(f);var e=a.getComputedStyle(c,null);d="1%"!==e.top;
b="4px"===e.width;h.removeChild(f)};a.getComputedStyle&&m.extend(O,{pixelPosition:function(){return e(),d},boxSizingReliable:function(){return null==b&&e(),b},reliableMarginRight:function(){var d,b=c.appendChild(K.createElement("div"));return b.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",b.style.marginRight=b.style.width="0",c.style.width="1px",h.appendChild(f),d=!parseFloat(a.getComputedStyle(b,
null).marginRight),h.removeChild(f),d}})}}();m.swap=function(a,d,b,h){var f,c={};for(f in d)c[f]=a.style[f],a.style[f]=d[f];b=b.apply(a,h||[]);for(f in d)a.style[f]=c[f];return b};var yb=/^(none|table(?!-c[ea]).+)/,pb=RegExp("^("+Ka+")(.*)$","i"),zb=RegExp("^([+-])=("+Ka+")","i"),Ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},Va=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(a,d){if(d){var b=C(a,"opacity");return""===b?"1":
b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,d,b,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,c,e,r=m.camelCase(d),l=a.style;return d=m.cssProps[r]||(m.cssProps[r]=R(l,r)),e=m.cssHooks[d]||m.cssHooks[r],void 0===b?e&&"get"in e&&void 0!==(f=e.get(a,!1,h))?f:l[d]:(c=typeof b,"string"===c&&(f=zb.exec(b))&&(b=(f[1]+1)*f[2]+parseFloat(m.css(a,
d)),c="number"),null!=b&&b===b&&("number"!==c||m.cssNumber[r]||(b+="px"),O.clearCloneStyle||""!==b||0!==d.indexOf("background")||(l[d]="inherit"),e&&"set"in e&&void 0===(b=e.set(a,b,h))||(l[d]=b)),void 0)}},css:function(a,d,b,h){var f,c,e,r=m.camelCase(d);return d=m.cssProps[r]||(m.cssProps[r]=R(a.style,r)),e=m.cssHooks[d]||m.cssHooks[r],e&&"get"in e&&(f=e.get(a,!0,b)),void 0===f&&(f=C(a,d,h)),"normal"===f&&d in bb&&(f=bb[d]),""===b||b?(c=parseFloat(f),!0===b||m.isNumeric(c)?c||0:f):f}});m.each(["height",
"width"],function(a,d){m.cssHooks[d]={get:function(a,b,h){return b?yb.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ab,function(){return aa(a,d,h)}):aa(a,d,h):void 0},set:function(a,b,h){var f=h&&Ia(a);return F(a,b,h?U(a,d,h,"border-box"===m.css(a,"boxSizing",!1,f),f):0)}}});m.cssHooks.marginRight=Q(O.reliableMarginRight,function(a,d){return d?m.swap(a,{display:"inline-block"},C,[a,"marginRight"]):void 0});m.each({margin:"",padding:"",border:"Width"},function(a,d){m.cssHooks[a+d]={expand:function(b){var h=
0,f={};for(b="string"==typeof b?b.split(" "):[b];4>h;h++)f[a+va[h]+d]=b[h]||b[h-2]||b[0];return f}};Ua.test(a)||(m.cssHooks[a+d].set=F)});m.fn.extend({css:function(a,d){return qa(this,function(a,d,b){var h,f={},c=0;if(m.isArray(d)){b=Ia(a);for(h=d.length;h>c;c++)f[d[c]]=m.css(a,d[c],!1,b);return f}return void 0!==b?m.style(a,d,b):m.css(a,d)},a,d,1<arguments.length)},show:function(){return W(this,!0)},hide:function(){return W(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():
this.each(function(){wa(this)?m(this).show():m(this).hide()})}});m.Tween=G;G.prototype={constructor:G,init:function(a,d,b,h,f,c){this.elem=a;this.prop=b;this.easing=f||"swing";this.options=d;this.start=this.now=this.cur();this.end=h;this.unit=c||(m.cssNumber[b]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var d,b=G.propHooks[this.prop];return this.pos=d=this.options.duration?m.easing[this.easing](a,this.options.duration*
a,0,1,this.options.duration):a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):G.propHooks._default.set(this),this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){var d;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(d=m.css(a.elem,a.prop,""),d&&"auto"!==d?d:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||
m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};m.fx=G.prototype.init;m.fx.step={};var sa,La,Bb=/^(?:toggle|show|hide)$/,cb=RegExp("^(?:([+-])=|)("+Ka+")([a-z%]*)$","i"),Cb=/queueHooks$/,Ja=[function(a,d,b){var h,f,c,e,l,k,C,g=this,u={},n=a.style,Q=a.nodeType&&
wa(a),B=N.get(a,"fxshow");b.queue||(e=m._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,l=e.empty.fire,e.empty.fire=function(){e.unqueued||l()}),e.unqueued++,g.always(function(){g.always(function(){e.unqueued--;m.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(b.overflow=[n.overflow,n.overflowX,n.overflowY],k=m.css(a,"display"),C="none"===k?N.get(a,"olddisplay")||r(a.nodeName):k,"inline"===C&&"none"===m.css(a,"float")&&(n.display="inline-block"));b.overflow&&
(n.overflow="hidden",g.always(function(){n.overflow=b.overflow[0];n.overflowX=b.overflow[1];n.overflowY=b.overflow[2]}));for(h in d)if(f=d[h],Bb.exec(f)){if(delete d[h],c=c||"toggle"===f,f===(Q?"hide":"show")){if("show"!==f||!B||void 0===B[h])continue;Q=!0}u[h]=B&&B[h]||m.style(a,h)}else k=void 0;if(m.isEmptyObject(u))"inline"===("none"===k?r(a.nodeName):k)&&(n.display=k);else for(h in B?"hidden"in B&&(Q=B.hidden):B=N.access(a,"fxshow",{}),c&&(B.hidden=!Q),Q?m(a).show():g.done(function(){m(a).hide()}),
g.done(function(){var d;N.remove(a,"fxshow");for(d in u)m.style(a,d,u[d])}),u)d=s(Q?B[h]:0,h,g),h in B||(B[h]=d.start,Q&&(d.end=d.start,d.start="width"===h||"height"===h?1:0))}],Ba={"*":[function(a,d){var b=this.createTween(a,d),h=b.cur(),f=cb.exec(d),c=f&&f[3]||(m.cssNumber[a]?"":"px"),e=(m.cssNumber[a]||"px"!==c&&+h)&&cb.exec(m.css(b.elem,a)),r=1,l=20;if(e&&e[3]!==c){c=c||e[3];f=f||[];e=+h||1;do r=r||".5",e/=r,m.style(b.elem,a,e+c);while(r!==(r=b.cur()/h)&&1!==r&&--l)}return f&&(e=b.start=+e||+h||
0,b.unit=c,b.end=f[1]?e+(f[1]+1)*f[2]:+f[2]),b}]};m.Animation=m.extend(x,{tweener:function(a,d){m.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var b,h=0,f=a.length;f>h;h++)b=a[h],Ba[b]=Ba[b]||[],Ba[b].unshift(d)},prefilter:function(a,d){d?Ja.unshift(a):Ja.push(a)}});m.speed=function(a,d,b){var h=a&&"object"==typeof a?m.extend({},a):{complete:b||!b&&d||m.isFunction(a)&&a,duration:a,easing:b&&d||d&&!m.isFunction(d)&&d};return h.duration=m.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in
m.fx.speeds?m.fx.speeds[h.duration]:m.fx.speeds._default,(null==h.queue||!0===h.queue)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){m.isFunction(h.old)&&h.old.call(this);h.queue&&m.dequeue(this,h.queue)},h};m.fn.extend({fadeTo:function(a,d,b,h){return this.filter(wa).css("opacity",0).show().end().animate({opacity:d},a,b,h)},animate:function(a,d,b,h){var f=m.isEmptyObject(a),c=m.speed(d,b,h);d=function(){var d=x(this,m.extend({},a),c);(f||N.get(this,"finish"))&&d.stop(!0)};return d.finish=
d,f||!1===c.queue?this.each(d):this.queue(c.queue,d)},stop:function(a,d,b){var h=function(a){var d=a.stop;delete a.stop;d(b)};return"string"!=typeof a&&(b=d,d=a,a=void 0),d&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,f=null!=a&&a+"queueHooks",c=m.timers,e=N.get(this);if(f)e[f]&&e[f].stop&&h(e[f]);else for(f in e)e[f]&&e[f].stop&&Cb.test(f)&&h(e[f]);for(f=c.length;f--;)c[f].elem!==this||null!=a&&c[f].queue!==a||(c[f].anim.stop(b),d=!1,c.splice(f,1));!d&&b||m.dequeue(this,a)})},finish:function(a){return!1!==
a&&(a=a||"fx"),this.each(function(){var d,b=N.get(this),h=b[a+"queue"];d=b[a+"queueHooks"];var f=m.timers,c=h?h.length:0;b.finish=!0;m.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=f.length;d--;)f[d].elem===this&&f[d].queue===a&&(f[d].anim.stop(!0),f.splice(d,1));for(d=0;c>d;d++)h[d]&&h[d].finish&&h[d].finish.call(this);delete b.finish})}});m.each(["toggle","show","hide"],function(a,d){var b=m.fn[d];m.fn[d]=function(a,h,f){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(E(d,
!0),a,h,f)}});m.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){m.fn[a]=function(a,b,h){return this.animate(d,a,b,h)}});m.timers=[];m.fx.tick=function(){var a,d=0,b=m.timers;for(sa=m.now();d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||m.fx.stop();sa=void 0};m.fx.timer=function(a){m.timers.push(a);a()?m.fx.start():m.timers.pop()};m.fx.interval=13;m.fx.start=function(){La||
(La=setInterval(m.fx.tick,m.fx.interval))};m.fx.stop=function(){clearInterval(La);La=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(a,d){return a=m.fx?m.fx.speeds[a]||a:a,d=d||"fx",this.queue(d,function(d,b){var h=setTimeout(d,a);b.stop=function(){clearTimeout(h)}})};(function(){var a=K.createElement("input"),d=K.createElement("select"),b=d.appendChild(K.createElement("option"));a.type="checkbox";O.checkOn=""!==a.value;O.optSelected=b.selected;d.disabled=!0;O.optDisabled=!b.disabled;
a=K.createElement("input");a.value="t";a.type="radio";O.radioValue="t"===a.value})();var db,Ea=m.expr.attrHandle;m.fn.extend({attr:function(a,d){return qa(this,m.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}});m.extend({attr:function(a,d,b){var h,f,c=a.nodeType;if(a&&3!==c&&8!==c&&2!==c)return"undefined"===typeof a.getAttribute?m.prop(a,d,b):(1===c&&m.isXMLDoc(a)||(d=d.toLowerCase(),h=m.attrHooks[d]||(m.expr.match.bool.test(d)?db:void 0)),
void 0===b?h&&"get"in h&&null!==(f=h.get(a,d))?f:(f=m.find.attr(a,d),null==f?void 0:f):null!==b?h&&"set"in h&&void 0!==(f=h.set(a,b,d))?f:(a.setAttribute(d,b+""),b):void m.removeAttr(a,d))},removeAttr:function(a,d){var b,h,f=0,c=d&&d.match(Z);if(c&&1===a.nodeType)for(;b=c[f++];)h=m.propFix[b]||b,m.expr.match.bool.test(b)&&(a[h]=!1),a.removeAttribute(b)},attrHooks:{type:{set:function(a,d){if(!O.radioValue&&"radio"===d&&m.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",d),b&&(a.value=
b),d}}}}});db={set:function(a,d,b){return!1===d?m.removeAttr(a,b):a.setAttribute(b,b),b}};m.each(m.expr.match.bool.source.match(/\w+/g),function(a,d){var b=Ea[d]||m.find.attr;Ea[d]=function(a,d,h){var f,c;return h||(c=Ea[d],Ea[d]=f,f=null!=b(a,d,h)?d.toLowerCase():null,Ea[d]=c),f}});var Db=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(a,d){return qa(this,m.prop,a,d,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[m.propFix[a]||a]})}});m.extend({propFix:{"for":"htmlFor",
"class":"className"},prop:function(a,d,b){var h,f,c,e=a.nodeType;if(a&&3!==e&&8!==e&&2!==e)return c=1!==e||!m.isXMLDoc(a),c&&(d=m.propFix[d]||d,f=m.propHooks[d]),void 0!==b?f&&"set"in f&&void 0!==(h=f.set(a,b,d))?h:a[d]=b:f&&"get"in f&&null!==(h=f.get(a,d))?h:a[d]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Db.test(a.nodeName)||a.href?a.tabIndex:-1}}}});O.optSelected||(m.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.parentNode&&a.parentNode.selectedIndex),
null}});m.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){m.propFix[this.toLowerCase()]=this});var Pa=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var d,b,h,f,c;d="string"==typeof a&&a;var e=0,r=this.length;if(m.isFunction(a))return this.each(function(d){m(this).addClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(Z)||[];r>e;e++)if(b=this[e],h=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Pa,
" "):" ")){for(c=0;f=d[c++];)0>h.indexOf(" "+f+" ")&&(h+=f+" ");h=m.trim(h);b.className!==h&&(b.className=h)}return this},removeClass:function(a){var d,b,h,f,c;d=0===arguments.length||"string"==typeof a&&a;var e=0,r=this.length;if(m.isFunction(a))return this.each(function(d){m(this).removeClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(Z)||[];r>e;e++)if(b=this[e],h=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(Pa," "):"")){for(c=0;f=d[c++];)for(;0<=h.indexOf(" "+f+" ");)h=
h.replace(" "+f+" "," ");h=a?m.trim(h):"";b.className!==h&&(b.className=h)}return this},toggleClass:function(a,d){var b=typeof a;return"boolean"==typeof d&&"string"===b?d?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(b){m(this).toggleClass(a.call(this,b,this.className,d),d)}:function(){if("string"===b)for(var d,h=0,f=m(this),c=a.match(Z)||[];d=c[h++];)f.hasClass(d)?f.removeClass(d):f.addClass(d);else("undefined"===b||"boolean"===b)&&(this.className&&N.set(this,"__className__",
this.className),this.className=this.className||!1===a?"":N.get(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var d=0,b=this.length;b>d;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(Pa," ").indexOf(a))return!0;return!1}});var Eb=/\r/g;m.fn.extend({val:function(a){var d,b,h,f=this[0];if(arguments.length)return h=m.isFunction(a),this.each(function(b){var f;1===this.nodeType&&(f=h?a.call(this,b,m(this).val()):a,null==f?f="":"number"==typeof f?f+="":m.isArray(f)&&
(f=m.map(f,function(a){return null==a?"":a+""})),d=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,f,"value")||(this.value=f))});if(f)return d=m.valHooks[f.type]||m.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&void 0!==(b=d.get(f,"value"))?b:(b=f.value,"string"==typeof b?b.replace(Eb,""):null==b?"":b)}});m.extend({valHooks:{option:{get:function(a){var d=m.find.attr(a,"value");return null!=d?d:m.trim(m.text(a))}},select:{get:function(a){for(var d,
b=a.options,h=a.selectedIndex,f="select-one"===a.type||0>h,c=f?null:[],e=f?h+1:b.length,r=0>h?e:f?h:0;e>r;r++)if(d=b[r],!(!d.selected&&r!==h||(O.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&m.nodeName(d.parentNode,"optgroup"))){if(a=m(d).val(),f)return a;c.push(a)}return c},set:function(a,d){for(var b,h,f=a.options,c=m.makeArray(d),e=f.length;e--;)h=f[e],(h.selected=0<=m.inArray(h.value,c))&&(b=!0);return b||(a.selectedIndex=-1),c}}}});m.each(["radio","checkbox"],
function(){m.valHooks[this]={set:function(a,d){return m.isArray(d)?a.checked=0<=m.inArray(m(a).val(),d):void 0}};O.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,d){m.fn[d]=function(a,b){return 0<arguments.length?this.on(d,
null,a,b):this.trigger(d)}});m.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)},bind:function(a,d,b){return this.on(a,null,d,b)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,b,h){return this.on(d,a,b,h)},undelegate:function(a,d,b){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",b)}});var Qa=m.now(),Ra=/\?/;m.parseJSON=function(a){return JSON.parse(a+"")};m.parseXML=function(a){var d,b;if(!a||"string"!=typeof a)return null;try{b=new DOMParser,
d=b.parseFromString(a,"text/xml")}catch(h){d=void 0}return(!d||d.getElementsByTagName("parsererror").length)&&m.error("Invalid XML: "+a),d};var xa,ra,Fb=/#.*$/,eb=/([?&])_=[^&]*/,Gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Hb=/^(?:GET|HEAD)$/,Ib=/^\/\//,fb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,gb={},Oa={},hb="*/".concat("*");try{ra=location.href}catch(Qb){ra=K.createElement("a"),ra.href="",ra=ra.href}xa=fb.exec(ra.toLowerCase())||[];m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ra,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xa[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},
flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?H(H(a,m.ajaxSettings),d):H(m.ajaxSettings,a)},ajaxPrefilter:z(gb),ajaxTransport:z(Oa),ajax:function(a,d){function b(a,d,e,l){var C,p,v,M,y=d;if(2!==q){q=2;r&&clearTimeout(r);h=void 0;c=l||"";x.readyState=0<a?4:0;l=200<=a&&300>a||304===a;if(e){v=g;for(var z=x,t,J,A,F,E=v.contents,w=v.dataTypes;"*"===w[0];)w.shift(),void 0===t&&(t=v.mimeType||z.getResponseHeader("Content-Type"));if(t)for(J in E)if(E[J]&&E[J].test(t)){w.unshift(J);break}if(w[0]in
e)A=w[0];else{for(J in e){if(!w[0]||v.converters[J+" "+w[0]]){A=J;break}F||(F=J)}A=A||F}v=A?(A!==w[0]&&w.unshift(A),e[A]):void 0}var R;a:{e=g;t=v;J=x;A=l;var H,D,I;v={};z=e.dataTypes.slice();if(z[1])for(H in e.converters)v[H.toLowerCase()]=e.converters[H];for(F=z.shift();F;)if(e.responseFields[F]&&(J[e.responseFields[F]]=t),!I&&A&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),I=F,F=z.shift())if("*"===F)F=I;else if("*"!==I&&I!==F){if(H=v[I+" "+F]||v["* "+F],!H)for(R in v)if(D=R.split(" "),D[1]===F&&
(H=v[I+" "+D[0]]||v["* "+D[0]])){!0===H?H=v[R]:!0!==v[R]&&(F=D[0],z.unshift(D[1]));break}if(!0!==H)if(H&&e["throws"])t=H(t);else try{t=H(t)}catch(S){R={state:"parsererror",error:H?S:"No conversion from "+I+" to "+F};break a}}R={state:"success",data:t}}v=R;l?(g.ifModified&&(M=x.getResponseHeader("Last-Modified"),M&&(m.lastModified[f]=M),M=x.getResponseHeader("etag"),M&&(m.etag[f]=M)),204===a||"HEAD"===g.type?y="nocontent":304===a?y="notmodified":(y=v.state,C=v.data,p=v.error,l=!p)):(p=y,(a||!y)&&(y=
"error",0>a&&(a=0)));x.status=a;x.statusText=(d||y)+"";l?n.resolveWith(u,[C,y,x]):n.rejectWith(u,[x,y,p]);x.statusCode(B);B=void 0;k&&s.trigger(l?"ajaxSuccess":"ajaxError",[x,g,l?C:p]);Q.fireWith(u,[x,y]);k&&(s.trigger("ajaxComplete",[x,g]),--m.active||m.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=void 0);d=d||{};var h,f,c,e,r,l,k,C,g=m.ajaxSetup({},d),u=g.context||g,s=g.context&&(u.nodeType||u.jquery)?m(u):m.event,n=m.Deferred(),Q=m.Callbacks("once memory"),B=g.statusCode||{},p={},v={},
q=0,y="canceled",x={readyState:0,getResponseHeader:function(a){var d;if(2===q){if(!e)for(e={};d=Gb.exec(c);)e[d[1].toLowerCase()]=d[2];d=e[a.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===q?c:null},setRequestHeader:function(a,d){var b=a.toLowerCase();return q||(a=v[b]=v[b]||a,p[a]=d),this},overrideMimeType:function(a){return q||(g.mimeType=a),this},statusCode:function(a){var d;if(a)if(2>q)for(d in a)B[d]=[B[d],a[d]];else x.always(a[x.status]);return this},abort:function(a){a=
a||y;return h&&h.abort(a),b(0,a),this}};if(n.promise(x).complete=Q.add,x.success=x.done,x.error=x.fail,g.url=((a||g.url||ra)+"").replace(Fb,"").replace(Ib,xa[1]+"//"),g.type=d.method||d.type||g.method||g.type,g.dataTypes=m.trim(g.dataType||"*").toLowerCase().match(Z)||[""],null==g.crossDomain&&(l=fb.exec(g.url.toLowerCase()),g.crossDomain=!(!l||l[1]===xa[1]&&l[2]===xa[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xa[3]||("http:"===xa[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&
(g.data=m.param(g.data,g.traditional)),M(gb,g,d,x),2===q)return x;(k=g.global)&&0===m.active++&&m.event.trigger("ajaxStart");g.type=g.type.toUpperCase();g.hasContent=!Hb.test(g.type);f=g.url;g.hasContent||(g.data&&(f=g.url+=(Ra.test(f)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=eb.test(f)?f.replace(eb,"$1_="+Qa++):f+(Ra.test(f)?"&":"?")+"_="+Qa++));g.ifModified&&(m.lastModified[f]&&x.setRequestHeader("If-Modified-Since",m.lastModified[f]),m.etag[f]&&x.setRequestHeader("If-None-Match",m.etag[f]));
(g.data&&g.hasContent&&!1!==g.contentType||d.contentType)&&x.setRequestHeader("Content-Type",g.contentType);x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+hb+"; q=0.01":""):g.accepts["*"]);for(C in g.headers)x.setRequestHeader(C,g.headers[C]);if(g.beforeSend&&(!1===g.beforeSend.call(u,x,g)||2===q))return x.abort();y="abort";for(C in{success:1,error:1,complete:1})x[C](g[C]);if(h=M(Oa,g,d,x)){x.readyState=1;k&&s.trigger("ajaxSend",
[x,g]);g.async&&0<g.timeout&&(r=setTimeout(function(){x.abort("timeout")},g.timeout));try{q=1,h.send(p,b)}catch(z){if(!(2>q))throw z;b(-1,z)}}else b(-1,"No Transport");return x},getJSON:function(a,d,b){return m.get(a,d,b,"json")},getScript:function(a,d){return m.get(a,void 0,d,"script")}});m.each(["get","post"],function(a,d){m[d]=function(a,b,h,f){return m.isFunction(b)&&(f=f||h,h=b,b=void 0),m.ajax({url:a,type:d,dataType:f,data:b,success:h})}});m.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,d){m.fn[d]=function(a){return this.on(d,a)}});m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};m.fn.extend({wrapAll:function(a){var d;return m.isFunction(a)?this.each(function(d){m(this).wrapAll(a.call(this,d))}):(this[0]&&(d=m(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(m.isFunction(a)?
function(d){m(this).wrapInner(a.call(this,d))}:function(){var d=m(this),b=d.contents();b.length?b.wrapAll(a):d.append(a)})},wrap:function(a){var d=m.isFunction(a);return this.each(function(b){m(this).wrapAll(d?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}});m.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};
var Jb=/%20/g,qb=/\[\]$/,ib=/\r?\n/g,Kb=/^(?:submit|button|image|reset|file)$/i,Lb=/^(?:input|select|textarea|keygen)/i;m.param=function(a,d){var b,h=[],f=function(a,d){d=m.isFunction(d)?d():null==d?"":d;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};if(void 0===d&&(d=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){f(this.name,this.value)});else for(b in a)J(b,a[b],d,f);return h.join("&").replace(Jb,"+")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Lb.test(this.nodeName)&&!Kb.test(a)&&(this.checked||!Wa.test(a))}).map(function(a,d){var b=m(this).val();return null==b?null:m.isArray(b)?m.map(b,function(a){return{name:d.name,value:a.replace(ib,"\r\n")}}):{name:d.name,value:b.replace(ib,"\r\n")}}).get()}});m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};
var Mb=0,Ma={},Nb={0:200,1223:204},Fa=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Ma)Ma[a]()});O.cors=!!Fa&&"withCredentials"in Fa;O.ajax=Fa=!!Fa;m.ajaxTransport(function(a){var d;return O.cors||Fa&&!a.crossDomain?{send:function(b,h){var f,c=a.xhr(),e=++Mb;if(c.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)c[f]=a.xhrFields[f];a.mimeType&&c.overrideMimeType&&c.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]=
"XMLHttpRequest");for(f in b)c.setRequestHeader(f,b[f]);d=function(a){return function(){d&&(delete Ma[e],d=c.onload=c.onerror=null,"abort"===a?c.abort():"error"===a?h(c.status,c.statusText):h(Nb[c.status]||c.status,c.statusText,"string"==typeof c.responseText?{text:c.responseText}:void 0,c.getAllResponseHeaders()))}};c.onload=d();c.onerror=d("error");d=Ma[e]=d("abort");try{c.send(a.hasContent&&a.data||null)}catch(r){if(d)throw r;}},abort:function(){d&&d()}}:void 0});m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}});m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});m.ajaxTransport("script",function(a){if(a.crossDomain){var d,b;return{send:function(h,f){d=m("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",b=function(a){d.remove();b=null;a&&f("error"===a.type?404:200,a.type)});K.head.appendChild(d[0])},abort:function(){b&&b()}}}});
var jb=[],Sa=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jb.pop()||m.expando+"_"+Qa++;return this[a]=!0,a}});m.ajaxPrefilter("json jsonp",function(d,b,h){var f,c,e,r=!1!==d.jsonp&&(Sa.test(d.url)?"url":"string"==typeof d.data&&!(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sa.test(d.data)&&"data");return r||"jsonp"===d.dataTypes[0]?(f=d.jsonpCallback=m.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,r?d[r]=d[r].replace(Sa,"$1"+
f):!1!==d.jsonp&&(d.url+=(Ra.test(d.url)?"&":"?")+d.jsonp+"="+f),d.converters["script json"]=function(){return e||m.error(f+" was not called"),e[0]},d.dataTypes[0]="json",c=a[f],a[f]=function(){e=arguments},h.always(function(){a[f]=c;d[f]&&(d.jsonpCallback=b.jsonpCallback,jb.push(f));e&&m.isFunction(c)&&c(e[0]);e=c=void 0}),"script"):void 0});m.parseHTML=function(a,d,b){if(!a||"string"!=typeof a)return null;"boolean"==typeof d&&(b=d,d=!1);d=d||K;var h=P.exec(a);b=!b&&[];return h?[d.createElement(h[1])]:
(h=m.buildFragment([a],d,b),b&&b.length&&m(b).remove(),m.merge([],h.childNodes))};var kb=m.fn.load;m.fn.load=function(a,d,b){if("string"!=typeof a&&kb)return kb.apply(this,arguments);var h,f,c,e=this,r=a.indexOf(" ");return 0<=r&&(h=m.trim(a.slice(r)),a=a.slice(0,r)),m.isFunction(d)?(b=d,d=void 0):d&&"object"==typeof d&&(f="POST"),0<e.length&&m.ajax({url:a,type:f,dataType:"html",data:d}).done(function(a){c=arguments;e.html(h?m("<div>").append(m.parseHTML(a)).find(h):a)}).complete(b&&function(a,d){e.each(b,
c||[a.responseText,d,a])}),this};m.expr.filters.animated=function(a){return m.grep(m.timers,function(d){return a===d.elem}).length};var lb=a.document.documentElement;m.offset={setOffset:function(a,d,b){var h,f,c,e,r,l,g=m.css(a,"position"),k=m(a),C={};"static"===g&&(a.style.position="relative");r=k.offset();c=m.css(a,"top");l=m.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(c+l).indexOf("auto")?(h=k.position(),e=h.top,f=h.left):(e=parseFloat(c)||0,f=parseFloat(l)||0);m.isFunction(d)&&(d=d.call(a,
b,r));null!=d.top&&(C.top=d.top-r.top+e);null!=d.left&&(C.left=d.left-r.left+f);"using"in d?d.using.call(a,C):k.css(C)}};m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(d){m.offset.setOffset(this,a,d)});var d,b,h=this[0],f={top:0,left:0},c=h&&h.ownerDocument;if(c)return d=c.documentElement,m.contains(d,h)?("undefined"!==typeof h.getBoundingClientRect&&(f=h.getBoundingClientRect()),b=m.isWindow(c)?c:9===c.nodeType&&c.defaultView,{top:f.top+b.pageYOffset-
d.clientTop,left:f.left+b.pageXOffset-d.clientLeft}):f},position:function(){if(this[0]){var a,d,b=this[0],h={top:0,left:0};return"fixed"===m.css(b,"position")?d=b.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),m.nodeName(a[0],"html")||(h=a.offset()),h.top+=m.css(a[0],"borderTopWidth",!0),h.left+=m.css(a[0],"borderLeftWidth",!0)),{top:d.top-h.top-m.css(b,"marginTop",!0),left:d.left-h.left-m.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||
lb;a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position");)a=a.offsetParent;return a||lb})}});m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,b){var h="pageYOffset"===b;m.fn[d]=function(f){return qa(this,function(d,f,c){var e=m.isWindow(d)?d:9===d.nodeType&&d.defaultView;return void 0===c?e?e[b]:d[f]:void(e?e.scrollTo(h?a.pageXOffset:c,h?c:a.pageYOffset):d[f]=c)},d,f,arguments.length,null)}});m.each(["top","left"],function(a,d){m.cssHooks[d]=Q(O.pixelPosition,function(a,b){return b?
(b=C(a,d),Na.test(b)?m(a).position()[d]+"px":b):void 0})});m.each({Height:"height",Width:"width"},function(a,d){m.each({padding:"inner"+a,content:d,"":"outer"+a},function(b,h){m.fn[h]=function(h,f){var c=arguments.length&&(b||"boolean"!=typeof h),e=b||(!0===h||!0===f?"margin":"border");return qa(this,function(d,b,h){var f;return m.isWindow(d)?d.document.documentElement["client"+a]:9===d.nodeType?(f=d.documentElement,Math.max(d.body["scroll"+a],f["scroll"+a],d.body["offset"+a],f["offset"+a],f["client"+
a])):void 0===h?m.css(d,b,e):m.style(d,b,h,e)},d,c?h:void 0,c,null)}})});m.fn.size=function(){return this.length};m.fn.andSelf=m.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var Ob=a.jQuery,Pb=a.$;return m.noConflict=function(d){return a.$===m&&(a.$=Pb),d&&a.jQuery===m&&(a.jQuery=Ob),m},"undefined"===typeof b&&(a.jQuery=a.$=m),m});
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(d,b){var f,e,l,g=d.nodeName.toLowerCase();return"area"===g?(f=d.parentNode,e=f.name,d.href&&e&&"map"===f.nodeName.toLowerCase()?(l=a("img[usemap='#"+e+"']")[0],!!l&&c(l)):!1):(/input|select|textarea|button|object/.test(g)?!d.disabled:"a"===g?d.href||b:b)&&c(d)}function c(d){return a.expr.filters.visible(d)&&!a(d).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}
function e(a){for(var b,f;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(f=parseInt(a.css("zIndex"),10),!isNaN(f)&&0!==f))return f;a=a.parent()}return 0}function g(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";
this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,
calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.regional.en=a.extend(!0,{},this.regional[""]);this.regional["en-US"]=a.extend(!0,{},this.regional.en);this.dpDiv=n(a("<div id='"+
this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(d){return d.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
"mouseover",k)}function k(){a.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function p(d,b){a.extend(d,b);for(var f in b)null==b[f]&&(d[f]=b[f]);return d}a.ui=a.ui||
{};a.extend(a.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({scrollParent:function(d){var b=this.css("position"),f="absolute"===b,c=d?/(auto|scroll|hidden)/:/(auto|scroll)/;d=this.parents().filter(function(){var d=a(this);return f&&"static"===d.css("position")?!1:c.test(d.css("overflow")+d.css("overflow-y")+d.css("overflow-x"))}).eq(0);return"fixed"!==b&&
d.length?d:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(d){return function(b){return!!a.data(b,d)}}):function(d,b,f){return!!a.data(d,f[3])},focusable:function(d){return b(d,!isNaN(a.attr(d,"tabindex")))},tabbable:function(d){var h=
a.attr(d,"tabindex"),f=isNaN(h);return(f||0<=h)&&b(d,!f)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(d,b){function f(d,b,h,f){return a.each(c,function(){b-=parseFloat(a.css(d,"padding"+this))||0;h&&(b-=parseFloat(a.css(d,"border"+this+"Width"))||0);f&&(b-=parseFloat(a.css(d,"margin"+this))||0)}),b}var c="Width"===b?["Left","Right"]:["Top","Bottom"],e=b.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};
a.fn["inner"+b]=function(d){return void 0===d?l["inner"+b].call(this):this.each(function(){a(this).css(e,f(this,d)+"px")})};a.fn["outer"+b]=function(d,c){return"number"!=typeof d?l["outer"+b].call(this,d):this.each(function(){a(this).css(e,f(this,d,!0,c)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(d){return function(b){return arguments.length?
d.call(this,a.camelCase(b)):d.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.fn.extend({focus:function(d){return function(b,f){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus();f&&f.call(d)},b)}):d.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),
enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(void 0!==d)return this.css("zIndex",d);if(this.length){var b,f;for(d=a(this[0]);d.length&&d[0]!==document;){if(b=d.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f))return f;d=d.parent()}}return 0}});a.ui.plugin={add:function(d,b,f){var c;d=a.ui[d].prototype;for(c in f)d.plugins[c]=d.plugins[c]||[],d.plugins[c].push([b,f[c]])},call:function(a,
b,f,c){if((b=a.plugins[b])&&(c||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(c=0;b.length>c;c++)a.options[b[c][0]]&&b[c][1].apply(a.element,f)}};var t=0,q=Array.prototype.slice;a.cleanData=function(d){return function(b){var f,c,e;for(e=0;null!=(c=b[e]);e++)try{(f=a._data(c,"events"))&&f.remove&&a(c).triggerHandler("remove")}catch(l){}d(b)}}(a.cleanData);a.widget=function(d,b,f){var c,e,l,g,k={},u=d.split(".")[0];return d=d.split(".")[1],c=u+"-"+d,f||(f=b,b=a.Widget),a.expr[":"][c.toLowerCase()]=
function(d){return!!a.data(d,c)},a[u]=a[u]||{},e=a[u][d],l=a[u][d]=function(a,d){return this._createWidget?(arguments.length&&this._createWidget(a,d),void 0):new l(a,d)},a.extend(l,e,{version:f.version,_proto:a.extend({},f),_childConstructors:[]}),g=new b,g.options=a.widget.extend({},g.options),a.each(f,function(d,f){return a.isFunction(f)?(k[d]=function(){var a=function(){return b.prototype[d].apply(this,arguments)},c=function(a){return b.prototype[d].apply(this,a)};return function(){var d,b=this._super,
h=this._superApply;return this._super=a,this._superApply=c,d=f.apply(this,arguments),this._super=b,this._superApply=h,d}}(),void 0):(k[d]=f,void 0)}),l.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||d:d},k,{constructor:l,namespace:u,widgetName:d,widgetFullName:c}),e?(a.each(e._childConstructors,function(d,b){var h=b.prototype;a.widget(h.namespace+"."+h.widgetName,l,b._proto)}),delete e._childConstructors):b._childConstructors.push(l),a.widget.bridge(d,l),l};a.widget.extend=
function(d){for(var b,f,c=q.call(arguments,1),e=0,l=c.length;l>e;e++)for(b in c[e])f=c[e][b],c[e].hasOwnProperty(b)&&void 0!==f&&(d[b]=a.isPlainObject(f)?a.isPlainObject(d[b])?a.widget.extend({},d[b],f):a.widget.extend({},f):f);return d};a.widget.bridge=function(d,b){var f=b.prototype.widgetFullName||d;a.fn[d]=function(c){var e="string"==typeof c,l=q.call(arguments,1),g=this;return c=!e&&l.length?a.widget.extend.apply(null,[c].concat(l)):c,e?this.each(function(){var b,h=a.data(this,f);return"instance"===
c?(g=h,!1):h?a.isFunction(h[c])&&"_"!==c.charAt(0)?(b=h[c].apply(h,l),b!==h&&void 0!==b?(g=b&&b.jquery?g.pushStack(b.get()):b,!1):void 0):a.error("no such method '"+c+"' for "+d+" widget instance"):a.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+c+"'")}):this.each(function(){var d=a.data(this,f);d?(d.option(c||{}),d._init&&d._init()):a.data(this,f,new b(c,this))}),g}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",
widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,b){b=a(b||this.defaultElement||this)[0];this.element=a(b);this.uuid=t++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),d);this.bindings=a();this.hoverable=a();this.focusable=a();b!==this&&(a.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=a(b.style?
b.ownerDocument:b.document||b),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(d,b){var f,c,e,l=d;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof d)if(l={},f=d.split("."),d=f.shift(),f.length){c=l[d]=a.widget.extend({},this.options[d]);for(e=0;f.length-1>e;e++)c[f[e]]=c[f[e]]||{},c=c[f[e]];if(d=f.pop(),1===arguments.length)return void 0===
c[d]?null:c[d];c[d]=b}else{if(1===arguments.length)return void 0===this.options[d]?null:this.options[d];l[d]=b}return this._setOptions(l),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(d,b,f){var c,e=this;"boolean"!=typeof d&&(f=b,b=d,d=!1);f?(b=c=a(b),this.bindings=this.bindings.add(b)):(f=b,b=this.element,c=this.widget());a.each(f,function(f,l){function g(){return d||!0!==e.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof l?e[l]:l).apply(e,arguments):void 0}"string"!=typeof l&&(g.guid=l.guid=l.guid||g.guid||a.guid++);var k=f.match(/^([\w:-]*)\s*(.*)$/),u=k[1]+e.eventNamespace;(k=
k[2])?c.delegate(k,u,g):b.bind(u,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var f=this;return setTimeout(function(){return("string"==typeof a?f[a]:a).apply(f,arguments)},b||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(d){a(d.currentTarget).addClass("ui-state-hover")},mouseleave:function(d){a(d.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=
this.focusable.add(d);this._on(d,{focusin:function(d){a(d.currentTarget).addClass("ui-state-focus")},focusout:function(d){a(d.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(d,b,f){var c,e=this.options[d];if(f=f||{},b=a.Event(b),b.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase(),b.target=this.element[0],d=b.originalEvent)for(c in d)c in b||(b[c]=d[c]);return this.element.trigger(b,f),!(a.isFunction(e)&&!1===e.apply(this.element[0],[b].concat(f))||b.isDefaultPrevented())}};
a.each({show:"fadeIn",hide:"fadeOut"},function(d,b){a.Widget.prototype["_"+d]=function(f,c,e){"string"==typeof c&&(c={effect:c});var l,g=c?!0===c||"number"==typeof c?b:c.effect||b:d;c=c||{};"number"==typeof c&&(c={duration:c});l=!a.isEmptyObject(c);c.complete=e;c.delay&&f.delay(c.delay);l&&a.effects&&a.effects.effect[g]?f[d](c):g!==d&&f[g]?f[g](c.duration,c.easing,e):f.queue(function(b){a(this)[d]();e&&e.call(f[0]);b()})}});a.widget;var w=!1;a(document).mouseup(function(){w=!1});a.widget("ui.mouse",
{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(a){return d._mouseDown(a)}).bind("click."+this.widgetName,function(b){return!0===a.data(b.target,d.widgetName+".preventClickEvent")?(a.removeData(b.target,d.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&
this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!w){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var b=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=
!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(d),!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,
this._mouseUpDelegate),d.preventDefault(),w=!0,!0)):!0}},_mouseMove:function(d){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!d.button?this._mouseUp(d):d.which?this._mouseStarted?(this._mouseDrag(d),d.preventDefault()):(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,d),this._mouseStarted?this._mouseDrag(d):this._mouseUp(d)),!this._mouseStarted):this._mouseUp(d)},_mouseUp:function(d){return this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,d.target===this._mouseDownEvent.target&&a.data(d.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(d)),w=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function d(a,d,b){return[parseFloat(a[0])*(p.test(a[0])?d/100:1),parseFloat(a[1])*(p.test(a[1])?b/100:1)]}function b(d){var h=d[0];return 9===h.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:a.isWindow(h)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:h.preventDefault?{width:0,height:0,offset:{top:h.pageY,left:h.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),
offset:d.offset()}}a.ui=a.ui||{};var f,c,e=Math.max,l=Math.abs,g=Math.round,k=/left|center|right/,u=/top|center|bottom/,n=/[\+\-]\d+(\.[\d]+)?%?/,B=/^\w+/,p=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==f)return f;var d,b,h=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),c=h.children()[0];return a("body").append(h),d=c.offsetWidth,h.css("overflow","scroll"),b=c.offsetWidth,d===b&&
(b=h[0].clientWidth),h.remove(),f=d-b},getScrollInfo:function(d){var b=d.isWindow||d.isDocument?"":d.element.css("overflow-x"),h=d.isWindow||d.isDocument?"":d.element.css("overflow-y"),b="scroll"===b||"auto"===b&&d.width<d.element[0].scrollWidth;return{width:"scroll"===h||"auto"===h&&d.height<d.element[0].scrollHeight?a.position.scrollbarWidth():0,height:b?a.position.scrollbarWidth():0}},getWithinInfo:function(d){d=a(d||window);var b=a.isWindow(d[0]),h=!!d[0]&&9===d[0].nodeType;return{element:d,isWindow:b,
isDocument:h,offset:d.offset()||{left:0,top:0},scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:b||h?d.width():d.outerWidth(),height:b||h?d.height():d.outerHeight()}}};a.fn.position=function(f){if(!f||!f.of)return q.apply(this,arguments);f=a.extend({},f);var s,p,x,y,M,t,J=a(f.of),A=a.position.getWithinInfo(f.within),w=a.position.getScrollInfo(A),G=(f.collision||"flip").split(" "),X={};return t=b(J),J[0].preventDefault&&(f.at="left top"),p=t.width,x=t.height,y=t.offset,M=a.extend({},y),a.each(["my",
"at"],function(){var a,d,b=(f[this]||"").split(" ");1===b.length&&(b=k.test(b[0])?b.concat(["center"]):u.test(b[0])?["center"].concat(b):["center","center"]);b[0]=k.test(b[0])?b[0]:"center";b[1]=u.test(b[1])?b[1]:"center";a=n.exec(b[0]);d=n.exec(b[1]);X[this]=[a?a[0]:0,d?d[0]:0];f[this]=[B.exec(b[0])[0],B.exec(b[1])[0]]}),1===G.length&&(G[1]=G[0]),"right"===f.at[0]?M.left+=p:"center"===f.at[0]&&(M.left+=p/2),"bottom"===f.at[1]?M.top+=x:"center"===f.at[1]&&(M.top+=x/2),s=d(X.at,p,x),M.left+=s[0],M.top+=
s[1],this.each(function(){var b,h,k=a(this),u=k.outerWidth(),n=k.outerHeight(),B=parseInt(a.css(this,"marginLeft"),10)||0,m=parseInt(a.css(this,"marginTop"),10)||0,q=u+B+(parseInt(a.css(this,"marginRight"),10)||0)+w.width,t=n+m+(parseInt(a.css(this,"marginBottom"),10)||0)+w.height,H=a.extend({},M),F=d(X.my,k.outerWidth(),k.outerHeight());"right"===f.my[0]?H.left-=u:"center"===f.my[0]&&(H.left-=u/2);"bottom"===f.my[1]?H.top-=n:"center"===f.my[1]&&(H.top-=n/2);H.left+=F[0];H.top+=F[1];c||(H.left=g(H.left),
H.top=g(H.top));b={marginLeft:B,marginTop:m};a.each(["left","top"],function(d,h){a.ui.position[G[d]]&&a.ui.position[G[d]][h](H,{targetWidth:p,targetHeight:x,elemWidth:u,elemHeight:n,collisionPosition:b,collisionWidth:q,collisionHeight:t,offset:[s[0]+F[0],s[1]+F[1]],my:f.my,at:f.at,within:A,elem:k})});f.using&&(h=function(a){var d=y.left-H.left,b=d+p-u,h=y.top-H.top,c=h+x-n,r={target:{element:J,left:y.left,top:y.top,width:p,height:x},element:{element:k,left:H.left,top:H.top,width:u,height:n},horizontal:0>
b?"left":0<d?"right":"center",vertical:0>c?"top":0<h?"bottom":"middle"};u>p&&p>l(d+b)&&(r.horizontal="center");n>x&&x>l(h+c)&&(r.vertical="middle");r.important=e(l(d),l(b))>e(l(h),l(c))?"horizontal":"vertical";f.using.call(this,a,r)});k.offset(a.extend(H,{using:h}))})};a.ui.position={fit:{left:function(a,d){var b,h=d.within,f=h.isWindow?h.scrollLeft:h.offset.left,h=h.width,c=a.left-d.collisionPosition.marginLeft,l=f-c,r=c+d.collisionWidth-h-f;d.collisionWidth>h?0<l&&0>=r?(b=a.left+l+d.collisionWidth-
h-f,a.left+=l-b):a.left=0<r&&0>=l?f:l>r?f+h-d.collisionWidth:f:0<l?a.left+=l:0<r?a.left-=r:a.left=e(a.left-c,a.left)},top:function(a,d){var b,h=d.within,h=h.isWindow?h.scrollTop:h.offset.top,f=d.within.height,c=a.top-d.collisionPosition.marginTop,l=h-c,r=c+d.collisionHeight-f-h;d.collisionHeight>f?0<l&&0>=r?(b=a.top+l+d.collisionHeight-f-h,a.top+=l-b):a.top=0<r&&0>=l?h:l>r?h+f-d.collisionHeight:h:0<l?a.top+=l:0<r?a.top-=r:a.top=e(a.top-c,a.top)}},flip:{left:function(a,d){var b,h,f=d.within,c=f.offset.left+
f.scrollLeft,e=f.width,f=f.isWindow?f.scrollLeft:f.offset.left,r=a.left-d.collisionPosition.marginLeft,g=r-f,r=r+d.collisionWidth-e-f,k="left"===d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth:0,C="left"===d.at[0]?d.targetWidth:"right"===d.at[0]?-d.targetWidth:0,u=-2*d.offset[0];0>g?(b=a.left+k+C+u+d.collisionWidth-e-c,(0>b||l(g)>b)&&(a.left+=k+C+u)):0<r&&(h=a.left-d.collisionPosition.marginLeft+k+C+u-f,(0<h||r>l(h))&&(a.left+=k+C+u))},top:function(a,d){var b,h,f=d.within,c=f.offset.top+f.scrollTop,
e=f.height,f=f.isWindow?f.scrollTop:f.offset.top,r=a.top-d.collisionPosition.marginTop,g=r-f,r=r+d.collisionHeight-e-f,k="top"===d.my[1]?-d.elemHeight:"bottom"===d.my[1]?d.elemHeight:0,C="top"===d.at[1]?d.targetHeight:"bottom"===d.at[1]?-d.targetHeight:0,u=-2*d.offset[1];0>g?(h=a.top+k+C+u+d.collisionHeight-e-c,a.top+k+C+u>g&&(0>h||l(g)>h)&&(a.top+=k+C+u)):0<r&&(b=a.top-d.collisionPosition.marginTop+k+C+u-f,a.top+k+C+u>r&&(0<b||r>l(b))&&(a.top+=k+C+u))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,
arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var d,b,h,f,e=document.getElementsByTagName("body")[0];h=document.createElement("div");d=document.createElement(e?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&a.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in b)d.style[f]=b[f];d.appendChild(h);b=e||document.documentElement;
b.insertBefore(d,b.firstChild);h.style.cssText="position: absolute; left: 10.7432222px;";h=a(h).offset().left;c=10<h&&11>h;d.innerHTML="";b.removeChild(d)})()})();a.ui.position;a.widget("ui.draggable",a.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,
scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);"handle"===
a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(d){var b=this.document[0],f=this.options;try{b.activeElement&&"body"!==b.activeElement.nodeName.toLowerCase()&&a(b.activeElement).blur()}catch(c){}return this.helper||
f.disabled||0<a(d.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(d),this.handle?(a(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(d){var b=this.options;return this.helper=this._createHelper(d),this.helper.addClass("ui-draggable-dragging"),
this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:d.pageX-
this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(d,!1),this.originalPageX=d.pageX,this.originalPageY=d.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),!1===this._trigger("start",d)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d),this._mouseDrag(d,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,
d),!0)},_mouseDrag:function(d,b){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d,!0),this.positionAbs=this._convertPositionTo("absolute"),!b){var f=this._uiHash();if(!1===this._trigger("drag",d,f))return this._mouseUp({}),!1;this.position=f.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var b=
this,f=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,d)),this.dropped&&(f=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==b._trigger("stop",d)&&b._clear()}):!1!==this._trigger("stop",d)&&this._clear(),!1},_mouseUp:function(d){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,d),this.element.focus(),a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){return this.options.handle?!!a(d.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},
_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(d){var b=this.options;d=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(d){"string"==
typeof d&&(d=d.split(" "));a.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var d=this.offsetParent.offset(),
b=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=
this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||
0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,b,f,c=this.options,e=this.document[0];return this.relativeContainer=null,c.containment?"window"===c.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-
this.margins.left,a(window).scrollTop()+(a(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===c.containment?(this.containment=[0,0,a(e).width()-this.helperProportions.width-this.margins.left,(a(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):c.containment.constructor===Array?(this.containment=c.containment,void 0):("parent"===c.containment&&(c.containment=this.helper[0].parentNode),
b=a(c.containment),f=b[0],f&&(d="hidden"!==b.css("overflow"),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(d?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-
(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=b),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,b){b||(b=this.position);var f="absolute"===a?1:-1,c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*f,left:b.left+
this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*f}},_generatePosition:function(a,b){var f,c,e,l,g=this.options,k=this._isRootNode(this.scrollParent[0]),u=a.pageX,n=a.pageY;return k&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(c=this.relativeContainer.offset(),f=[this.containment[0]+c.left,this.containment[1]+
c.top,this.containment[2]+c.left,this.containment[3]+c.top]):f=this.containment,a.pageX-this.offset.click.left<f[0]&&(u=f[0]+this.offset.click.left),a.pageY-this.offset.click.top<f[1]&&(n=f[1]+this.offset.click.top),a.pageX-this.offset.click.left>f[2]&&(u=f[2]+this.offset.click.left),a.pageY-this.offset.click.top>f[3]&&(n=f[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,n=f?e-this.offset.click.top>=f[1]||
e-this.offset.click.top>f[3]?e:e-this.offset.click.top>=f[1]?e-g.grid[1]:e+g.grid[1]:e,l=g.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,u=f?l-this.offset.click.left>=f[0]||l-this.offset.click.left>f[2]?l:l-this.offset.click.left>=f[0]?l-g.grid[0]:l+g.grid[0]:l),"y"===g.axis&&(u=this.originalPageX),"x"===g.axis&&(n=this.originalPageY)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:
k?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:k?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(d,b,f){return f=f||this._uiHash(),a.ui.plugin.call(this,d,[b,
f,this],!0),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,b,f){var c=f.options,e=a.extend({},b,{item:f.element});f.sortables=[];a(c.connectToSortable).each(function(){var b=a(this).sortable("instance");b&&!b.options.disabled&&
(f.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",d,e))})},stop:function(d,b,f){var c=a.extend({},b,{item:f.element});a.each(f.sortables,function(){this.instance.isOver?(this.instance.isOver=0,f.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===f.options.helper&&this.instance.currentItem.css({top:"auto",
left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,c))})},drag:function(d,b,f){var c=this;a.each(f.sortables,function(){var e=!1,l=this;this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,a.each(f.sortables,function(){return this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,
this.instance.offset.click=f.offset.click,this!==l&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(l.instance.element[0],this.instance.element[0])&&(e=!1),e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},d.target=this.instance.currentItem[0],
this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=f.offset.click.top,this.instance.offset.click.left=f.offset.click.left,this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top,f._trigger("toSortable",d),f.dropped=this.instance.element,f.currentItem=f.element,this.instance.fromOutside=f),this.instance.currentItem&&this.instance._mouseDrag(d)):
this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),f._trigger("fromSortable",d),f.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(d,b,f){d=a("body");f=f.options;
d.css("cursor")&&(f._cursor=d.css("cursor"));d.css("cursor",f.cursor)},stop:function(d,b,f){d=f.options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,b,f){d=a(b.helper);f=f.options;d.css("opacity")&&(f._opacity=d.css("opacity"));d.css("opacity",f.opacity)},stop:function(d,b,f){d=f.options;d._opacity&&a(b.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(a,b,f){f.scrollParentNotHidden||(f.scrollParentNotHidden=
f.helper.scrollParent(!1));f.scrollParentNotHidden[0]!==f.document[0]&&"HTML"!==f.scrollParentNotHidden[0].tagName&&(f.overflowOffset=f.scrollParentNotHidden.offset())},drag:function(d,b,f){b=f.options;var c=!1,e=f.scrollParentNotHidden[0],l=f.document[0];e!==l&&"HTML"!==e.tagName?(b.axis&&"x"===b.axis||(f.overflowOffset.top+e.offsetHeight-d.pageY<b.scrollSensitivity?e.scrollTop=c=e.scrollTop+b.scrollSpeed:d.pageY-f.overflowOffset.top<b.scrollSensitivity&&(e.scrollTop=c=e.scrollTop-b.scrollSpeed)),
b.axis&&"y"===b.axis||(f.overflowOffset.left+e.offsetWidth-d.pageX<b.scrollSensitivity?e.scrollLeft=c=e.scrollLeft+b.scrollSpeed:d.pageX-f.overflowOffset.left<b.scrollSensitivity&&(e.scrollLeft=c=e.scrollLeft-b.scrollSpeed))):(b.axis&&"x"===b.axis||(d.pageY-a(l).scrollTop()<b.scrollSensitivity?c=a(l).scrollTop(a(l).scrollTop()-b.scrollSpeed):a(window).height()-(d.pageY-a(l).scrollTop())<b.scrollSensitivity&&(c=a(l).scrollTop(a(l).scrollTop()+b.scrollSpeed))),b.axis&&"y"===b.axis||(d.pageX-a(l).scrollLeft()<
b.scrollSensitivity?c=a(l).scrollLeft(a(l).scrollLeft()-b.scrollSpeed):a(window).width()-(d.pageX-a(l).scrollLeft())<b.scrollSensitivity&&(c=a(l).scrollLeft(a(l).scrollLeft()+b.scrollSpeed))));!1!==c&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(f,d)}});a.ui.plugin.add("draggable","snap",{start:function(d,b,f){d=f.options;f.snapElements=[];a(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var d=a(this),b=d.offset();this!==f.element[0]&&f.snapElements.push({item:this,
width:d.outerWidth(),height:d.outerHeight(),top:b.top,left:b.left})})},drag:function(d,b,f){var c,e,l,g,k,u,n,B,p,q,y=f.options,s=y.snapTolerance,v=b.offset.left,x=v+f.helperProportions.width,t=b.offset.top,M=t+f.helperProportions.height;for(p=f.snapElements.length-1;0<=p;p--)k=f.snapElements[p].left,u=k+f.snapElements[p].width,n=f.snapElements[p].top,B=n+f.snapElements[p].height,k-s>x||v>u+s||n-s>M||t>B+s||!a.contains(f.snapElements[p].item.ownerDocument,f.snapElements[p].item)?(f.snapElements[p].snapping&&
f.options.snap.release&&f.options.snap.release.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[p].item})),f.snapElements[p].snapping=!1):("inner"!==y.snapMode&&(c=s>=Math.abs(n-M),e=s>=Math.abs(B-t),l=s>=Math.abs(k-x),g=s>=Math.abs(u-v),c&&(b.position.top=f._convertPositionTo("relative",{top:n-f.helperProportions.height,left:0}).top-f.margins.top),e&&(b.position.top=f._convertPositionTo("relative",{top:B,left:0}).top-f.margins.top),l&&(b.position.left=f._convertPositionTo("relative",
{top:0,left:k-f.helperProportions.width}).left-f.margins.left),g&&(b.position.left=f._convertPositionTo("relative",{top:0,left:u}).left-f.margins.left)),q=c||e||l||g,"outer"!==y.snapMode&&(c=s>=Math.abs(n-t),e=s>=Math.abs(B-M),l=s>=Math.abs(k-v),g=s>=Math.abs(u-x),c&&(b.position.top=f._convertPositionTo("relative",{top:n,left:0}).top-f.margins.top),e&&(b.position.top=f._convertPositionTo("relative",{top:B-f.helperProportions.height,left:0}).top-f.margins.top),l&&(b.position.left=f._convertPositionTo("relative",
{top:0,left:k}).left-f.margins.left),g&&(b.position.left=f._convertPositionTo("relative",{top:0,left:u-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[p].snapping&&(c||e||l||g||q)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[p].item})),f.snapElements[p].snapping=c||e||l||g||q)}});a.ui.plugin.add("draggable","stack",{start:function(d,b,f){var c;d=a.makeArray(a(f.options.stack)).sort(function(d,b){return(parseInt(a(d).css("zIndex"),
10)||0)-(parseInt(a(b).css("zIndex"),10)||0)});d.length&&(c=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(d){a(this).css("zIndex",c+d)}),this.css("zIndex",c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,b,f){d=a(b.helper);f=f.options;d.css("zIndex")&&(f._zIndex=d.css("zIndex"));d.css("zIndex",f.zIndex)},stop:function(d,b,f){d=f.options;d._zIndex&&a(b.helper).css("zIndex",d._zIndex)}});a.ui.draggable;a.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",
options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d,b=this.options,f=b.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(f)?f:function(a){return a.is(f)};this.proportions=function(){return arguments.length?(d=arguments[0],void 0):d?d:d={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(b.scope);b.addClasses&&
this.element.addClass("ui-droppable")},_addToManager:function(d){a.ui.ddmanager.droppables[d]=a.ui.ddmanager.droppables[d]||[];a.ui.ddmanager.droppables[d].push(this)},_splice:function(a){for(var b=0;a.length>b;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){this._splice(a.ui.ddmanager.droppables[this.options.scope]);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,b){"accept"===d?this.accept=a.isFunction(b)?b:function(a){return a.is(b)}:"scope"===d&&(this._splice(a.ui.ddmanager.droppables[this.options.scope]),
this._addToManager(b));this._super(d,b)},_activate:function(d){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",d,this.ui(b))},_deactivate:function(d){var b=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",d,this.ui(b))},_over:function(d){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],
b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(b)))},_out:function(d){var b=a.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(b)))},_drop:function(d,b){var f=b||a.ui.ddmanager.current,c=!1;return f&&(f.currentItem||f.element)[0]!==
this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a(this).droppable("instance");return b.options.greedy&&!b.options.disabled&&b.options.scope===f.options.scope&&b.accept.call(b.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(b,{offset:b.element.offset()}),b.options.tolerance,d)?(c=!0,!1):void 0}),c?!1:this.accept.call(this.element[0],f.currentItem||f.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),
this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",d,this.ui(f)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(){return function(a,b,f,c){if(!b.offset)return!1;var e=(a.positionAbs||a.position.absolute).left,l=(a.positionAbs||a.position.absolute).top,g=e+a.helperProportions.width,k=l+a.helperProportions.height,u=b.offset.left,n=b.offset.top,
B=u+b.proportions().width,p=n+b.proportions().height;switch(f){case "fit":return e>=u&&B>=g&&l>=n&&p>=k;case "intersect":return e+a.helperProportions.width/2>u&&B>g-a.helperProportions.width/2&&l+a.helperProportions.height/2>n&&p>k-a.helperProportions.height/2;case "pointer":a=c.pageY;f=b.proportions().height;if(n=a>=n&&n+f>a)c=c.pageX,b=b.proportions().width,n=c>=u&&u+b>c;return n;case "touch":return(l>=n&&p>=l||k>=n&&p>=k||n>l&&k>p)&&(e>=u&&B>=e||g>=u&&B>=g||u>e&&g>B);default:return!1}}}();a.ui.ddmanager=
{current:null,droppables:{"default":[]},prepareOffsets:function(d,b){var f,c,e=a.ui.ddmanager.droppables[d.options.scope]||[],l=b?b.type:null,g=(d.currentItem||d.element).find(":data(ui-droppable)").addBack();f=0;a:for(;e.length>f;f++)if(!(e[f].options.disabled||d&&!e[f].accept.call(e[f].element[0],d.currentItem||d.element))){for(c=0;g.length>c;c++)if(g[c]===e[f].element[0]){e[f].proportions().height=0;continue a}e[f].visible="none"!==e[f].element.css("display");e[f].visible&&("mousedown"===l&&e[f]._activate.call(e[f],
b),e[f].offset=e[f].element.offset(),e[f].proportions({width:e[f].element[0].offsetWidth,height:e[f].element[0].offsetHeight}))}},drop:function(d,b){var f=!1;return a.each((a.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance,b)&&(f=this._drop.call(this,b)||f),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=!0,this.isover=!1,
this._deactivate.call(this,b)))}),f},dragStart:function(d,b){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,b)})},drag:function(d,b){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,b);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,c,e,l=a.ui.intersect(d,this,this.options.tolerance,b);(l=!l&&this.isover?"isout":l&&!this.isover?
"isover":null)&&(this.options.greedy&&(c=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===c}),e.length&&(f=a(e[0]).droppable("instance"),f.greedyChild="isover"===l)),f&&"isover"===l&&(f.isover=!1,f.isout=!0,f._out.call(f,b)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,b),f&&"isout"===l&&(f.isout=!1,f.isover=!0,f._over.call(f,b)))}})},dragStop:function(d,b){d.element.parentsUntil("body").unbind("scroll.droppable");
d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,b)}};a.ui.droppable;a.widget("ui.resizable",a.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,
10))},_hasScroll:function(d,b){if("hidden"===a(d).css("overflow"))return!1;var f=b&&"left"===b?"scrollLeft":"scrollTop",c=!1;return 0<d[f]?!0:(d[f]=1,c=0<d[f],d[f]=0,c)},_create:function(){var d,b,f,c,e,l=this,g=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&
(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),
marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||(a(".ui-resizable-handle",this.element).length?
{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},b=0;d.length>b;b++)f=a.trim(d[b]),e="ui-resizable-"+f,c=a("<div class='ui-resizable-handle "+e+"'></div>"),c.css({zIndex:g.zIndex}),"se"===f&&c.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
this.handles[f]=".ui-resizable-"+f,this.element.append(c);this._renderAxis=function(d){var b,h,f,c;d=d||this.element;for(b in this.handles)this.handles[b].constructor===String&&(this.handles[b]=this.element.children(this.handles[b]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(h=a(this.handles[b],this.element),c=/sw|ne|nw|se|n|s/.test(b)?h.outerHeight():h.outerWidth(),f=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":
/^e$/.test(b)?"Right":"Left"].join(""),d.css(f,c),this._proportionallyResize()),a(this.handles[b]).length};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){l.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=c&&c[1]?c[1]:"se")});g.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||(a(this).removeClass("ui-resizable-autohide"),
l._handles.show())}).mouseleave(function(){g.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var d,b=function(d){a(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),d=this.element,this.originalElement.css({position:d.css("position"),
width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d),d.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(d){var b,f,c=!1;for(b in this.handles)f=a(this.handles[b])[0],(f===d.target||a.contains(f,d.target))&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(d){var b,f,c,e=this.options,l=this.element;return this.resizing=!0,this._renderProxy(),b=this._num(this.helper.css("left")),
f=this._num(this.helper.css("top")),e.containment&&(b+=a(e.containment).scrollLeft()||0,f+=a(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalPosition=
{left:b,top:f},this.originalMousePosition={left:d.pageX,top:d.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,c=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===c?this.axis+"-resize":c),l.addClass("ui-resizable-resizing"),this._propagate("start",d),!0},_mouseDrag:function(d){var b,f,c=this.originalMousePosition,e=d.pageX-c.left||0,c=d.pageY-c.top||0,l=this._change[this.axis];return this._updatePrevProperties(),
l?(b=l.apply(this,[d,e,c]),this._updateVirtualBoundaries(d.shiftKey),(this._aspectRatio||d.shiftKey)&&(b=this._updateRatio(b,d)),b=this._respectSize(b,d),this._updateCache(b),this._propagate("resize",d),f=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(f)||(this._updatePrevProperties(),this._trigger("resize",d,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(d){this.resizing=!1;var b,f,c,e,l,g,k,u=this.options;
return this._helper&&(b=this._proportionallyResizeElements,f=b.length&&/textarea/i.test(b[0].nodeName),c=f&&this._hasScroll(b[0],"left")?0:this.sizeDiff.height,e=f?0:this.sizeDiff.width,l={width:this.helper.width()-e,height:this.helper.height()-c},g=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,k=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(a.extend(l,{top:k,left:g})),this.helper.height(this.size.height),
this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",d),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+
"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,f,c,e,l;l=this.options;l={minWidth:this._isNumber(l.minWidth)?l.minWidth:0,maxWidth:this._isNumber(l.maxWidth)?l.maxWidth:1/0,minHeight:this._isNumber(l.minHeight)?l.minHeight:0,maxHeight:this._isNumber(l.maxHeight)?
l.maxHeight:1/0};(this._aspectRatio||a)&&(b=l.minHeight*this.aspectRatio,c=l.minWidth/this.aspectRatio,f=l.maxHeight*this.aspectRatio,e=l.maxWidth/this.aspectRatio,b>l.minWidth&&(l.minWidth=b),c>l.minHeight&&(l.minHeight=c),l.maxWidth>f&&(l.maxWidth=f),l.maxHeight>e&&(l.maxHeight=e));this._vBoundaries=l},_updateCache:function(a){this.offset=this.helper.offset();this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=
a.height);this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,f=this.size,c=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===c&&(a.left=b.left+(f.width-a.width),a.top=null),"nw"===c&&(a.top=b.top+(f.height-a.height),a.left=b.left+(f.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,f=this.axis,c=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<
a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,l=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,n=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);return l&&(a.width=b.minWidth),g&&(a.height=b.minHeight),c&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),l&&n&&(a.left=k-b.minWidth),c&&n&&(a.left=k-b.maxWidth),g&&f&&(a.top=u-b.minHeight),
e&&f&&(a.top=u-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){var b=0,f=[],c=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)f[b]=parseInt(c[b],10)||0,f[b]+=parseInt(a[b],10)||0;return{height:f[0]+f[2],width:f[1]+f[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,
b=0,f=this.helper||this.element;this._proportionallyResizeElements.length>b;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:f.height()-this.outerDimensions.height||0,width:f.width()-this.outerDimensions.width||0})},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(a,b,f){return{height:this.originalSize.height+
f}},se:function(d,b,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,b,f]))},sw:function(d,b,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,b,f]))},ne:function(d,b,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,b,f]))},nw:function(d,b,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,b,f]))}},_propagate:function(d,b){a.ui.plugin.call(this,d,[b,this.ui()]);
"resize"!==d&&this._trigger(d,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(d){var b=a(this).resizable("instance"),f=b.options,c=b._proportionallyResizeElements,e=c.length&&/textarea/i.test(c[0].nodeName),l=e&&b._hasScroll(c[0],"left")?0:b.sizeDiff.height,e={width:b.size.width-
(e?0:b.sizeDiff.width),height:b.size.height-l},l=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,g=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate(a.extend(e,g&&l?{top:g,left:l}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),
10)};c&&c.length&&a(c[0]).css({width:f.width,height:f.height});b._updateCache(f);b._propagate("resize",d)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var d,b,f,c,e,l,g,k=a(this).resizable("instance"),u=k.element,n=k.options.containment;(u=n instanceof a?n.get(0):/parent/.test(n)?u.parent().get(0):n)&&(k.containerElement=a(u),/document/.test(n)||n===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(d=a(u),b=[],a(["Top","Right","Left","Bottom"]).each(function(a,f){b[a]=k._num(d.css("padding"+f))}),k.containerOffset=d.offset(),k.containerPosition=d.position(),k.containerSize={height:d.innerHeight()-b[3],width:d.innerWidth()-b[1]},f=k.containerOffset,c=k.containerSize.height,e=k.containerSize.width,l=k._hasScroll(u,"left")?u.scrollWidth:e,g=k._hasScroll(u)?u.scrollHeight:c,k.parentData={element:u,left:f.left,top:f.top,width:l,
height:g}))},resize:function(d){var b,f,c,e=a(this).resizable("instance");b=e.options;f=e.containerOffset;c=e.position;d=e._aspectRatio||d.shiftKey;var l={top:0,left:0},g=e.containerElement,k=!0;g[0]!==document&&/static/.test(g.css("position"))&&(l=f);c.left<(e._helper?f.left:0)&&(e.size.width+=e._helper?e.position.left-f.left:e.position.left-l.left,d&&(e.size.height=e.size.width/e.aspectRatio,k=!1),e.position.left=b.helper?f.left:0);c.top<(e._helper?f.top:0)&&(e.size.height+=e._helper?e.position.top-
f.top:e.position.top,d&&(e.size.width=e.size.height*e.aspectRatio,k=!1),e.position.top=e._helper?f.top:0);b=e.containerElement.get(0)===e.element.parent().get(0);c=/relative|absolute/.test(e.containerElement.css("position"));b&&c?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top);b=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-l.left:e.offset.left-f.left));f=Math.abs(e.sizeDiff.height+
(e._helper?e.offset.top-l.top:e.offset.top-f.top));b+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-b,d&&(e.size.height=e.size.width/e.aspectRatio,k=!1));f+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-f,d&&(e.size.width=e.size.height*e.aspectRatio,k=!1));k||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var d=a(this).resizable("instance"),b=d.options,
f=d.containerOffset,c=d.containerPosition,e=d.containerElement,l=a(d.helper),g=l.offset(),k=l.outerWidth()-d.sizeDiff.width,l=l.outerHeight()-d.sizeDiff.height;d._helper&&!b.animate&&/relative/.test(e.css("position"))&&a(this).css({left:g.left-c.left-f.left,width:k,height:l});d._helper&&!b.animate&&/static/.test(e.css("position"))&&a(this).css({left:g.left-c.left-f.left,width:k,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var d=a(this).resizable("instance").options,b=function(d){a(d).each(function(){var d=
a(this);d.data("ui-resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?b(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],b(d.alsoResize)):a.each(d.alsoResize,function(a){b(a)})},resize:function(d,b){var f=a(this).resizable("instance"),c=f.options,e=f.originalSize,l=f.originalPosition,g={height:f.size.height-e.height||0,width:f.size.width-
e.width||0,top:f.position.top-l.top||0,left:f.position.left-l.left||0},k=function(d,f){a(d).each(function(){var d=a(this),c=a(this).data("ui-resizable-alsoresize"),e={},l=f&&f.length?f:d.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(l,function(a,d){var b=(c[d]||0)+(g[d]||0);b&&0<=b&&(e[d]=b||null)});d.css(e)})};"object"!=typeof c.alsoResize||c.alsoResize.nodeType?k(c.alsoResize):a.each(c.alsoResize,function(a,d){k(a,d)})},stop:function(){a(this).removeData("resizable-alsoresize")}});
a.ui.plugin.add("resizable","ghost",{start:function(){var d=a(this).resizable("instance"),b=d.options,f=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=a(this).resizable("instance");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},
stop:function(){var d=a(this).resizable("instance");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var d,b=a(this).resizable("instance"),f=b.options,c=b.size,e=b.originalSize,l=b.originalPosition,g=b.axis,k="number"==typeof f.grid?[f.grid,f.grid]:f.grid,u=k[0]||1,n=k[1]||1,B=Math.round((c.width-e.width)/u)*u,c=Math.round((c.height-e.height)/n)*n,p=e.width+B,q=e.height+c,y=f.maxWidth&&p>f.maxWidth,s=f.maxHeight&&q>f.maxHeight,
v=f.minWidth&&f.minWidth>p,t=f.minHeight&&f.minHeight>q;f.grid=k;v&&(p+=u);t&&(q+=n);y&&(p-=u);s&&(q-=n);/^(se|s|e)$/.test(g)?(b.size.width=p,b.size.height=q):/^(ne)$/.test(g)?(b.size.width=p,b.size.height=q,b.position.top=l.top-c):/^(sw)$/.test(g)?(b.size.width=p,b.size.height=q,b.position.left=l.left-B):((0>=q-n||0>=p-u)&&(d=b._getPaddingPlusBorderDimensions(this)),0<q-n?(b.size.height=q,b.position.top=l.top-c):(q=n-d.height,b.size.height=q,b.position.top=l.top+e.height-q),0<p-u?(b.size.width=p,
b.position.left=l.left-B):(p=n-d.height,b.size.width=p,b.position.left=l.left+e.width-p))}});a.ui.resizable;var y,A=function(){var d=a(this);setTimeout(function(){d.find(":ui-button").button("refresh")},1)},l=function(d){var b=d.name,f=d.form,c=a([]);return b&&(b=b.replace(/'/g,"\\'"),c=f?a(f).find("[name='"+b+"'][type=radio]"):a("[name='"+b+"'][type=radio]",d.ownerDocument).filter(function(){return!this.form})),c};a.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,
text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,A);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var d=this,b=this.options,f="checkbox"===this.type||"radio"===this.type,c=f?"":"ui-state-active";null===
b.label&&(b.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===y&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||a(this).removeClass(c)}).bind("click"+this.eventNamespace,function(a){b.disabled&&(a.preventDefault(),
a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});f&&this.element.bind("change"+this.eventNamespace,function(){d.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return b.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1;a(this).addClass("ui-state-active");
d.buttonElement.attr("aria-pressed","true");var f=d.element[0];l(f).not(f).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return b.disabled?!1:(a(this).addClass("ui-state-active"),y=this,d.document.one("mouseup",function(){y=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return b.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+
this.eventNamespace,function(d){return b.disabled?!1:((d.keyCode===a.ui.keyCode.SPACE||d.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(d){d.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",b.disabled);this._resetButton()},_determineButtonType:function(){var a,b,f;this.type=
this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),f=this.element.is(":checked"),
f&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",f)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var d=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
d!==this.options.disabled&&this._setOption("disabled",d);"radio"===this.type?l(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var d=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),b=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(d.empty()).text(),f=this.options.icons,c=f.primary&&f.secondary,e=[];f.primary||f.secondary?(this.options.text&&
e.push("ui-button-text-icon"+(c?"s":f.primary?"-primary":"-secondary")),f.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(e.push(c?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||d.attr("title",a.trim(b)))):e.push("ui-button-text-only");d.addClass(e.join(" "))}});a.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var d="rtl"===this.element.css("direction"),b=this.element.find(this.options.items),f=b.filter(":ui-button");b.not(":ui-button").button();f.button("refresh");this.buttons=b.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(d?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(d?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});a.ui.button;a.extend(a.ui,{datepicker:{version:"1.11.1"}});var u;a.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return p(this._defaults,
a||{}),this},_attachDatepicker:function(d,b){var f,c,e;f=d.nodeName.toLowerCase();c="div"===f||"span"===f;d.id||(this.uuid+=1,d.id="dp"+this.uuid);e=this._newInst(a(d),c);e.settings=a.extend({},b||{});"input"===f?this._connectDatepicker(d,e):c&&this._inlineDatepicker(d,e)},_newInst:function(d,b){return{id:d[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:d,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?n(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(d,b){var f=a(d);b.append=a([]);b.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,b),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(b),a.data(d,"datepicker",b),b.settings.disabled&&this._disableDatepicker(d))},_attachments:function(d,b){var f,c,e;f=this._get(b,"appendText");var l=this._get(b,"isRTL");b.append&&b.append.remove();f&&(b.append=a("<span class='"+this._appendClass+
"'>"+f+"</span>"),d[l?"before":"after"](b.append));d.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();f=this._get(b,"showOn");"focus"!==f&&"both"!==f||d.focus(this._showDatepicker);"button"!==f&&"both"!==f||(c=this._get(b,"buttonText"),e=this._get(b,"buttonImage"),b.trigger=a(this._get(b,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:e,alt:c,title:c}):a("<button type='button'></button>").addClass(this._triggerClass).html(e?a("<img/>").attr({src:e,alt:c,title:c}):
c)),d[l?"before":"after"](b.trigger),b.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===d[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==d[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(d[0])):a.datepicker._showDatepicker(d[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,f,c,e,l=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(e=
c=f=0;a.length>e;e++)a[e].length>f&&(f=a[e].length,c=e);return c},l.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay()));a.input.attr("size",this._formatDate(a,l).length)}},_inlineDatepicker:function(d,b){var f=a(d);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(b.dpDiv),a.data(d,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),
b.settings.disabled&&this._disableDatepicker(d),b.dpDiv.css("display","block"))},_dialogDatepicker:function(d,b,f,c,e){var l,g,k,u,n;d=this._dialogInst;return d||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},a.data(this._dialogInput[0],"datepicker",d)),p(d.settings,
c||{}),b=b&&b.constructor===Date?this._formatDate(d,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(g=document.documentElement.clientWidth,k=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[g/2-100+u,k/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(d){var b,f=a(d),c=a.data(d,"datepicker");f.hasClass(this.markerClassName)&&(b=d.nodeName.toLowerCase(),a.removeData(d,"datepicker"),"input"===b?(c.append.remove(),c.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===b||"span"===b)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(d){var b,f,c=a(d),e=a.data(d,"datepicker");c.hasClass(this.markerClassName)&&(b=d.nodeName.toLowerCase(),"input"===b?(d.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===b||"span"===b)&&(f=c.children("."+this._inlineClass),f.children().removeClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===d?null:a}))},_disableDatepicker:function(d){var b,f,c=a(d),e=a.data(d,"datepicker");c.hasClass(this.markerClassName)&&(b=d.nodeName.toLowerCase(),"input"===b?(d.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===b||"span"===b)&&(f=c.children("."+this._inlineClass),f.children().addClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===d?null:a}),this._disabledInputs[this._disabledInputs.length]=d)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(d){try{return a.data(d,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(d,b,f){var c,e,l,g,k=this._getInst(d);return 2===arguments.length&&"string"==
typeof b?"defaults"===b?a.extend({},a.datepicker._defaults):k?"all"===b?a.extend({},k.settings):this._get(k,b):null:(c=b||{},"string"==typeof b&&(c={},c[b]=f),k&&(this._curInst===k&&this._hideDatepicker(),e=this._getDateDatepicker(d,!0),l=this._getMinMaxDate(k,"min"),g=this._getMinMaxDate(k,"max"),p(k.settings,c),null!==l&&void 0!==c.dateFormat&&void 0===c.minDate&&(k.settings.minDate=this._formatDate(k,l)),null!==g&&void 0!==c.dateFormat&&void 0===c.maxDate&&(k.settings.maxDate=this._formatDate(k,
g)),"disabled"in c&&(c.disabled?this._disableDatepicker(d):this._enableDatepicker(d)),this._attachments(a(d),k),this._autoSize(k),this._setDate(k,e),this._updateAlternate(k),this._updateDatepicker(k)),void 0)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,
b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,f,e,l=a.datepicker._getInst(b.target),g=!0,k=l.dpDiv.is(".ui-datepicker-rtl");if(l._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",l.dpDiv),e[0]&&a.datepicker._selectDay(b.target,l.selectedMonth,l.selectedYear,e[0]),
c=a.datepicker._get(l,"onSelect"),c?(f=a.datepicker._formatDate(l),c.apply(l.input?l.input[0]:null,[f,l])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,k?1:-1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(l,"stepBigMonths"):-a.datepicker._get(l,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,k?-1:1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(l,"stepBigMonths"):+a.datepicker._get(l,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,f,e=a.datepicker._getInst(b.target);
return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!c||-1<c.indexOf(f)):void 0},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(f){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,f,l,g,k,u;c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));f=(f=a.datepicker._get(c,"beforeShow"))?
f.apply(b,[b,c]):{};!1!==f&&(p(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),l=!1,a(b).parents().each(function(){return l|="fixed"===a(this).css("position"),!l}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(c),g=a.datepicker._checkOffset(c,g,l),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":l?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),c.inline||(k=a.datepicker._get(c,"showAnim"),u=a.datepicker._get(c,"duration"),c.dpDiv.css("z-index",e(a(b))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[k]?c.dpDiv.show(k,a.datepicker._get(c,"showOptions"),u):c.dpDiv[k||"show"](k?u:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),
a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4;u=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);var c,f=this._getNumberOfMonths(b),e=f[1],l=b.dpDiv.find("."+this._dayOverClass+" a");0<l.length&&k.apply(l.get(0));b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<e&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em");b.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,
c,f){var e=b.dpDiv.outerWidth(),l=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,k=b.input?b.input.outerHeight():0,u=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),n=document.documentElement.clientHeight+(f?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=f&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=f&&c.top===b.input.offset().top+k?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>u&&u>e?Math.abs(c.left+e-u):
0),c.top-=Math.min(c.top,c.top+l>n&&n>l?Math.abs(l+k):0),c},_findPos:function(b){for(var c,f=this._getInst(b),f=this._get(f,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[f?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,f,e,l,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),f=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||
a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),f,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?f:null,e),c||e(),this._datepickerShowing=!1,l=this._get(g,"onClose"),l&&l.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(b[0].id!==a.datepicker._mainDivId&&0===b.parents("#"+a.datepicker._mainDivId).length&&!(b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,f){b=a(b);var e=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(e,c+("M"===f?this._get(e,"showCurrentAtPos"):0),f),this._updateDatepicker(e))},_gotoToday:function(b){var c;b=a(b);var f=this._getInst(b[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=f.currentYear):(c=new Date,f.selectedDay=c.getDate(),f.drawMonth=f.selectedMonth=c.getMonth(),f.drawYear=f.selectedYear=c.getFullYear());this._notifyChange(f);
this._adjustDate(b)},_selectMonthYear:function(b,c,f){b=a(b);var e=this._getInst(b[0]);e["selected"+("M"===f?"Month":"Year")]=e["draw"+("M"===f?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(b)},_selectDay:function(b,c,f,e){var l,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(l=this._getInst(g[0]),l.selectedDay=l.currentDay=a("a",e).html(),l.selectedMonth=l.currentMonth=c,l.selectedYear=l.currentYear=f,this._selectDate(b,
this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){var f;f=a(b);var e=this._getInst(f[0]);c=null!=c?c:this._formatDate(e);e.input&&e.input.val(c);this._updateAlternate(e);(f=this._get(e,"onSelect"))?f.apply(e.input?e.input[0]:null,[c,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var c,f,e,l=this._get(b,"altField");l&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),e=this.formatDate(c,f,this._getFormatConfig(b)),a(l).each(function(){a(this).val(e)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,c,
f){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?""+c:c+"",""===c)return null;var e,l,g,k,u=0,n=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff,n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10),B=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,p=(f?f.dayNames:null)||this._defaults.dayNames,q=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort;f=(f?f.monthNames:null)||this._defaults.monthNames;var y=-1,t=-1,s=-1,v=-1,x=!1,A=function(a){a=
b.length>e+1&&b.charAt(e+1)===a;return a&&e++,a},M=function(a){var b=A(a),b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=c.substring(u).match(a);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},w=function(b,d,f){var e=-1;b=a.map(A(b)?f:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(b,function(a,b){var d=b[1];return c.substr(u,d.length).toLowerCase()===d.toLowerCase()?(e=
b[0],u+=d.length,!1):void 0}),-1!==e)return e+1;throw"Unknown name at position "+u;},J=function(){if(c.charAt(u)!==b.charAt(e))throw"Unexpected literal at position "+u;u++};for(e=0;b.length>e;e++)if(x)"'"!==b.charAt(e)||A("'")?J():x=!1;else switch(b.charAt(e)){case "d":s=M("d");break;case "D":w("D",B,p);break;case "o":v=M("o");break;case "m":t=M("m");break;case "M":t=w("M",q,f);break;case "y":y=M("y");break;case "@":k=new Date(M("@"));y=k.getFullYear();t=k.getMonth()+1;s=k.getDate();break;case "!":k=
new Date((M("!")-this._ticksTo1970)/1E4);y=k.getFullYear();t=k.getMonth()+1;s=k.getDate();break;case "'":A("'")?J():x=!0;break;default:J()}if(c.length>u&&(g=c.substr(u),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===y?y=(new Date).getFullYear():100>y&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=y?0:-100)),-1<v)for(t=1,s=v;!(l=this._getDaysInMonth(y,t-1),l>=s);)t++,s-=l;if(k=this._daylightSavingAdjust(new Date(y,t-1,s)),k.getFullYear()!==y||k.getMonth()+
1!==t||k.getDate()!==s)throw"Invalid date";return k},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var e,l=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,k=(c?
c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var u=function(b){b=a.length>e+1&&a.charAt(e+1)===b;return b&&e++,b},n=function(a,b,d){b=""+b;if(u(a))for(;d>b.length;)b="0"+b;return b},B=function(a,b,d,c){return u(a)?c[b]:d[b]},p="",q=!1;if(b)for(e=0;a.length>e;e++)if(q)"'"!==a.charAt(e)||u("'")?p+=a.charAt(e):q=!1;else switch(a.charAt(e)){case "d":p+=n("d",b.getDate(),2);break;case "D":p+=B("D",b.getDay(),l,g);break;case "o":p+=n("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":p+=n("m",b.getMonth()+1,2);break;case "M":p+=B("M",b.getMonth(),k,c);break;case "y":p+=u("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":p+=b.getTime();break;case "!":p+=1E4*b.getTime()+this._ticksTo1970;break;case "'":u("'")?p+="'":q=!0;break;default:p+=a.charAt(e)}return p},_possibleChars:function(a){var b,c="",e=!1,l=function(c){c=a.length>b+1&&a.charAt(b+1)===
c;return c&&b++,c};for(b=0;a.length>b;b++)if(e)"'"!==a.charAt(b)||l("'")?c+=a.charAt(b):e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":l("'")?c+="'":e=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,l=this._getDefaultDate(a),
g=l,k=this._getFormatConfig(a);try{g=this.parseDate(c,e,k)||l}catch(u){e=b?"":e}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=e?g.getDate():0;a.currentMonth=e?g.getMonth():0;a.currentYear=e?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,f){var e=function(a){var b=new Date;return b.setDate(b.getDate()+
a),b},l=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(f){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,h=e.getFullYear(),l=e.getMonth(),e=e.getDate(),g=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=g.exec(c);k;){switch(k[2]||"d"){case "d":case "D":e+=parseInt(k[1],10);break;case "w":case "W":e+=7*parseInt(k[1],10);break;case "m":case "M":l+=parseInt(k[1],10);e=Math.min(e,a.datepicker._getDaysInMonth(h,
l));break;case "y":case "Y":h+=parseInt(k[1],10),e=Math.min(e,a.datepicker._getDaysInMonth(h,l))}k=g.exec(c)}return new Date(h,l,e)};c=null==c||""===c?f:"string"==typeof c?l(c):"number"==typeof c?isNaN(c)?f:e(c):new Date(c.getTime());return c=c&&"Invalid Date"==""+c?f:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var e=
!b,l=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();l===a.selectedMonth&&g===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),f="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(f,-c,"M")},next:function(){a.datepicker._adjustDate(f,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(f)},selectDay:function(){return a.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(f,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(f,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,e,l,g,k,u,n,p,B,q,y,t,s,v,x,A,M,w,J,S,I,ha,X,ia,ga,fa,Y=new Date,Y=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),O=this._get(a,"isRTL");k=this._get(a,"showButtonPanel");e=this._get(a,"hideIfNoPrevNext");g=this._get(a,"navigationAsDateFormat");
var K=this._getNumberOfMonths(a),m=this._get(a,"showCurrentAtPos");l=this._get(a,"stepMonths");var pa=1!==K[0]||1!==K[1],ua=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),ka=this._getMinMaxDate(a,"min"),ba=this._getMinMaxDate(a,"max"),m=a.drawMonth-m,V=a.drawYear;if(0>m&&(m+=12,V--),ba)for(b=this._daylightSavingAdjust(new Date(ba.getFullYear(),ba.getMonth()-K[0]*K[1]+1,ba.getDate())),b=ka&&ka>b?ka:b;this._daylightSavingAdjust(new Date(V,
m,1))>b;)m--,0>m&&(m=11,V--);a.drawMonth=m;a.drawYear=V;b=this._get(a,"prevText");b=g?this.formatDate(b,this._daylightSavingAdjust(new Date(V,m-l,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,V,m)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(O?"e":"w")+"'>"+b+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(O?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=g?this.formatDate(c,this._daylightSavingAdjust(new Date(V,m+l,1)),this._getFormatConfig(a)):c;e=this._canAdjustMonth(a,1,V,m)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(O?"w":"e")+"'>"+c+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(O?"w":
"e")+"'>"+c+"</span></a>";l=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?ua:Y;l=g?this.formatDate(l,c,this._getFormatConfig(a)):l;g=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";k=k?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(O?g:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
l+"</button>":"")+(O?"":g)+"</div>":"";g=parseInt(this._get(a,"firstDay"),10);g=isNaN(g)?0:g;l=this._get(a,"showWeek");c=this._get(a,"dayNames");u=this._get(a,"dayNamesMin");n=this._get(a,"monthNames");p=this._get(a,"monthNamesShort");B=this._get(a,"beforeShowDay");q=this._get(a,"showOtherMonths");y=this._get(a,"selectOtherMonths");t=this._getDefaultDate(a);s="";for(x=0;K[0]>x;x++){A="";this.maxRows=4;for(M=0;K[1]>M;M++){if(w=this._daylightSavingAdjust(new Date(V,m,a.selectedDay)),v=" ui-corner-all",
J="",pa){if(J+="<div class='ui-datepicker-group",1<K[1])switch(M){case 0:J+=" ui-datepicker-group-first";v=" ui-corner-"+(O?"right":"left");break;case K[1]-1:J+=" ui-datepicker-group-last";v=" ui-corner-"+(O?"left":"right");break;default:J+=" ui-datepicker-group-middle",v=""}J+="'>"}J+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+v+"'>"+(/all|left/.test(v)&&0===x?O?e:b:"")+(/all|right/.test(v)&&0===x?O?b:e:"")+this._generateMonthYearHeader(a,m,V,ka,ba,0<x||0<M,n,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
S=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(v=0;7>v;v++)I=(v+g)%7,S+="<th scope='col'"+(5<=(v+g+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[I]+"'>"+u[I]+"</span></th>";J+=S+"</tr></thead><tbody>";S=this._getDaysInMonth(V,m);V===a.selectedYear&&m===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));v=(this._getFirstDayOfMonth(V,m)-g+7)%7;S=Math.ceil((v+S)/7);this.maxRows=S=pa?this.maxRows>S?this.maxRows:S:S;I=this._daylightSavingAdjust(new Date(V,
m,1-v));for(ha=0;S>ha;ha++){J+="<tr>";X=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"";for(v=0;7>v;v++)ia=B?B.apply(a.input?a.input[0]:null,[I]):[!0,""],fa=(ga=I.getMonth()!==m)&&!y||!ia[0]||ka&&ka>I||ba&&I>ba,X+="<td class='"+(5<=(v+g+6)%7?" ui-datepicker-week-end":"")+(ga?" ui-datepicker-other-month":"")+(I.getTime()===w.getTime()&&m===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===w.getTime()?" "+this._dayOverClass:"")+(fa?" "+this._unselectableClass+
" ui-state-disabled":"")+(ga&&!q?"":" "+ia[1]+(I.getTime()===ua.getTime()?" "+this._currentClass:"")+(I.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(ga&&!q||!ia[2]?"":" title='"+ia[2].replace(/'/g,"&#39;")+"'")+(fa?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(ga&&!q?"&#xa0;":fa?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===Y.getTime()?" ui-state-highlight":"")+
(I.getTime()===ua.getTime()?" ui-state-active":"")+(ga?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);J+=X+"</tr>"}m++;11<m&&(m=0,V++);J+="</tbody></table>"+(pa?"</div>"+(0<K[0]&&M===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");A+=J}s+=A}return s+=k,a._keyEvent=!1,s},_generateMonthYearHeader:function(a,b,c,e,l,g,k,u){var n,p,B,q=this._get(a,"changeMonth"),y=this._get(a,"changeYear"),t=this._get(a,"showMonthAfterYear"),
s="<div class='ui-datepicker-title'>",v="";if(g||!q)v+="<span class='ui-datepicker-month'>"+k[b]+"</span>";else{k=e&&e.getFullYear()===c;n=l&&l.getFullYear()===c;v+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(p=0;12>p;p++)(!k||p>=e.getMonth())&&(!n||l.getMonth()>=p)&&(v+="<option value='"+p+"'"+(p===b?" selected='selected'":"")+">"+u[p]+"</option>");v+="</select>"}if(t||(s+=v+(!g&&q&&y?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",g||!y)s+="<span class='ui-datepicker-year'>"+
c+"</span>";else{u=this._get(a,"yearRange").split(":");B=(new Date).getFullYear();k=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?B+parseInt(a,10):parseInt(a,10);return isNaN(a)?B:a};b=k(u[0]);u=Math.max(b,k(u[1]||""));b=e?Math.max(b,e.getFullYear()):b;u=l?Math.min(u,l.getFullYear()):u;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";u>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";s+=a.yearshtml;a.yearshtml=null}return s+=this._get(a,"yearSuffix"),t&&(s+=(!g&&q&&y?"":"&#xa0;")+v),s+="</div>"},_adjustInstDate:function(a,b,c){var e=a.drawYear+("Y"===c?b:0),l=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,l))+("D"===c?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,l,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();"M"!==
c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),e=this._getMinMaxDate(a,"max"),c=c&&c>b?c:b;return e&&c>e?e:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var l=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(0>b?b:l[0]*l[1]),1));return 0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c,e,l=this._getMinMaxDate(a,"min"),g=this._getMinMaxDate(a,"max"),k=null,u=null,n=
this._get(a,"yearRange");return n&&(c=n.split(":"),e=(new Date).getFullYear(),k=parseInt(c[0],10),u=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(k+=e),c[1].match(/[+\-].*/)&&(u+=e)),(!l||b.getTime()>=l.getTime())&&(!g||b.getTime()<=g.getTime())&&(!k||b.getFullYear()>=k)&&(!u||u>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;
a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+
b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))};a.datepicker=new g;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.11.1";a.datepicker;a.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,
minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,
minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,f=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(c=
this.document[0].activeElement)&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var f=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),e=Math.max.apply(null,e);return e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),f=!0),f&&!c&&this._trigger("focus",
b),f},open:function(){var b=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;
a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),this.close(b),void 0;if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),f=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==f[0]&&b.target!==
this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.focus()}),b.preventDefault()):(this._delay(function(){f.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),
this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(a.each(c,function(c,e){var l,h;e=a.isFunction(e)?{click:e,text:c}:e;e=a.extend({type:"button"},e);l=e.click;e.click=function(){l.apply(b.element[0],arguments)};h={icons:e.icons,text:e.showText};delete e.icons;delete e.showText;a("<button></button>",e).button(h).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),
void 0)},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,e){a(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",f,b(e))},drag:function(a,f){c._trigger("drag",a,b(f))},stop:function(e,l){var g=l.offset.left-c.document.scrollLeft(),k=l.offset.top-c.document.scrollTop();
f.position={my:"left top",at:"left"+(0<=g?"+":"")+g+" top"+(0<=k?"+":"")+k,of:c.window};a(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",e,b(l))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,f=this.options,e=f.resizable,l=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",
alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:e,start:function(f,e){a(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",f,b(e))},resize:function(a,f){c._trigger("resize",a,b(f))},stop:function(e,l){var g=c.uiDialog.offset(),k=g.left-c.document.scrollLeft(),g=g.top-c.document.scrollTop();f.height=c.uiDialog.height();f.width=c.uiDialog.width();f.position={my:"left top",at:"left"+(0<=k?"+":"")+k+
" top"+(0<=g?"+":"")+g,of:c.window};a(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",e,b(l))}}).css("position",l)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=
this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var c=this,f=!1,e={};a.each(b,function(a,b){c._setOption(a,b);a in c.sizeRelatedOptions&&(f=!0);a in c.resizableRelatedOptions&&
(e[a]=b)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,e,l=this.uiDialog;"dialogClass"===a&&l.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=l.is(":data(ui-draggable)"),c&&!b&&l.draggable("destroy"),
!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(e=l.is(":data(ui-resizable)"),e&&!b&&l.resizable("destroy"),e&&"string"==typeof b&&l.resizable("option","handles",b),e||!1===b||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});e.minWidth>e.width&&(e.width=e.minWidth);a=this.uiDialog.css({height:"auto",
width:e.width}).outerHeight();b=Math.max(0,e.minHeight-a);c="number"==typeof e.maxHeight?Math.max(0,e.maxHeight-a):"none";"auto"===e.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),
height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||
(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");
this.overlay.remove();this.overlay=null}}});var B=a;a.effects={effect:{}};(function(a,b){function c(a,b,d){var e=B[b.type]||{};return null==a?d||!b.def?null:b.def:(a=e.floor?~~a:parseFloat(a),isNaN(a)?b.def:e.mod?(a+e.mod)%e.mod:0>a?0:a>e.max?e.max:a)}function e(c){var f=n(),l=f._rgba=[];return c=c.toLowerCase(),t(u,function(a,d){var e,g=d.re.exec(c),g=g&&d.parse(g),k=d.space||"rgba";return g?(e=f[k](g),f[p[k].cache]=e[p[k].cache],l=f._rgba=e._rgba,!1):b}),l.length?("0,0,0,0"===l.join()&&a.extend(l,
g.transparent),f):g[c]}function l(a,b,d){return d=(d+1)%1,1>6*d?a+6*(b-a)*d:1>2*d?b:2>3*d?a+6*(b-a)*(2/3-d):a}var g,k=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],n=a.Color=function(b,c,e,f){return new a.Color.fn.parse(b,c,e,f)},p={rgba:{props:{red:{idx:0,type:"byte"},
green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},B={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=n.support={},y=a("<p>")[0],t=a.each;y.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<y.style.backgroundColor.indexOf("rgba");t(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});n.fn=a.extend(n.prototype,{parse:function(l,k,u,B){if(l===
b)return this._rgba=[null,null,null,null],this;(l.jquery||l.nodeType)&&(l=a(l).css(k),k=b);var q=this,y=a.type(l),A=this._rgba=[];return k!==b&&(l=[l,k,u,B],y="array"),"string"===y?this.parse(e(l)||g._default):"array"===y?(t(p.rgba.props,function(a,b){A[b.idx]=c(l[b.idx],b)}),this):"object"===y?(l instanceof n?t(p,function(a,b){l[b.cache]&&(q[b.cache]=l[b.cache].slice())}):t(p,function(b,e){var h=e.cache;t(e.props,function(a,b){if(!q[h]&&e.to){if("alpha"===a||null==l[a])return;q[h]=e.to(q._rgba)}q[h][b.idx]=
c(l[a],b,!0)});q[h]&&0>a.inArray(null,q[h].slice(0,3))&&(q[h][3]=1,e.from&&(q._rgba=e.from(q[h])))}),this):b},is:function(a){var d=n(a),c=!0,e=this;return t(p,function(a,f){var l,g=d[f.cache];return g&&(l=e[f.cache]||f.to&&f.to(e._rgba)||[],t(f.props,function(a,d){return null!=g[d.idx]?c=g[d.idx]===l[d.idx]:b})),c}),c},_space:function(){var a=[],b=this;return t(p,function(d,c){b[c.cache]&&a.push(d)}),a.pop()},transition:function(a,b){var d=n(a),e=d._space(),l=p[e],h=0===this.alpha()?n("transparent"):
this,g=h[l.cache]||l.to(h._rgba),k=g.slice();return d=d[l.cache],t(l.props,function(a,e){var l=e.idx,h=g[l],u=d[l],n=B[e.type]||{};null!==u&&(null===h?k[l]=u:(n.mod&&(u-h>n.mod/2?h+=n.mod:h-u>n.mod/2&&(h-=n.mod)),k[l]=c((u-h)*b+h,e)))}),this[e](k)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),e=c.pop(),f=n(b)._rgba;return n(a.map(c,function(a,b){return(1-e)*f[b]+e*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});
return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),e=c.pop();return b&&c.push(~~(255*e)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});n.fn.parse.prototype=
n.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,d,c=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var l=Math.max(c,e,f),h=Math.min(c,e,f),g=l-h,k=l+h,u=0.5*k;return b=h===l?0:c===l?60*(e-f)/g+360:e===l?60*(f-c)/g+120:60*(c-e)/g+240,d=0===g?0:0.5>=u?g/k:g/(2-k),[Math.round(b)%360,d,u,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],c=a[2];a=a[3];d=0.5>=c?c*(1+d):c+d-c*d;c=2*c-d;return[Math.round(255*
l(c,d,b+1/3)),Math.round(255*l(c,d,b)),Math.round(255*l(c,d,b-1/3)),a]};t(p,function(e,l){var g=l.props,u=l.cache,r=l.to,p=l.from;n.fn[e]=function(e){if(r&&!this[u]&&(this[u]=r(this._rgba)),e===b)return this[u].slice();var l,k=a.type(e),B="array"===k||"object"===k?e:arguments,q=this[u].slice();return t(g,function(a,b){var d=B["object"===k?a:b.idx];null==d&&(d=q[b.idx]);q[b.idx]=c(d,b)}),p?(l=n(p(q)),l[u]=q,l):n(q)};t(g,function(b,c){n.fn[b]||(n.fn[b]=function(f){var l,h=a.type(f),g="alpha"===b?this._hsla?
"hsla":"rgba":e,u=this[g](),n=u[c.idx];return"undefined"===h?n:("function"===h&&(f=f.call(this,n),h=a.type(f)),null==f&&c.empty?this:("string"===h&&(l=k.exec(f),l&&(f=n+parseFloat(l[2])*("+"===l[1]?1:-1))),u[c.idx]=f,this[g](u)))})})});n.hook=function(b){b=b.split(" ");t(b,function(b,c){a.cssHooks[c]={set:function(b,f){var l,h="";if("transparent"!==f&&("string"!==a.type(f)||(l=e(f)))){if(f=n(l||f),!q.rgba&&1!==f._rgba[3]){for(l="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&l&&
l.style;)try{h=a.css(l,"backgroundColor"),l=l.parentNode}catch(g){}f=f.blend(h&&"transparent"!==h?h:"_default")}f=f.toRgbaString()}try{b.style[c]=f}catch(k){}}};a.fx.step[c]=function(b){b.colorInit||(b.start=n(b.elem,c),b.end=n(b.end),b.colorInit=!0);a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};n.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(a){var b={};return t(["Top","Right","Bottom","Left"],function(d,c){b["border"+c+"Color"]=a}),b}};g=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(B);(function(){function b(d){var c,e=d.ownerDocument.defaultView?
d.ownerDocument.defaultView.getComputedStyle(d,null):d.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}var c=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(a){("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(B.style(a.elem,d,a.end),a.setAttr=!0)}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(l,g,k,u){var n=a.speed(g,k,u);return this.queue(function(){var g,k=a(this),u=k.attr("class")||"",p=n.children?k.find("*").addBack():k,p=p.map(function(){return{el:a(this),start:b(this)}});g=function(){a.each(c,function(a,b){l[b]&&k[b+"Class"](l[b])})};g();p=p.map(function(){this.end=
b(this.el[0]);var c=this.start,l=this.end,h,g,k={};for(h in l)g=l[h],c[h]!==g&&(e[h]||(a.fx.step[h]||!isNaN(parseFloat(g)))&&(k[h]=g));return this.diff=k,this});k.attr("class",u);p=p.map(function(){var b=this,d=a.Deferred(),c=a.extend({},n,{queue:!1,complete:function(){d.resolve(b)}});return this.el.animate(this.diff,c),d.promise()});a.when.apply(a,p.get()).done(function(){g();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});n.complete.call(k[0])})})};a.fn.extend({addClass:function(b){return function(d,
c,e,f){return c?a.effects.animateClass.call(this,{add:d},c,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(d,c,e,f){return 1<arguments.length?a.effects.animateClass.call(this,{remove:d},c,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(d,c,e,f,l){return"boolean"==typeof c||void 0===c?e?a.effects.animateClass.call(this,c?{add:d}:{remove:d},e,f,l):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},c,e,f)}}(a.fn.toggleClass),
switchClass:function(b,d,c,e,f){return a.effects.animateClass.call(this,{add:d,remove:b},c,e,f)}})})();(function(){function b(d,c,e,l){return a.isPlainObject(d)&&(c=d,d=d.effect),d={effect:d},null==c&&(c={}),a.isFunction(c)&&(l=c,e=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(l=e,e=c,c={}),a.isFunction(e)&&(l=e,e=null),c&&a.extend(d,c),e=e||c.duration,d.duration=a.fx.off?0:"number"==typeof e?e:e in a.fx.speeds?a.fx.speeds[e]:a.fx.speeds._default,d.complete=l||c.complete,d}function c(b){return!b||
"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.11.1",save:function(a,b){for(var d=0;b.length>d;d++)null!==b[d]&&a.data("ui-effects-"+b[d],a[0].style[b[d]])},restore:function(a,b){var d,c;for(c=0;b.length>c;c++)null!==b[c]&&(d=a.data("ui-effects-"+b[c]),void 0===d&&(d=""),a.css(b[c],d))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){var d,c;switch(a[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=a[0]/b.height}switch(a[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=a[1]/b.width}return{x:c,y:d}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var d={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},c=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},l=document.activeElement;try{l.id}catch(h){l=document.body}return b.wrap(c),(b[0]===l||a.contains(b[0],l))&&a(l).focus(),c=b.parent(),"static"===b.css("position")?(c.css({position:"relative"}),b.css({position:"relative"})):(a.extend(d,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,c){d[c]=b.css(c);isNaN(parseInt(d[c],10))&&(d[c]="auto")}),b.css({position:"relative",top:0,
left:0,right:"auto",bottom:"auto"})),b.css(e),c.css(d).show()},removeWrapper:function(b){var d=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus()),b},setTransition:function(b,d,c,e){return e=e||{},a.each(d,function(a,d){var l=b.cssUnit(d);0<l[0]&&(e[d]=l[0]*c+l[1])}),e}});a.fn.extend({effect:function(){function c(b){function d(){a.isFunction(l)&&l.call(f[0]);a.isFunction(b)&&b()}var f=a(this),l=e.complete,h=e.mode;
(f.is(":hidden")?"hide"===h:"show"===h)?(f[h](),d()):g.call(f[0],e,d)}var e=b.apply(this,arguments),l=e.mode,h=e.queue,g=a.effects.effect[e.effect];return a.fx.off||!g?l?this[l](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===h?this.each(c):this.queue(h||"fx",c)},show:function(a){return function(e){if(c(e))return a.apply(this,arguments);var l=b.apply(this,arguments);return l.mode="show",this.effect.call(this,l)}}(a.fn.show),hide:function(a){return function(e){if(c(e))return a.apply(this,
arguments);var l=b.apply(this,arguments);return l.mode="hide",this.effect.call(this,l)}}(a.fn.hide),toggle:function(a){return function(e){if(c(e)||"boolean"==typeof e)return a.apply(this,arguments);var l=b.apply(this,arguments);return l.mode="toggle",this.effect.call(this,l)}}(a.fn.toggle),cssUnit:function(b){var d=this.css(b),c=[];return a.each(["em","px","%","pt"],function(a,b){0<d.indexOf(b)&&(c=[parseFloat(d),b])}),c}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,
c){b[c]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,d=4;((b=Math.pow(2,--d))-1)/11>a;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,d){a.easing["easeIn"+b]=d;a.easing["easeOut"+b]=function(a){return 1-
d(1-a)};a.easing["easeInOut"+b]=function(a){return 0.5>a?d(2*a)/2:1-d(-2*a+2)/2}})})();a.effects;a.effects.effect.fade=function(b,c){var e=a(this),l=a.effects.setMode(e,b.mode||"toggle");e.animate({opacity:l},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}});
!function(){function a(a){return a.replace(/,/g,".").replace(/[^0-9\.]/g,"")}var b,c=null,e="0.0.0",g=null,n=null,k=null,p={},t=0,q={},w=0,y={},A=null,l=null,u=function(){var a,b,d,c,e="ZeroClipboard.swf";if(!document.currentScript||!(c=document.currentScript.src)){var f=document.getElementsByTagName("script");if("readyState"in f[0])for(a=f.length;a--&&("interactive"!==f[a].readyState||!(c=f[a].src)););else if("loading"===document.readyState)c=f[f.length-1].src;else{for(a=f.length;a--;){if(d=f[a].src,
!d){b=null;break}if(d=d.split("#")[0].split("?")[0],d=d.slice(0,d.lastIndexOf("/")+1),null==b)b=d;else if(b!==d){b=null;break}}null!==b&&(c=b)}}return c&&(c=c.split("#")[0].split("?")[0],e=c.slice(0,c.lastIndexOf("/")+1)+e),e}(),B=function(){var a=/\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(d){return d.replace(a,b)}}(),d=function(a){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement);E.activate(b)},h=function(a,b){if(!a||1!==a.nodeType)return a;
if(a.classList)return a.classList.contains(b)||a.classList.add(b),a;if(b&&"string"==typeof b){var d=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var c=" "+a.className+" ",e=a.className,f=0,l=d.length;l>f;f++)0>c.indexOf(" "+d[f]+" ")&&(e+=" "+d[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},f=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)&&a.classList.remove(b),a;if(b&&"string"==typeof b||void 0===b){var d=(b||"").split(/\s+/);
if(1===a.nodeType&&a.className)if(b){for(var c=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=d.length;f>e;e++)c=c.replace(" "+d[e]+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},r=function(a,b,d){if("function"==typeof b.indexOf)return b.indexOf(a,d);var c=b.length;for("undefined"==typeof d?d=0:0>d&&(d=c+d);c>d;d++)if(b.hasOwnProperty(d)&&b[d]===a)return d;return-1},C=function(a){if("string"==typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");
return a.length?a:[a]},Q=function(a,b,d,c){c?window.setTimeout(function(){a.apply(b,d)},0):a.apply(b,d)},R=function(a){var b,d;return a&&("number"==typeof a&&0<a?b=a:"string"==typeof a&&(d=parseInt(a,10))&&!isNaN(d)&&0<d&&(b=d)),b||("number"==typeof s.zIndex&&0<s.zIndex?b=s.zIndex:"string"==typeof s.zIndex&&(d=parseInt(s.zIndex,10))&&!isNaN(d)&&0<d&&(b=d)),b||0},F=function(a,b){if(a&&!1!==b&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var d="`"+a+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";
console.warn?console.warn(d):console.log(d)}},U=function(){var a,b,d,c,e,f=arguments[0]||{};a=1;for(b=arguments.length;b>a;a++)if(null!=(d=arguments[a]))for(c in d)d.hasOwnProperty(c)&&(e=d[c],f!==e)&&void 0!==e&&(f[c]=e);return f},aa=function(a){if(null==a||""===a||(a=a.replace(/^\s+|\s+$/g,""),""===a))return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var d=a.indexOf("/");return a=-1===d?a:-1===b||0===d?null:a.slice(0,d),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},W=function(){var a=
function(a,b){var d,c,e;if(null!=a&&"*"!==b[0]&&("string"==typeof a&&(a=[a]),"object"==typeof a&&"length"in a))for(d=0,c=a.length;c>d;d++)if(a.hasOwnProperty(d)&&(e=aa(a[d]))){if("*"===e){b.length=0;b.push("*");break}-1===r(e,b)&&b.push(e)}},b={always:"always",samedomain:"sameDomain",never:"never"};return function(d,c){var e,f=c.allowScriptAccess;if("string"==typeof f&&(e=f.toLowerCase())&&/^always|samedomain|never$/.test(e))return b[e];e=aa(c.moviePath);null===e&&(e=d);f=[];a(c.trustedOrigins,f);
a(c.trustedDomains,f);var l=f.length;if(0<l){if(1===l&&"*"===f[0])return"always";if(-1!==r(d,f))return 1===l&&d===e?"sameDomain":"always"}return"never"}}(),G=function(a){if(null==a)return[];if(Object.keys)return Object.keys(a);var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(d);return b},da=function(){var a=!1;if("boolean"==typeof g)a=!1===g;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){}!a&&navigator.mimeTypes["application/x-shockwave-flash"]&&
(a=!0)}return a},E=function(a,b){var d;if(this instanceof E){this.id=""+t++;q[this.id]={instance:this,elements:[],handlers:{}};a&&this.clip(a);"undefined"!=typeof b&&(F("new ZeroClipboard(elements, options)",s.debug),E.config(b));this.options=E.config();"boolean"!=typeof g&&(g=!da());if(!1===g&&!0!==n&&null===c){k=n=!1;var e,f=document.getElementById("global-zeroclipboard-html-bridge");if(!f){var h=E.config();h.jsModuleId="string"==typeof A&&A||"string"==typeof l&&l||null;var f=W(window.location.host,
s),u,p,B=[],r=[],y=[];if(h.trustedOrigins&&("string"==typeof h.trustedOrigins?r.push(h.trustedOrigins):"object"==typeof h.trustedOrigins&&"length"in h.trustedOrigins&&(r=r.concat(h.trustedOrigins))),h.trustedDomains&&("string"==typeof h.trustedDomains?r.push(h.trustedDomains):"object"==typeof h.trustedDomains&&"length"in h.trustedDomains&&(r=r.concat(h.trustedDomains))),r.length)for(u=0,p=r.length;p>u;u++)if(r.hasOwnProperty(u)&&r[u]&&"string"==typeof r[u]&&(e=aa(r[u]),e)){if("*"===e){y=[e];break}y.push.apply(y,
[e,"//"+e,window.location.protocol+"//"+e])}e=(y.length&&B.push("trustedOrigins="+encodeURIComponent(y.join(","))),"string"==typeof h.jsModuleId&&h.jsModuleId&&B.push("jsModuleId="+encodeURIComponent(h.jsModuleId)),B.join("&"));h=s.moviePath+(null==s||s&&!0===s.cacheBust&&!0===s.useNoCache?(-1===s.moviePath.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():"");e='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+
h+'"/>         <param name="allowScriptAccess" value="'+f+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+e+'"/>         <embed src="'+h+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+
f+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+e+'"           scale="exactfit">         </embed>       </object>';f=document.createElement("div");f.id="global-zeroclipboard-html-bridge";f.setAttribute("class","global-zeroclipboard-container");f.style.position="absolute";f.style.left="0px";f.style.top="-9999px";f.style.width="15px";f.style.height=
"15px";f.style.zIndex=""+R(s.zIndex);document.body.appendChild(f);f.innerHTML=e}(e=document["global-zeroclipboard-flash-bridge"])&&(d=e.length)&&(e=e[d-1]);c=e||f.children[0].lastElementChild}d=void 0}else d=new E(a,b);return d};E.prototype.setText=function(a){return a&&""!==a&&(p["text/plain"]=a,!0===k&&c&&c.setText(a)),this};E.prototype.setSize=function(a,b){return!0===k&&c&&c.setSize(a,b),this};E.prototype.destroy=function(){this.unclip();this.off();delete q[this.id]};E.version="1.3.2";var s={swfPath:u,
trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};E.config=function(a){"object"==typeof a&&null!==a&&U(s,a);if("string"!=typeof a||!a){a={};for(var b in s)s.hasOwnProperty(b)&&(a[b]="object"==typeof s[b]&&null!==s[b]?"length"in s[b]?s[b].slice(0):U({},s[b]):s[b]);return a}if(s.hasOwnProperty(a))return s[a]};E.destroy=function(){E.deactivate();for(var a in q)if(q.hasOwnProperty(a)&&q[a]){var b=q[a].instance;
b&&"function"==typeof b.destroy&&b.destroy()}(a=v(c))&&a.parentNode&&(a.parentNode.removeChild(a),k=null,c=null)};E.activate=function(a){b&&(f(b,s.hoverClass),f(b,s.activeClass));b=a;h(a,s.hoverClass);x();var d=s.title||a.getAttribute("title");if(d){var e=v(c);e&&e.setAttribute("title",d)}if(!(d=!0===s.forceHandCursor))var l,g,u,d="pointer"===(window.getComputedStyle?l=window.getComputedStyle(a,null).getPropertyValue("cursor"):(g=B("cursor"),l=a.currentStyle?a.currentStyle[g]:a.style[g]),l&&"auto"!==
l||(u=a.tagName.toLowerCase(),"a"!==u)?l:"pointer");!0===k&&c&&c.setHandCursor(d)};E.deactivate=function(){var a=v(c);a&&(a.style.left="0px",a.style.top="-9999px",a.removeAttribute("title"));b&&(f(b,s.hoverClass),f(b,s.activeClass),b=null)};var v=function(a){var b=/^OBJECT|EMBED$/;for(a=a&&a.parentNode;a&&b.test(a.nodeName)&&a.parentNode;)a=a.parentNode;return a||null},x=function(){if(b){var a=b,d=0,e=0,f=0,l=0,h=R(s.zIndex)-1;if(a.getBoundingClientRect){var g,u,l=a.getBoundingClientRect();if("pageXOffset"in
window&&"pageYOffset"in window)g=window.pageXOffset,u=window.pageYOffset;else{var n,e=1,d=("function"==typeof document.body.getBoundingClientRect&&(g=document.body.getBoundingClientRect(),u=g.right-g.left,n=document.body.offsetWidth,e=Math.round(100*(u/n))/100),e);g=Math.round(document.documentElement.scrollLeft/d);u=Math.round(document.documentElement.scrollTop/d)}n=document.documentElement.clientTop||0;d=l.left+g-(document.documentElement.clientLeft||0);e=l.top+u-n;f="width"in l?l.width:l.right-
l.left;l="height"in l?l.height:l.bottom-l.top}(g=v(c))&&(g.style.top=e+"px",g.style.left=d+"px",g.style.width=f+"px",g.style.height=l+"px",g.style.zIndex=h+1);!0===k&&c&&c.setSize(f,l)}return this};E.prototype.on=function(a,b){var d,c,f,l={},h=q[this.id]&&q[this.id].handlers;if("string"==typeof a&&a)f=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(d in a)a.hasOwnProperty(d)&&"string"==typeof d&&d&&"function"==typeof a[d]&&this.on(d,a[d]);if(f&&f.length){d=0;
for(c=f.length;c>d;d++)a=f[d].replace(/^on/,""),l[a]=!0,h[a]||(h[a]=[]),h[a].push(b);l.noflash&&g&&z.call(this,"noflash",{});l.wrongflash&&n&&z.call(this,"wrongflash",{flashVersion:e});l.load&&k&&z.call(this,"load",{flashVersion:e})}return this};E.prototype.off=function(a,b){var d,c,e,f,l,h=q[this.id]&&q[this.id].handlers;if(0===arguments.length)f=G(h);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(d in a)a.hasOwnProperty(d)&&"string"==typeof d&&
d&&"function"==typeof a[d]&&this.off(d,a[d]);if(f&&f.length)for(d=0,c=f.length;c>d;d++)if(a=f[d].toLowerCase().replace(/^on/,""),l=h[a],l&&l.length)if(b)for(e=r(b,l);-1!==e;)l.splice(e,1),e=r(b,l,e);else h[a].length=0;return this};E.prototype.handlers=function(a){var b,d=null,c=q[this.id]&&q[this.id].handlers;if(c){if("string"==typeof a&&a)return c[a]?c[a].slice(0):null;d={};for(b in c)c.hasOwnProperty(b)&&c[b]&&(d[b]=c[b].slice(0))}return d};E.prototype.clip=function(a){a=C(a);for(var b=0;b<a.length;b++)if(a.hasOwnProperty(b)&&
a[b]&&1===a[b].nodeType){if(a[b].zcClippingId)-1===r(this.id,y[a[b].zcClippingId])&&y[a[b].zcClippingId].push(this.id);else if(a[b].zcClippingId="zcClippingId_"+w++,y[a[b].zcClippingId]=[this.id],!0===s.autoActivate){var c=a[b],e=d;c&&1===c.nodeType&&(c.addEventListener?c.addEventListener("mouseover",e,!1):c.attachEvent&&c.attachEvent("onmouseover",e))}c=q[this.id].elements;-1===r(a[b],c)&&c.push(a[b])}return this};E.prototype.unclip=function(a){var b=q[this.id];if(b){var c,b=b.elements;a="undefined"==
typeof a?b.slice(0):C(a);for(var e=a.length;e--;)if(a.hasOwnProperty(e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=r(a[e],b,c));)b.splice(c,1);var f=y[a[e].zcClippingId];if(f){for(c=0;-1!==(c=r(this.id,f,c));)f.splice(c,1);0===f.length&&(!0===s.autoActivate&&(c=a[e],f=d,c&&1===c.nodeType&&(c.removeEventListener?c.removeEventListener("mouseover",f,!1):c.detachEvent&&c.detachEvent("onmouseover",f))),delete a[e].zcClippingId)}}}return this};E.prototype.elements=function(){var a=q[this.id];return a&&a.elements?
a.elements.slice(0):[]};s.hoverClass="zeroclipboard-is-hover";s.activeClass="zeroclipboard-is-active";s.trustedOrigins=null;s.allowScriptAccess=null;s.useNoCache=!0;s.moviePath="ZeroClipboard.swf";E.detectFlashSupport=function(){return F("ZeroClipboard.detectFlashSupport",s.debug),da()};E.dispatch=function(a,d){if("string"==typeof a&&a){var c=a.toLowerCase().replace(/^on/,"");if(c){var e;if(b){var f,l,h,g=[];if(b&&1===b.nodeType&&(f=b.zcClippingId)&&y.hasOwnProperty(f)&&(e=y[f],e&&e.length))for(f=
0,l=e.length;l>f;f++)(h=q[e[f]].instance)&&h instanceof E&&g.push(h);e=g}else{l=[];h=G(q);e=0;for(g=h.length;g>e;e++)(f=q[h[e]].instance)&&f instanceof E&&l.push(f);e=l}g=0;for(f=e.length;f>g;g++)z.call(e[g],c,d)}}};E.prototype.setHandCursor=function(a){F("ZeroClipboard.prototype.setHandCursor",s.debug);a="boolean"==typeof a?a:!!a;!0===k&&c&&c.setHandCursor(a);return s.forceHandCursor=a,this};E.prototype.reposition=function(){return F("ZeroClipboard.prototype.reposition",s.debug),x()};E.prototype.receiveEvent=
function(a,b){if(F("ZeroClipboard.prototype.receiveEvent",s.debug),"string"==typeof a&&a){var d=a.toLowerCase().replace(/^on/,"");d&&z.call(this,d,b)}};E.prototype.setCurrent=function(a){return F("ZeroClipboard.prototype.setCurrent",s.debug),E.activate(a),this};E.prototype.resetBridge=function(){return F("ZeroClipboard.prototype.resetBridge",s.debug),E.deactivate(),this};E.prototype.setTitle=function(a){if(F("ZeroClipboard.prototype.setTitle",s.debug),a=a||s.title||b&&b.getAttribute("title")){var d=
v(c);d&&d.setAttribute("title",a)}return this};E.setDefaults=function(a){F("ZeroClipboard.setDefaults",s.debug);E.config(a)};E.prototype.addEventListener=function(a,b){return F("ZeroClipboard.prototype.addEventListener",s.debug),this.on(a,b)};E.prototype.removeEventListener=function(a,b){return F("ZeroClipboard.prototype.removeEventListener",s.debug),this.off(a,b)};E.prototype.ready=function(){return F("ZeroClipboard.prototype.ready",s.debug),!0===k};var z=function(d,c){d=d.toLowerCase().replace(/^on/,
"");var l=c&&c.flashVersion&&a(c.flashVersion)||null,g=b,u=!0;switch(d){case "load":if(l){if(!(10<=parseFloat(a(l))))return z.call(this,"onWrongFlash",{flashVersion:l}),void 0;n=!1;k=!0;e=l}break;case "wrongflash":l&&!(10<=parseFloat(a(l)))&&(n=!0,k=!1,e=l);break;case "mouseover":h(g,s.hoverClass);break;case "mouseout":!0===s.autoActivate&&E.deactivate();break;case "mousedown":h(g,s.activeClass);break;case "mouseup":f(g,s.activeClass);break;case "datarequested":(l=(l=(l=g.getAttribute("data-clipboard-target"))?
document.getElementById(l):null)?l.value||l.textContent||l.innerText:g.getAttribute("data-clipboard-text"))&&this.setText(l);u=!1;break;case "complete":if(p)for(var B in p)p.hasOwnProperty(B)&&delete p[B]}l=[this,c];if((B=q[this.id]&&q[this.id].handlers[d])&&B.length){var r,y,t,A=g||this;r=0;for(y=B.length;y>r;r++)t=B[r],g=A,"string"==typeof t&&"function"==typeof window[t]&&(t=window[t]),"object"==typeof t&&t&&"function"==typeof t.handleEvent&&(g=t,t=t.handleEvent),"function"==typeof t&&Q(t,g,l,u)}return this};
"function"==typeof define&&define.amd?define(["require","exports","module"],function(a,b,d){return A=d&&d.id||null,E}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(l=module.id||null,module.exports=E):window.ZeroClipboard=E}();
var CryptoJS=CryptoJS||function(a,b){var c={},e=c.lib={},g=function(){},n=e.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||t).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],e=0;e<b;e+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),p=c.enc={},t=p.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new k.init(c,b/2)}},q=p.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new k.init(c,b)}},w=p.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
y=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,e=c.words,d=c.sigBytes,h=this.blockSize,f=d/(4*h),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*h;d=a.min(4*b,d);if(b){for(var g=0;g<b;g+=h)this._doProcessBlock(e,g);g=e.splice(0,b);c.sigBytes-=d}return new k.init(g,d)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=y.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new A.HMAC.init(a,
c)).finalize(b)}}});var A=c.algo={};return c}(Math);
(function(a){function b(a,b,c,e,g,d,h){a=a+(b&c|~b&e)+g+h;return(a<<d|a>>>32-d)+b}function c(a,b,c,e,g,d,h){a=a+(b&e|c&~e)+g+h;return(a<<d|a>>>32-d)+b}function e(a,b,c,e,g,d,h){a=a+(b^c^e)+g+h;return(a<<d|a>>>32-d)+b}function g(a,b,c,e,g,d,h){a=a+(c^(b|~e))+g+h;return(a<<d|a>>>32-d)+b}for(var n=CryptoJS,k=n.lib,p=k.WordArray,t=k.Hasher,k=n.algo,q=[],w=0;64>w;w++)q[w]=4294967296*a.abs(a.sin(w+1))|0;k=k.MD5=t.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,k){for(var l=0;16>l;l++){var u=k+l,n=a[u];a[u]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360}var l=this._hash.words,u=a[k+0],n=a[k+1],d=a[k+2],h=a[k+3],f=a[k+4],p=a[k+5],t=a[k+6],w=a[k+7],R=a[k+8],F=a[k+9],U=a[k+10],aa=a[k+11],W=a[k+12],G=a[k+13],da=a[k+14],E=a[k+15],s=l[0],v=l[1],x=l[2],z=l[3],s=b(s,v,x,z,u,7,q[0]),z=b(z,s,v,x,n,12,q[1]),x=b(x,z,s,v,d,17,q[2]),v=b(v,x,z,s,h,22,q[3]),s=b(s,v,x,z,f,7,q[4]),z=b(z,s,v,x,p,12,q[5]),x=b(x,z,s,v,t,17,q[6]),v=b(v,x,z,s,w,22,
q[7]),s=b(s,v,x,z,R,7,q[8]),z=b(z,s,v,x,F,12,q[9]),x=b(x,z,s,v,U,17,q[10]),v=b(v,x,z,s,aa,22,q[11]),s=b(s,v,x,z,W,7,q[12]),z=b(z,s,v,x,G,12,q[13]),x=b(x,z,s,v,da,17,q[14]),v=b(v,x,z,s,E,22,q[15]),s=c(s,v,x,z,n,5,q[16]),z=c(z,s,v,x,t,9,q[17]),x=c(x,z,s,v,aa,14,q[18]),v=c(v,x,z,s,u,20,q[19]),s=c(s,v,x,z,p,5,q[20]),z=c(z,s,v,x,U,9,q[21]),x=c(x,z,s,v,E,14,q[22]),v=c(v,x,z,s,f,20,q[23]),s=c(s,v,x,z,F,5,q[24]),z=c(z,s,v,x,da,9,q[25]),x=c(x,z,s,v,h,14,q[26]),v=c(v,x,z,s,R,20,q[27]),s=c(s,v,x,z,G,5,q[28]),
z=c(z,s,v,x,d,9,q[29]),x=c(x,z,s,v,w,14,q[30]),v=c(v,x,z,s,W,20,q[31]),s=e(s,v,x,z,p,4,q[32]),z=e(z,s,v,x,R,11,q[33]),x=e(x,z,s,v,aa,16,q[34]),v=e(v,x,z,s,da,23,q[35]),s=e(s,v,x,z,n,4,q[36]),z=e(z,s,v,x,f,11,q[37]),x=e(x,z,s,v,w,16,q[38]),v=e(v,x,z,s,U,23,q[39]),s=e(s,v,x,z,G,4,q[40]),z=e(z,s,v,x,u,11,q[41]),x=e(x,z,s,v,h,16,q[42]),v=e(v,x,z,s,t,23,q[43]),s=e(s,v,x,z,F,4,q[44]),z=e(z,s,v,x,W,11,q[45]),x=e(x,z,s,v,E,16,q[46]),v=e(v,x,z,s,d,23,q[47]),s=g(s,v,x,z,u,6,q[48]),z=g(z,s,v,x,w,10,q[49]),x=
g(x,z,s,v,da,15,q[50]),v=g(v,x,z,s,p,21,q[51]),s=g(s,v,x,z,W,6,q[52]),z=g(z,s,v,x,h,10,q[53]),x=g(x,z,s,v,U,15,q[54]),v=g(v,x,z,s,n,21,q[55]),s=g(s,v,x,z,R,6,q[56]),z=g(z,s,v,x,E,10,q[57]),x=g(x,z,s,v,t,15,q[58]),v=g(v,x,z,s,G,21,q[59]),s=g(s,v,x,z,f,6,q[60]),z=g(z,s,v,x,aa,10,q[61]),x=g(x,z,s,v,d,15,q[62]),v=g(v,x,z,s,F,21,q[63]);l[0]=l[0]+s|0;l[1]=l[1]+v|0;l[2]=l[2]+x|0;l[3]=l[3]+z|0},_doFinalize:function(){var b=this._data,c=b.words,e=8*this._nDataBytes,g=8*b.sigBytes;c[g>>>5]|=128<<24-g%32;var k=
a.floor(e/4294967296);c[(g+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;c[(g+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash;c=b.words;for(e=0;4>e;e++)g=c[e],c[e]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;return b},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});n.MD5=t._createHelper(k);n.HmacMD5=t._createHmacHelper(k)})(Math);
CryptoJS=CryptoJS||function(a,b){var c={},e=c.lib={},g=function(){},n=e.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||t).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],e=0;e<b;e+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),p=c.enc={},t=p.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new k.init(c,b/2)}},q=p.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new k.init(c,b)}},w=p.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
y=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,e=c.words,d=c.sigBytes,h=this.blockSize,f=d/(4*h),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*h;d=a.min(4*b,d);if(b){for(var g=0;g<b;g+=h)this._doProcessBlock(e,g);g=e.splice(0,b);c.sigBytes-=d}return new k.init(g,d)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=y.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new A.HMAC.init(a,
c)).finalize(b)}}});var A=c.algo={};return c}(Math);
(function(){var a=CryptoJS,b=a.lib,c=b.WordArray,e=b.Hasher,g=[],b=a.algo.SHA1=e.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,e=c[0],q=c[1],w=c[2],y=c[3],A=c[4],l=0;80>l;l++){if(16>l)g[l]=a[b+l]|0;else{var u=g[l-3]^g[l-8]^g[l-14]^g[l-16];g[l]=u<<1|u>>>31}u=(e<<5|e>>>27)+A+g[l];u=20>l?u+((q&w|~q&y)+1518500249):40>l?u+((q^w^y)+1859775393):60>l?u+((q&w|q&y|w&y)-1894007588):u+((q^w^
y)-899497514);A=y;y=w;w=q<<30|q>>>2;q=e;e=u}c[0]=c[0]+e|0;c[1]=c[1]+q|0;c[2]=c[2]+w|0;c[3]=c[3]+y|0;c[4]=c[4]+A|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,e=8*a.sigBytes;b[e>>>5]|=128<<24-e%32;b[(e+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(e+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=e.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=e._createHelper(b);a.HmacSHA1=e._createHmacHelper(b)})();
CryptoJS=CryptoJS||function(a,b){var c={},e=c.lib={},g=function(){},n=e.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||t).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],e=0;e<b;e+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),p=c.enc={},t=p.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new k.init(c,b/2)}},q=p.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new k.init(c,b)}},w=p.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
y=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,e=c.words,d=c.sigBytes,h=this.blockSize,f=d/(4*h),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*h;d=a.min(4*b,d);if(b){for(var g=0;g<b;g+=h)this._doProcessBlock(e,g);g=e.splice(0,b);c.sigBytes-=d}return new k.init(g,d)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=y.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new A.HMAC.init(a,
c)).finalize(b)}}});var A=c.algo={};return c}(Math);
(function(a){for(var b=CryptoJS,c=b.lib,e=c.WordArray,g=c.Hasher,c=b.algo,n=[],k=[],p=function(a){return 4294967296*(a-(a|0))|0},t=2,q=0;64>q;){var w;a:{w=t;for(var y=a.sqrt(w),A=2;A<=y;A++)if(!(w%A)){w=!1;break a}w=!0}w&&(8>q&&(n[q]=p(a.pow(t,0.5))),k[q]=p(a.pow(t,1/3)),q++);t++}var l=[],c=c.SHA256=g.extend({_doReset:function(){this._hash=new e.init(n.slice(0))},_doProcessBlock:function(a,b){for(var d=this._hash.words,c=d[0],e=d[1],g=d[2],n=d[3],p=d[4],q=d[5],t=d[6],y=d[7],w=0;64>w;w++){if(16>w)l[w]=
a[b+w]|0;else{var A=l[w-15],G=l[w-2];l[w]=((A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3)+l[w-7]+((G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10)+l[w-16]}A=y+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&q^~p&t)+k[w]+l[w];G=((c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22))+(c&e^c&g^e&g);y=t;t=q;q=p;p=n+A|0;n=g;g=e;e=c;c=A+G|0}d[0]=d[0]+c|0;d[1]=d[1]+e|0;d[2]=d[2]+g|0;d[3]=d[3]+n|0;d[4]=d[4]+p|0;d[5]=d[5]+q|0;d[6]=d[6]+t|0;d[7]=d[7]+y|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;
c[e>>>5]|=128<<24-e%32;c[(e+64>>>9<<4)+14]=a.floor(d/4294967296);c[(e+64>>>9<<4)+15]=d;b.sigBytes=4*c.length;this._process();return this._hash},clone:function(){var a=g.clone.call(this);a._hash=this._hash.clone();return a}});b.SHA256=g._createHelper(c);b.HmacSHA256=g._createHmacHelper(c)})(Math);
CryptoJS=CryptoJS||function(a,b){var c={},e=c.lib={},g=function(){},n=e.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||t).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],e=0;e<b;e+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),p=c.enc={},t=p.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new k.init(c,b/2)}},q=p.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new k.init(c,b)}},w=p.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
y=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,e=c.words,d=c.sigBytes,h=this.blockSize,f=d/(4*h),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*h;d=a.min(4*b,d);if(b){for(var g=0;g<b;g+=h)this._doProcessBlock(e,g);g=e.splice(0,b);c.sigBytes-=d}return new k.init(g,d)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=y.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new A.HMAC.init(a,
c)).finalize(b)}}});var A=c.algo={};return c}(Math);
(function(a){var b=CryptoJS,c=b.lib,e=c.Base,g=c.WordArray,b=b.x64={};b.Word=e.extend({init:function(a,b){this.high=a;this.low=b}});b.WordArray=e.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:8*b.length},toX32:function(){for(var a=this.words,b=a.length,c=[],e=0;e<b;e++){var q=a[e];c.push(q.high);c.push(q.low)}return g.create(c,this.sigBytes)},clone:function(){for(var a=e.clone.call(this),b=a.words=this.words.slice(0),c=b.length,g=0;g<c;g++)b[g]=b[g].clone();return a}})})();
(function(){function a(){return g.create.apply(g,arguments)}for(var b=CryptoJS,c=b.lib.Hasher,e=b.x64,g=e.Word,n=e.WordArray,e=b.algo,k=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),
a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,
2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),
a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],p=[],t=0;80>t;t++)p[t]=a();e=e.SHA512=c.extend({_doReset:function(){this._hash=new n.init([new g.init(1779033703,4089235720),new g.init(3144134277,2227873595),new g.init(1013904242,4271175723),new g.init(2773480762,1595750129),new g.init(1359893119,2917565137),new g.init(2600822924,725511199),new g.init(528734635,4215389547),new g.init(1541459225,327033209)])},_doProcessBlock:function(a,b){for(var c=this._hash.words,
e=c[0],g=c[1],n=c[2],t=c[3],d=c[4],h=c[5],f=c[6],c=c[7],r=e.high,C=e.low,Q=g.high,R=g.low,F=n.high,U=n.low,aa=t.high,W=t.low,G=d.high,da=d.low,E=h.high,s=h.low,v=f.high,x=f.low,z=c.high,M=c.low,H=r,J=C,S=Q,I=R,ha=F,X=U,ia=aa,ga=W,fa=G,Y=da,O=E,K=s,m=v,pa=x,ua=z,ka=M,ba=0;80>ba;ba++){var V=p[ba];if(16>ba)var ca=V.high=a[b+2*ba]|0,P=V.low=a[b+2*ba+1]|0;else{var ca=p[ba-15],P=ca.high,ma=ca.low,ca=(P>>>1|ma<<31)^(P>>>8|ma<<24)^P>>>7,ma=(ma>>>1|P<<31)^(ma>>>8|P<<24)^(ma>>>7|P<<25),ja=p[ba-2],P=ja.high,
T=ja.low,ja=(P>>>19|T<<13)^(P<<3|T>>>29)^P>>>6,T=(T>>>19|P<<13)^(T<<3|P>>>29)^(T>>>6|P<<26),P=p[ba-7],Da=P.high,ta=p[ba-16],Z=ta.high,ta=ta.low,P=ma+P.low,ca=ca+Da+(P>>>0<ma>>>0?1:0),P=P+T,ca=ca+ja+(P>>>0<T>>>0?1:0),P=P+ta,ca=ca+Z+(P>>>0<ta>>>0?1:0);V.high=ca;V.low=P}var Da=fa&O^~fa&m,ta=Y&K^~Y&pa,V=H&S^H&ha^S&ha,Ga=J&I^J&X^I&X,ma=(H>>>28|J<<4)^(H<<30|J>>>2)^(H<<25|J>>>7),ja=(J>>>28|H<<4)^(J<<30|H>>>2)^(J<<25|H>>>7),T=k[ba],Aa=T.high,qa=T.low,T=ka+((Y>>>14|fa<<18)^(Y>>>18|fa<<14)^(Y<<23|fa>>>9)),
Z=ua+((fa>>>14|Y<<18)^(fa>>>18|Y<<14)^(fa<<23|Y>>>9))+(T>>>0<ka>>>0?1:0),T=T+ta,Z=Z+Da+(T>>>0<ta>>>0?1:0),T=T+qa,Z=Z+Aa+(T>>>0<qa>>>0?1:0),T=T+P,Z=Z+ca+(T>>>0<P>>>0?1:0),P=ja+Ga,V=ma+V+(P>>>0<ja>>>0?1:0),ua=m,ka=pa,m=O,pa=K,O=fa,K=Y,Y=ga+T|0,fa=ia+Z+(Y>>>0<ga>>>0?1:0)|0,ia=ha,ga=X,ha=S,X=I,S=H,I=J,J=T+P|0,H=Z+V+(J>>>0<T>>>0?1:0)|0}C=e.low=C+J;e.high=r+H+(C>>>0<J>>>0?1:0);R=g.low=R+I;g.high=Q+S+(R>>>0<I>>>0?1:0);U=n.low=U+X;n.high=F+ha+(U>>>0<X>>>0?1:0);W=t.low=W+ga;t.high=aa+ia+(W>>>0<ga>>>0?1:0);
da=d.low=da+Y;d.high=G+fa+(da>>>0<Y>>>0?1:0);s=h.low=s+K;h.high=E+O+(s>>>0<K>>>0?1:0);x=f.low=x+pa;f.high=v+m+(x>>>0<pa>>>0?1:0);M=c.low=M+ka;c.high=z+ua+(M>>>0<ka>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,e=8*a.sigBytes;b[e>>>5]|=128<<24-e%32;b[(e+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(e+128>>>10<<5)+31]=c;a.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var a=c.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});
b.SHA512=c._createHelper(e);b.HmacSHA512=c._createHmacHelper(e)})();
CryptoJS=CryptoJS||function(a,b){var c={},e=c.lib={},g=function(){},n=e.Base={extend:function(a){g.prototype=this;var b=new g;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||t).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],e=0;e<b;e+=4)c.push(4294967296*a.random()|0);return new k.init(c,b)}}),p=c.enc={},t=p.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new k.init(c,b/2)}},q=p.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new k.init(c,b)}},w=p.Utf8={stringify:function(a){try{return decodeURIComponent(escape(q.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return q.parse(unescape(encodeURIComponent(a)))}},
y=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,e=c.words,d=c.sigBytes,h=this.blockSize,f=d/(4*h),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*h;d=a.min(4*b,d);if(b){for(var g=0;g<b;g+=h)this._doProcessBlock(e,g);g=e.splice(0,b);c.sigBytes-=d}return new k.init(g,d)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=y.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){y.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new A.HMAC.init(a,
c)).finalize(b)}}});var A=c.algo={};return c}(Math);
(function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,g=a.sigBytes,n=this._map;a.clamp();a=[];for(var k=0;k<g;k+=3)for(var p=(b[k>>>2]>>>24-8*(k%4)&255)<<16|(b[k+1>>>2]>>>24-8*((k+1)%4)&255)<<8|b[k+2>>>2]>>>24-8*((k+2)%4)&255,t=0;4>t&&k+0.75*t<g;t++)a.push(n.charAt(p>>>6*(3-t)&63));if(b=n.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var e=a.length,g=this._map,n=g.charAt(64);n&&(n=a.indexOf(n),-1!=n&&(e=n));for(var n=[],k=0,p=0;p<
e;p++)if(p%4){var t=g.indexOf(a.charAt(p-1))<<2*(p%4),q=g.indexOf(a.charAt(p))>>>6-2*(p%4);n[k>>>2]|=(t|q)<<24-8*(k%4);k++}return b.create(n,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(a){function b(a,b,c,e,g,d,h){a=a+(b&c|~b&e)+g+h;return(a<<d|a>>>32-d)+b}function c(a,b,c,e,g,d,h){a=a+(b&e|c&~e)+g+h;return(a<<d|a>>>32-d)+b}function e(a,b,c,e,g,d,h){a=a+(b^c^e)+g+h;return(a<<d|a>>>32-d)+b}function g(a,b,c,e,g,d,h){a=a+(c^(b|~e))+g+h;return(a<<d|a>>>32-d)+b}for(var n=CryptoJS,k=n.lib,p=k.WordArray,t=k.Hasher,k=n.algo,q=[],w=0;64>w;w++)q[w]=4294967296*a.abs(a.sin(w+1))|0;k=k.MD5=t.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,k){for(var l=0;16>l;l++){var n=k+l,p=a[n];a[n]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var l=this._hash.words,n=a[k+0],p=a[k+1],d=a[k+2],h=a[k+3],f=a[k+4],r=a[k+5],t=a[k+6],w=a[k+7],R=a[k+8],F=a[k+9],U=a[k+10],aa=a[k+11],W=a[k+12],G=a[k+13],da=a[k+14],E=a[k+15],s=l[0],v=l[1],x=l[2],z=l[3],s=b(s,v,x,z,n,7,q[0]),z=b(z,s,v,x,p,12,q[1]),x=b(x,z,s,v,d,17,q[2]),v=b(v,x,z,s,h,22,q[3]),s=b(s,v,x,z,f,7,q[4]),z=b(z,s,v,x,r,12,q[5]),x=b(x,z,s,v,t,17,q[6]),v=b(v,x,z,s,w,22,
q[7]),s=b(s,v,x,z,R,7,q[8]),z=b(z,s,v,x,F,12,q[9]),x=b(x,z,s,v,U,17,q[10]),v=b(v,x,z,s,aa,22,q[11]),s=b(s,v,x,z,W,7,q[12]),z=b(z,s,v,x,G,12,q[13]),x=b(x,z,s,v,da,17,q[14]),v=b(v,x,z,s,E,22,q[15]),s=c(s,v,x,z,p,5,q[16]),z=c(z,s,v,x,t,9,q[17]),x=c(x,z,s,v,aa,14,q[18]),v=c(v,x,z,s,n,20,q[19]),s=c(s,v,x,z,r,5,q[20]),z=c(z,s,v,x,U,9,q[21]),x=c(x,z,s,v,E,14,q[22]),v=c(v,x,z,s,f,20,q[23]),s=c(s,v,x,z,F,5,q[24]),z=c(z,s,v,x,da,9,q[25]),x=c(x,z,s,v,h,14,q[26]),v=c(v,x,z,s,R,20,q[27]),s=c(s,v,x,z,G,5,q[28]),
z=c(z,s,v,x,d,9,q[29]),x=c(x,z,s,v,w,14,q[30]),v=c(v,x,z,s,W,20,q[31]),s=e(s,v,x,z,r,4,q[32]),z=e(z,s,v,x,R,11,q[33]),x=e(x,z,s,v,aa,16,q[34]),v=e(v,x,z,s,da,23,q[35]),s=e(s,v,x,z,p,4,q[36]),z=e(z,s,v,x,f,11,q[37]),x=e(x,z,s,v,w,16,q[38]),v=e(v,x,z,s,U,23,q[39]),s=e(s,v,x,z,G,4,q[40]),z=e(z,s,v,x,n,11,q[41]),x=e(x,z,s,v,h,16,q[42]),v=e(v,x,z,s,t,23,q[43]),s=e(s,v,x,z,F,4,q[44]),z=e(z,s,v,x,W,11,q[45]),x=e(x,z,s,v,E,16,q[46]),v=e(v,x,z,s,d,23,q[47]),s=g(s,v,x,z,n,6,q[48]),z=g(z,s,v,x,w,10,q[49]),x=
g(x,z,s,v,da,15,q[50]),v=g(v,x,z,s,r,21,q[51]),s=g(s,v,x,z,W,6,q[52]),z=g(z,s,v,x,h,10,q[53]),x=g(x,z,s,v,U,15,q[54]),v=g(v,x,z,s,p,21,q[55]),s=g(s,v,x,z,R,6,q[56]),z=g(z,s,v,x,E,10,q[57]),x=g(x,z,s,v,t,15,q[58]),v=g(v,x,z,s,G,21,q[59]),s=g(s,v,x,z,f,6,q[60]),z=g(z,s,v,x,aa,10,q[61]),x=g(x,z,s,v,d,15,q[62]),v=g(v,x,z,s,F,21,q[63]);l[0]=l[0]+s|0;l[1]=l[1]+v|0;l[2]=l[2]+x|0;l[3]=l[3]+z|0},_doFinalize:function(){var b=this._data,c=b.words,e=8*this._nDataBytes,g=8*b.sigBytes;c[g>>>5]|=128<<24-g%32;var k=
a.floor(e/4294967296);c[(g+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;c[(g+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash;c=b.words;for(e=0;4>e;e++)g=c[e],c[e]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;return b},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});n.MD5=t._createHelper(k);n.HmacMD5=t._createHmacHelper(k)})(Math);
(function(){var a=CryptoJS,b=a.lib,c=b.Base,e=b.WordArray,b=a.algo,g=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,g=c.hasher.create(),q=e.create(),w=q.words,y=c.keySize,c=c.iterations;w.length<y;){A&&g.update(A);var A=g.update(a).finalize(b);g.reset();for(var l=1;l<c;l++)A=g.finalize(A),g.reset();q.concat(A)}q.sigBytes=4*y;return q}});a.EvpKDF=function(a,b,c){return g.create(c).compute(a,
b)}})();
CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,e=c.Base,g=c.WordArray,n=c.BufferedBlockAlgorithm,k=b.enc.Base64,p=b.algo.EvpKDF,t=c.Cipher=n.extend({cfg:e.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c);this._xformMode=a;this._key=b;this.reset()},reset:function(){n.reset.call(this);this._doReset()},process:function(a){this._append(a);return this._process()},
finalize:function(a){a&&this._append(a);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,e){return("string"==typeof c?u:l).encrypt(a,b,c,e)},decrypt:function(b,c,e){return("string"==typeof c?u:l).decrypt(a,b,c,e)}}}});c.StreamCipher=t.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var q=b.mode={},w=function(b,d,c){var e=this._iv;e?this._iv=a:e=this._prevBlock;for(var g=0;g<c;g++)b[d+g]^=
e[g]},y=(c.BlockCipherMode=e.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a;this._iv=b}})).extend();y.Encryptor=y.extend({processBlock:function(a,b){var c=this._cipher,e=c.blockSize;w.call(this,a,b,e);c.encryptBlock(a,b);this._prevBlock=a.slice(b,b+e)}});y.Decryptor=y.extend({processBlock:function(a,b){var c=this._cipher,e=c.blockSize,g=a.slice(b,b+e);c.decryptBlock(a,b);w.call(this,
a,b,e);this._prevBlock=g}});q=q.CBC=y;y=(b.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,e=c<<24|c<<16|c<<8|c,k=[],l=0;l<c;l+=4)k.push(e);c=g.create(k,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};c.BlockCipher=t.extend({cfg:t.cfg.extend({mode:q,padding:y}),reset:function(){t.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,
this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var A=c.CipherParams=e.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),q=(b.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?g.create([1398893684,
1701076831]).concat(a).concat(b):b).toString(k)},parse:function(a){a=k.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=g.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return A.create({ciphertext:a,salt:c})}},l=c.SerializableCipher=e.extend({cfg:e.extend({format:q}),encrypt:function(a,b,c,e){e=this.cfg.extend(e);var g=a.createEncryptor(c,e);b=g.finalize(b);g=g.cfg;return A.create({ciphertext:b,key:c,iv:g.iv,algorithm:a,mode:g.mode,padding:g.padding,blockSize:a.blockSize,formatter:e.format})},
decrypt:function(a,b,c,e){e=this.cfg.extend(e);b=this._parse(b,e.format);return a.createDecryptor(c,e).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),b=(b.kdf={}).OpenSSL={execute:function(a,b,c,e){e||(e=g.random(8));a=p.create({keySize:b+c}).compute(a,e);c=g.create(a.words.slice(b),4*c);a.sigBytes=4*b;return A.create({key:a,iv:c,salt:e})}},u=c.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:b}),encrypt:function(a,b,c,e){e=this.cfg.extend(e);c=e.kdf.execute(c,
a.keySize,a.ivSize);e.iv=c.iv;a=l.encrypt.call(this,a,b,c.key,e);a.mixIn(c);return a},decrypt:function(a,b,c,e){e=this.cfg.extend(e);b=this._parse(b,e.format);c=e.kdf.execute(c,a.keySize,a.ivSize,b.salt);e.iv=c.iv;return l.decrypt.call(this,a,b,c.key,e)}})}();
(function(){function a(a,b){var c=(this._lBlock>>>a^this._rBlock)&b;this._rBlock^=c;this._lBlock^=c<<a}function b(a,b){var c=(this._rBlock>>>a^this._lBlock)&b;this._lBlock^=c;this._rBlock^=c<<a}var c=CryptoJS,e=c.lib,g=e.WordArray,e=e.BlockCipher,n=c.algo,k=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,
55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],t=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],q=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,
2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,
1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,
75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,
276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,
14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,
17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,
98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,
1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,
10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,
83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,
2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,
16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,
496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,
2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,
2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=n.DES=e.extend({_doReset:function(){for(var a=this._key.words,b=[],c=0;56>c;c++){var e=k[c]-1;b[c]=a[e>>>5]>>>31-e%32&1}a=this._subKeys=[];for(e=0;16>e;e++){for(var d=a[e]=[],g=t[e],c=0;24>c;c++)d[c/6|0]|=b[(p[c]-1+g)%28]<<31-c%6,d[4+(c/6|0)]|=b[28+(p[c+24]-1+g)%28]<<31-c%6;d[0]=d[0]<<1|d[0]>>>31;for(c=1;7>c;c++)d[c]>>>=
4*(c-1)+3;d[7]=d[7]<<5|d[7]>>>27}b=this._invSubKeys=[];for(c=0;16>c;c++)b[c]=a[15-c]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._subKeys)},decryptBlock:function(a,b){this._doCryptBlock(a,b,this._invSubKeys)},_doCryptBlock:function(c,e,g){this._lBlock=c[e];this._rBlock=c[e+1];a.call(this,4,252645135);a.call(this,16,65535);b.call(this,2,858993459);b.call(this,8,16711935);a.call(this,1,1431655765);for(var k=0;16>k;k++){for(var d=g[k],h=this._lBlock,f=this._rBlock,n=0,p=0;8>p;p++)n|=q[p][((f^
d[p])&w[p])>>>0];this._lBlock=f;this._rBlock=h^n}g=this._lBlock;this._lBlock=this._rBlock;this._rBlock=g;a.call(this,1,1431655765);b.call(this,8,16711935);b.call(this,2,858993459);a.call(this,16,65535);a.call(this,4,252645135);c[e]=this._lBlock;c[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});c.DES=e._createHelper(y);n=n.TripleDES=e.extend({_doReset:function(){var a=this._key.words;this._des1=y.createEncryptor(g.create(a.slice(0,2)));this._des2=y.createEncryptor(g.create(a.slice(2,4)));this._des3=
y.createEncryptor(g.create(a.slice(4,6)))},encryptBlock:function(a,b){this._des1.encryptBlock(a,b);this._des2.decryptBlock(a,b);this._des3.encryptBlock(a,b)},decryptBlock:function(a,b){this._des3.decryptBlock(a,b);this._des2.encryptBlock(a,b);this._des1.decryptBlock(a,b)},keySize:6,ivSize:2,blockSize:2});c.TripleDES=e._createHelper(n)})();
function bCrypt(){this.BLOWFISH_NUM_ROUNDS=this.BCRYPT_SALT_LEN=16;this.P_orig=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];this.S_orig=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,
3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,
596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,
79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,
3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,
2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,
1266315497,3048417604,3681880366,3289982499,290971E4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,
3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,
1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,
3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,
1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,
1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,
3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,
69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,
3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,
3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,
2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,
1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,
993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,
2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409E3,2509781533,112762804,3463356488,1866414978,891333506,
18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,
1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,
2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];this.bf_crypt_ciphertext=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];this.base64_code="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");this.index_64=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];this.P;this.S;this.lr;this.offp}bCrypt.prototype.getByte=function(a){try{var b=a.charCodeAt(0)}catch(c){b=a}return 127<b?-128+b%128:b};
bCrypt.prototype.encode_base64=function(a,b){var c=0,e=[],g,n;if(0>=b||b>a.length)throw"Invalid len";for(;c<b;){g=a[c++]&255;e.push(this.base64_code[g>>2&63]);g=(g&3)<<4;if(c>=b){e.push(this.base64_code[g&63]);break}n=a[c++]&255;g|=n>>4&15;e.push(this.base64_code[g&63]);g=(n&15)<<2;if(c>=b){e.push(this.base64_code[g&63]);break}n=a[c++]&255;g|=n>>6&3;e.push(this.base64_code[g&63]);e.push(this.base64_code[n&63])}return e.join("")};
bCrypt.prototype.char64=function(a){a=a.charCodeAt(0);return 0>a||a>this.index_64.length?-1:this.index_64[a]};
bCrypt.prototype.decode_base64=function(a,b){var c=0,e=a.length,g=0,n=[],k,p,t;if(0>=b)throw"Invalid maxolen";for(;c<e-1&&g<b;){k=this.char64(a.charAt(c++));p=this.char64(a.charAt(c++));if(-1==k||-1==p)break;t=this.getByte(k<<2);t|=(p&48)>>4;n.push(String.fromCharCode(t));if(++g>=b||c>=e)break;k=this.char64(a.charAt(c++));if(-1==k)break;t=this.getByte((p&15)<<4);t|=(k&60)>>2;n.push(String.fromCharCode(t));if(++g>=b||c>=e)break;p=this.char64(a.charAt(c++));t=this.getByte((k&3)<<6);t|=p;n.push(String.fromCharCode(t));
++g}e=[];for(c=0;c<g;c++)e.push(this.getByte(n[c]));return e};bCrypt.prototype.encipher=function(a,b){var c,e,g=a[b],n=a[b+1],g=g^this.P[0];for(c=0;c<=this.BLOWFISH_NUM_ROUNDS-2;)e=this.S[g>>24&255],e+=this.S[256|g>>16&255],e^=this.S[512|g>>8&255],e+=this.S[768|g&255],n=n^e^this.P[++c],e=this.S[n>>24&255],e+=this.S[256|n>>16&255],e^=this.S[512|n>>8&255],e+=this.S[768|n&255],g=g^e^this.P[++c];a[b]=n^this.P[this.BLOWFISH_NUM_ROUNDS+1];a[b+1]=g};
bCrypt.prototype.streamtoword=function(a,b){var c,e=0,g=b;for(c=0;4>c;c++)e=e<<8|a[g]&255,g=(g+1)%a.length;this.offp=g;return e};bCrypt.prototype.init_key=function(){this.P=this.P_orig.slice();this.S=this.S_orig.slice()};
bCrypt.prototype.key=function(a){var b;this.offp=0;var c=[0,0],e=this.P.length,g=this.S.length;for(b=0;b<e;b++)this.P[b]^=this.streamtoword(a,this.offp);for(b=0;b<e;b+=2)this.encipher(c,0),this.P[b]=c[0],this.P[b+1]=c[1];for(b=0;b<g;b+=2)this.encipher(c,0),this.S[b]=c[0],this.S[b+1]=c[1]};
bCrypt.prototype.ekskey=function(a,b){var c;this.offp=0;var e=[0,0],g=this.P.length,n=this.S.length;for(c=0;c<g;c++)this.P[c]^=this.streamtoword(b,this.offp);for(c=this.offp=0;c<g;c+=2)e[0]^=this.streamtoword(a,this.offp),e[1]^=this.streamtoword(a,this.offp),this.encipher(e,0),this.P[c]=e[0],this.P[c+1]=e[1];for(c=0;c<n;c+=2)e[0]^=this.streamtoword(a,this.offp),e[1]^=this.streamtoword(a,this.offp),this.encipher(e,0),this.S[c]=e[0],this.S[c+1]=e[1]};
bCrypt.prototype.crypt_raw=function(a,b,c,e,g){var n,k,p=this.bf_crypt_ciphertext.slice(),t=p.length;if(4>c||31<c)throw"Bad number of rounds";if(b.length!=this.BCRYPT_SALT_LEN)throw"Bad salt length";n=1<<c;this.init_key();this.ekskey(b,a);var q=this,w=0,y=0;setTimeout(function(){for(;w<n;){q.key(a);q.key(b);++w;var c=parseInt(100*(w/n));if(c!=y){y=c;e(c);setTimeout(arguments.callee,0);return}}for(w=0;64>w;w++)for(k=0;k<t>>1;k++)q.encipher(p,k<<1);c=[];for(w=0;w<t;w++)c.push(q.getByte(p[w]>>24&255)),
c.push(q.getByte(p[w]>>16&255)),c.push(q.getByte(p[w]>>8&255)),c.push(q.getByte(p[w]&255));g(c)},0)};
bCrypt.prototype.hashpw=function(a,b,c,e){var g=[],n=[],k=String.fromCharCode(0),p=0,t=0;if(!q)var q=function(){};if("$"!=b.charAt(0)||"2"!=b.charAt(1))throw"Invalid salt version";if("$"==b.charAt(2))t=3;else{k=b.charAt(2);if("a"!=k||"$"!=b.charAt(3))throw"Invalid salt revision";t=4}if("$"<b.charAt(t+2))throw"Missing salt rounds";var q=10*parseInt(b.substring(t,t+1)),w=parseInt(b.substring(t+1,t+2)),p=q+w;b=b.substring(t+3,t+25);a+="a"<=k?"\x00":"";for(t=0;t<a.length;t++)g.push(this.getByte(a.charAt(t)));
var n=this.decode_base64(b,this.BCRYPT_SALT_LEN),y=this;this.crypt_raw(g,n,p,c,function(a){var b=[];b.push("$2");"a"<=k&&b.push(k);b.push("$");10>p&&b.push("0");b.push(p.toString());b.push("$");b.push(y.encode_base64(n,n.length));b.push(y.encode_base64(a,4*y.bf_crypt_ciphertext.length-1));e(b.join(""))})};bCrypt.prototype.ready=function(){return"undefined"!=typeof this.PRNG&&this.PRNG.isReadyToGenerateRandomValues()?!0:!1};var gTouchStartTimeMs=0;
function touchConvert(a){a.preventDefault();var b=null,c=a.changedTouches[0],b=(new Date).getTime(),e=document.createEvent("MouseEvent"),g=!1;switch(a.type){case "touchstart":gTouchStartTimeMs=b;b="mousedown";break;case "touchmove":b="mousemove";break;case "touchcancel":case "touchend":g=500>b-gTouchStartTimeMs;b="mouseup";break;default:return}e.initMouseEvent(b,!0,!0,a.target.ownerDocument.defaultView,0,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);a.target.dispatchEvent(e);
g&&(e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,a.target.ownerDocument.defaultView,0,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),a.target.dispatchEvent(e))}
function makeTouchable(a){a.context.addEventListener?(a.context.addEventListener("touchstart",touchConvert,!0),a.context.addEventListener("touchmove",touchConvert,!0),a.context.addEventListener("touchend",touchConvert,!0)):a.context.attachEvent&&(a.context.attachEvent("touchstart",touchConvert),a.context.attachEvent("touchmove",touchConvert),a.context.attachEvent("touchend",touchConvert))}
function onTouch(a,b){a.context.addEventListener?a.context.addEventListener("touchend",b,!0):a.context.attachEvent&&a.context.attachEvent("touchend",b)}
(function(a){a.widget("ui.combobox",{options:{editable:!1,darkBackground:!1,iconAsValue:!1,inlineStyle:{},icons:{}},_create:function(){var b=this.element,c=this.element.children("option:selected").last(),c=this.element.children("option").index(c);b.context.selectedIndex=c;var e=void 0==b.attr("id")?(new Date).getTime():b.attr("id"),g=b.outerWidth(!0),n=Math.max(20,b.height());0<this.options.icons.length&&(g=this.options.iconAsValue?51:g+24);var k=g-16-11;this.elementId=e;this.editWidth=k-4;var p=
this.options.darkBackground?"combobox_value_bright":"combobox_value_dark";HTMLString='<span id="'+e+'_combobox" class="combobox" style="width: '+g+"px; height: "+n+'px">';HTMLString+='<div id="'+e+'_value" style="width: '+k+"px; line-height: "+n+'px" class="combobox_value '+p+' clickable ui-button ui-widget ui-state-default ui-button-disabled ui-state-disabled ui-button-text-only ui-corner-left">';HTMLString+="</div>";HTMLString+='<div id="'+e+'_open" class="combobox_open ui-button ui-widget ui-state-default ui-corner-right">';
HTMLString+='<span class="ui-icon ui-icon-triangle-2-n-s" style="margin-top: 1px"></span>';HTMLString+="</div>";HTMLString+='<div id="'+e+'_options" class="combobox_list ui-corner-all"></div>';HTMLString+="</span>";b.after(HTMLString);b.hide();this.editable(this.options.editable);var t=this.options.icons;a("#"+e+"_combobox").css(this.options.inlineStyle);b.children("option").each(function(){"-"==a(this).val()?a("#"+e+"_options").append('<div class="separator"></div>'):void 0!=t[a(this).val()]?a("#"+
e+"_options").append('<div class="option"><img src="'+t[a(this).val()]+'"/><div class="text">'+a(this).text()+"</div></div>"):a("#"+e+"_options").append('<div class="option"><div class="text">'+a(this).text()+"</div></div>")});this.optionField=a("#"+e+"_options");this.optionField.children(".option, .separator").eq(c).addClass("selected");var q=this;a("#"+e+"_open, #"+e+"_value").click(function(c){a(".combobox_list").hide();for(var g=b.children("option:selected").last(),g=b.children("option").index(g),
k=g-6,l=0,n=0,p=0,d=a("#"+e+"_options"),h=d.children(".option, .separator"),f=h.eq(g-1),r=g-1;0<=r;--r){var t=f.outerHeight(!0),p=p+t;r>k&&(l+=t,n+=t);f=f.prev()}k=Math.min(g+6,h.length);f=h.eq(g);for(r=g;r<k;++r)t=f.outerHeight(!0),n+=t,f=f.next();d.css("top",-l).height(n).show().scrollTop(p-l);var Q=q.options.iconAsValue?0:a("#"+e+"_combobox").width();h.each(function(){Q=q.options.iconAsValue?Math.max(a(this).outerWidth()+24,Q):Math.max(a(this).outerWidth(),Q)});d.width(Q);c.stopPropagation()});
this.optionField.children(".option").click(function(){a("#"+e+"_options > .option").removeClass("selected");a(this).addClass("selected");b.context.selectedIndex=a(this).index();b.change();var c=a("#"+e+"_value:first"),g=b.val();void 0!=t[g]?q.options.iconAsValue?c.empty().append('<img class="combobox_valueimg" src="'+t[g]+'"/>'):c.empty().append('<img class="combobox_valueimg" src="'+t[g]+'"/><div class="combobox_valuetext">'+a(this).text()+"</div>"):q.options.editable?c.children("input").val(a(this).text()).focus():
c.empty().append('<div class="combobox_valuetext">'+a(this).text()+"</div>");a("#"+e+"_options").hide()})},editable:function(b){this.options.editable=b;var c=this.element.children("option:selected").last(),e=c.text();b?(HTMLString='<input id="'+this.elementId+'_edit" class="combobox_edit" style="width: '+this.editWidth+'px" type="text"/>',a("#"+this.elementId+"_value").empty().append(HTMLString),a("#"+this.elementId+"_edit").val(e).focus().click(function(a){a.stopPropagation()})):(ValueField=a("#"+
this.elementId+"_value").empty(),void 0!=this.options.icons[c.val()]?this.options.iconAsValue?ValueField.append('<img class="combobox_valueimg" src="'+this.options.icons[c.val()]+'"/>'):ValueField.append('<img class="combobox_valueimg" src="'+this.options.icons[c.val()]+'"/><div class="combobox_valuetext">'+e+"</div>"):ValueField.append('<div class="combobox_valuetext">'+e+"</div>"))},destroy:function(){this.element.show();this.replacement.detach();a.Widget.prototype.destroy.call(this)}})})(jQuery);
$(document).click(function(){$(".combobox_list").hide()});var s_Itoa64="./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function finalHash(a,b){return CryptoJS.SHA256(a+b).toString()}
function hash(a,b,c,e,g,n){var k="";switch(b){case "cleartext":n(c);return;case "native_sha256s":k=hash_native_sha256s(c,e);break;case "phpbb3_md5r":hash_prefixed_md5r(c,"$H$",e,g,function(b){n(finalHash(a,b))});return;case "wp_md5r":hash_prefixed_md5r(c,"$P$",e,g,function(b){n(finalHash(a,b))});return;case "phpbb3_md5":case "eqdkp_md5":k=hash_generic_md5(c);break;case "eqdkp_sha512s":k=hash_eqdkp_sha512s(c,e);break;case "eqdkp_sha512sb":hash_eqdkp_sha512sb(c,e,g,function(b){n(finalHash(a,b))});return;
case "eqdkp_sha512sd":hash_eqdkp_sha512sd(c,e,g,function(b){n(finalHash(a,b))});return;case "eqdkp_sha512r":hash_eqdkp_sha512r(c,e,g,function(b){n(finalHash(a,b))});return;case "mybb_md5s":k=hash_mybb_md5s(c,e);break;case "smf_sha1s":k=hash_smf_sha1s(c,e);break;case "vb3_md5s":k=hash_vb3_md5s(c,e);break;case "jml_md5s":k=hash_jml_md5s(c,e);break;case "jml_md5r":hash_prefixed_md5r(c,"$P$",e,g,function(b){n(finalHash(a,b))});return;case "jml_bf":k=hash_jml_bf(c,e,g,function(b){n(finalHash(a,b))});return;
case "vanilla_md5r":hash_vanilla_md5r(c,e,g,function(b){n(finalHash(a,b))});return;case "drupal_sha512":hash_drupal_sha512(c,e,!1,g,function(b){n(finalHash(a,b))});return;case "drupal_usha512":hash_drupal_sha512(c,e,!0,g,function(b){n(finalHash(a,b))});return;case "drupal_pmd5":hash_drupal_md5(c,e,!1,"$P$",g,function(b){n(finalHash(a,b))});return;case "drupal_upmd5":hash_drupal_md5(c,e,!0,"U$P$",g,function(b){n(finalHash(a,b))});return;case "drupal_hmd5":hash_drupal_md5(c,e,!1,"$H$",g,function(b){n(finalHash(a,
b))});return;case "drupal_uhmd5":hash_drupal_md5(c,e,!0,"U$H$",g,function(b){n(finalHash(a,b))});return;case "wbb_bf":k=hash_wbb_bf(c,e,g,function(b){n(finalHash(a,b))});return}n(finalHash(a,k))}
function getPasswordStrength(a){var b="#ccc",c=0;if(0<a.length){for(var b=[{used:0,min:32,max:48},{used:0,min:48,max:58},{used:0,min:58,max:65},{used:0,min:65,max:91},{used:0,min:91,max:97},{used:0,min:97,max:123},{used:0,min:123,max:127}],e=[{r:255,g:0,b:0},{r:255,g:255,b:0},{r:0,g:255,b:0}],g=0;g<a.length;++g)for(var n=a.charCodeAt(g),c=0;c<b.length;++c)if(n>=b[c].min&&n<b[c].max){++b[c].used;break}for(c=n=g=0;c<b.length;++c)0<b[c].used&&(n+=b[c].used,g+=b[c].max-b[c].min);n<a.length&&(g+=32);c=
Math.min(1,Math.pow(g,a.length/10)/128);b="#";a=1/(e.length-1);n=Math.min(parseInt(c/a,10),e.length-2);a=(c-a*n)/a;var g=e[n],k=e[n+1],e=parseInt(g.r*(1-a)+k.r*a,10),n=parseInt(g.g*(1-a)+k.g*a,10);a=parseInt(g.b*(1-a)+k.b*a,10);b+=(16>e?"0":"")+e.toString(16);b+=(16>n?"0":"")+n.toString(16);b+=(16>a?"0":"")+a.toString(16)}return{color:b,quality:c}}
function encode64(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c]>>24&255),b.push(a[c]>>16&255),b.push(a[c]>>8&255),b.push(a[c]&255);a="";for(c=0;c<b.length;){var e=b[c++];a+=s_Itoa64[e&63];c<b.length&&(e|=b[c]<<8);a+=s_Itoa64[e>>6&63];if(c++>=b.length)break;c<b.length&&(e|=b[c]<<16);a+=s_Itoa64[e>>12&63];if(c++>=b.length)break;a+=s_Itoa64[e>>>18&63]}return a}function hash_native_sha256s(a,b){return CryptoJS.SHA256(CryptoJS.SHA1(a)+b)}function hash_generic_md5(a,b){return CryptoJS.MD5(a)}
function hash_prefixed_md5r(a,b,c,e,g){c=c.split(":");var n=parseInt(c[0],10),k=1<<n,p=c[1],t=CryptoJS.MD5(p+a),q=CryptoJS.algo.MD5.create(),w=0,y=0;window.setTimeout(function(){for(;w<k;){q.update(t);q.update(a);t=q.finalize();q.reset();++w;var c=parseInt(100*(w/k),10);if(c!=y){y=c;e(c);window.setTimeout(arguments.callee,0);return}}e(100);g(b+s_Itoa64.charAt(n)+p+encode64(t.words))},0)}function hash_eqdkp_sha512s(a,b){return CryptoJS.SHA512(b+a)}
function hash_eqdkp_sha512sb(a,b,c,e){var g=new bCrypt,n=b.split(":");b=n[0];var k=n[1];a=CryptoJS.SHA512(k+a).toString();g.hashpw(a,b,c,function(a){c(100);e(a+":"+k)})}
function hash_eqdkp_sha512sd(a,b,c,e){var g=b.split(":");b=g[0];g=g[1];a=CryptoJS.SHA512(g+a).toString();a=CryptoJS.DES.encrypt(a,b);alert('EQDKP password has been hashed using crypt() with CRYPT_EXT_DES.This is not yet supported due to missing details about the crypt() implementation.\nYou can set "USE_CLEARTEXT_PASSWORDS" to "true" in the config to work around this problem.');c(100);e("_"+a+":"+g)}
function hash_eqdkp_sha512r(a,b,c,e){b=b.split(":");var g=parseInt(b[0],10),n=1<<g,k=b[1],p=b[2],t=CryptoJS.SHA512(k+a).toString(),q=CryptoJS.SHA512(p+t),w=CryptoJS.algo.SHA512.create(),y=0,A=0;window.setTimeout(function(){for(;y<n;){w.update(q);w.update(t);q=w.finalize();w.reset();++y;var a=parseInt(100*(y/n),10);if(a!=A){A=a;c(a);window.setTimeout(arguments.callee,0);return}}c(100);e("$S$"+s_Itoa64.charAt(g)+p+encode64(q.words)+":"+k)},0)}
function hash_mybb_md5s(a,b){return CryptoJS.MD5(CryptoJS.MD5(b)+CryptoJS.MD5(a))}function hash_smf_sha1s(a,b){return CryptoJS.SHA1(b+a)}function hash_vb3_md5s(a,b){return CryptoJS.MD5(CryptoJS.MD5(a)+b)}function hash_jml_md5s(a,b){return CryptoJS.MD5(a+b).toString()+":"+b}function hash_jml_bf(a,b,c,e){var g=new bCrypt,n=b.substr(0,3);b="$2a"+b.substr(3);g.hashpw(a,b,c,function(a){c(100);a=n+a.substr(3);e(a)})}
function hash_wbb_bf(a,b,c,e){var g=new bCrypt,n=b.substr(0,3),k="$2a"+b.substr(3);g.hashpw(a,k,function(a){c(a/2)},function(a){c(100);g.hashpw(a,k,function(a){c(50+a/2)},function(a){c(200);a=n+a.substr(3);e(a)})})}
function hash_vanilla_md5r(a,b,c,e){b=b.split(":");var g=parseInt(b[0],10),n=1<<g,k=b[1],p=CryptoJS.MD5(k+a),t=CryptoJS.algo.MD5.create(),q=0,w=0;window.setTimeout(function(){for(;q<n;){t.update(p);t.update(a);p=t.finalize();t.reset();++q;var b=parseInt(100*(q/n),10);if(b!=w){w=b;c(b);window.setTimeout(arguments.callee,0);return}}c(100);e("$P$"+s_Itoa64.charAt(g)+k+encode64(p.words))},0)}
function hash_drupal_sha512(a,b,c,e,g){b=b.split(":");var n=parseInt(b[0],10),k=1<<n,p=b[1],t=c?"U$S$":"$S$",q=c?CryptoJS.MD5(a):a,w=CryptoJS.SHA512(p+q),y=CryptoJS.algo.SHA512.create(),A=0,l=0;window.setTimeout(function(){for(;A<k;){y.update(w);y.update(q);w=y.finalize();y.reset();++A;var a=parseInt(100*(A/k),10);if(a!=l){l=a;e(a);window.setTimeout(arguments.callee,0);return}}e(100);a=t+s_Itoa64.charAt(n)+p+encode64(w.words);g(a.substring(0,55))},0)}
function hash_drupal_md5(a,b,c,e,g,n){b=b.split(":");var k=parseInt(b[0],10),p=1<<k,t=b[1],q=c?CryptoJS.MD5(a):a,w=CryptoJS.MD5(t+a),y=CryptoJS.algo.MD5.create(),A=0,l=0;window.setTimeout(function(){for(;A<p;){y.update(w);y.update(q);w=y.finalize();y.reset();++A;var a=parseInt(100*(A/p),10);if(a!=l){l=a;g(a);window.setTimeout(arguments.callee,0);return}}g(100);a=e+s_Itoa64.charAt(k)+t+encode64(w.words);n(a.substring(0,55))},0)}
function getDateFromUTC(a,b,c,e,g){a=new Date(Date.UTC(parseInt(a,10),parseInt(b,10),parseInt(c,10),parseInt(e,10),parseInt(g,10),0));void 0!=gUser.settings.timeoffset&&a.setMinutes(a.getMinutes()+gUser.settings.timeoffset.number);return a}function getDateFromUTCString(a,b){var c=a.split("-"),e=b.split(":"),g=parseInt(c[1],10)-1;return getDateFromUTC(c[0],g,c[2],e[0],e[1])}function leadingZero(a){return 10>a?"0"+a:a}
function formatTime(a,b,c,e,g){a=getDateFromUTC(a,b,c,e,g);b=a.getHours();if(24==gSite.TimeFormat)return leadingZero(b)+":"+leadingZero(a.getMinutes());c=" pm";12>b?c=" am":b-=12;0===b&&(b=12);return leadingZero(b)+":"+leadingZero(a.getMinutes())+c}function formatTimeStringUTC(a,b){var c=a.split("-"),e=b.split(":"),g=parseInt(c[1],10)-1;return formatTime(c[0],g,c[2],e[0],e[1])}
function formatDateTime(a,b,c,e,g){var n=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];a=getDateFromUTC(a,b,c,e,g);b=a.getHours();if(24==gSite.TimeFormat)return leadingZero(a.getDate())+". "+n[a.getMonth()]+", "+leadingZero(b)+":"+leadingZero(a.getMinutes());c=" pm";12>b?c=" am":b-=12;0===b&&(b=12);e="th";if(10>a.getDate()||20<a.getDate())switch(a.getDate()%10){case 1:e="st";break;case 2:e="nd";break;
case 3:e="rd";break;default:e="th"}return n[a.getMonth()]+" "+leadingZero(a.getDate())+e+", "+leadingZero(b)+":"+leadingZero(a.getMinutes())+c}function formatDateTimeStringUTC(a,b){var c=a.split("-"),e=b.split(":"),g=parseInt(c[1],10)-1;return formatDateTime(c[0],g,c[2],e[0],e[1])}
function formatDate(a,b,c,e,g){var n=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];a=getDateFromUTC(a,b,c,e,g);a.getHours();if(24==gSite.TimeFormat)return leadingZero(a.getDate())+". "+n[a.getMonth()];b="th";if(10>a.getDate()||20<a.getDate())switch(a.getDate()%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd";break;default:b="th"}return n[a.getMonth()]+" "+leadingZero(a.getDate())+b}
function formatDateStringUTC(a,b){var c=a.split("-"),e=b.split(":"),g=parseInt(c[1],10)-1;return formatDate(c[0],g,c[2],e[0],e[1])}function formatDateOffsetUTC(a,b){var c=a.split("-"),e=b.split(":"),g=parseInt(c[1],10)-1,c=-getDateFromUTC(c[0],g,c[2],e[0],e[1]).getTimezoneOffset();void 0!=gUser.settings.timeoffset&&(c=gUser.settings.timeoffset.number);return 0<c?"(UTC+"+c/60+")":0>c?"(UTC"+c/60+")":"(UTC)"}
function formatHourPrefixed(a){a=parseInt(a,10);if(24==gSite.TimeFormat)return leadingZero(a);var b="pm ";12>a?b="am ":a-=12;return 0===a?b+"12":b+leadingZero(a)}function asyncQuery(a,b,c,e){null==b&&(b={});b.Action=a;a=function(a){null!=a.error&&0!=a.error.length||c(a)};$.ajax({type:"POST",url:"lib/messagehub.php",dataType:"json",async:!0,data:b,complete:onAsyncDone,success:!0===e?c:a,error:onAsyncError})}
function blockingQuery(a,b,c){null==b&&(b={});b.Action=a;$.ajax({type:"POST",url:"lib/messagehub.php",dataType:"json",async:!1,data:b,complete:onAsyncDone,success:c,error:onAsyncError})}function getXHRErrors(a){if(null!=a.error&&0<a.error.length){var b="";$.each(a.error,function(a,e){b+=e});return b}return null}function onAsyncDone(a){$("#ajaxblocker").clearQueue().hide();a=getXHRErrors(a.responseJSON);null!=a&&notify(L("RequestError")+"<br/><br/>"+a)}
function onAsyncError(a,b,c){$("#ajaxblocker").clearQueue().hide();a=L("RequestError")+"<br/><br/>Status "+b+"<br/>"+c;notify(a)}var gUnappliedChanges=!1,gUser=null,gSite=null,gGame=null,gLocale=null;function L(a){return null==gLocale||null==gLocale[a]?"LOCA_MISSING_"+a:gLocale[a]}function dispatch(a){setTimeout(function(){setTimeout(a,1)},1)}function tryAutoLogin(){blockingQuery("try_auto_login",null,function(a){})}
function reloadLocale(){blockingQuery("query_locale",null,function(a){gLocale=a.locale})}function reloadUser(){gUser=null;blockingQuery("query_user",null,function(a){a.registeredUser?gUser=a:initMenu()})}function reloadConfig(){blockingQuery("query_config",null,function(a){gSite=a.site;gGame=a.game;onChangeConfig()})}function hash_fnv(a){var b=2166136261;a=a.toString();for(var c=0;c<a.length;++c)b^=a.charCodeAt(c),b+=(b<<1)+(b<<4)+(b<<7)+(b<<8)+(b<<24);return b>>>0}
function hash_object(a){var b="",c;for(c in a)b+=a[c].toString();return hash_fnv(b)}
function onChangeConfig(){reloadLocale();var a=hash_object(gSite);$('link[rel="stylesheet"]').each(function(){var b=this.href.indexOf("?");if(-1<b){for(var e=this.href.substr(0,b),b=this.href.substr(b+1).split("&"),e=e+"?v="+a,g=0;g<b.length;++g)"v"!=b[g].split("=")[0]&&(e+="&"+b[g]);this.href=e}else this.href=this.href+"?v="+a});$("#banner").detach();if("disable"!=gSite.Banner.toLowerCase()){""!==gSite.BannerLink?$("#menu").before('<a id="banner" href="'+gSite.BannerLink+'"></a>'):$("#menu").before('<div id="banner"></div>');
var b="none"!=gSite.Banner.toLowerCase()?"url(themes/banner/"+gSite.Banner+")":"none";$("#banner").css("background-image",b)}""!=gSite.HelpLink?$("#help").show():$("#help").hide();gSite.Logout?$("#logout").css("display","inline-block"):$("#logout").hide();$("#appwindow").removeClass("portalmode");gSite.PortalMode&&$("#appwindow").addClass("portalmode");"none"==gSite.Background?$("body").css("background","none"):$("body").css("background",gSite.BGColor+" url(themes/backgrounds/"+gSite.Background+") "+
gSite.BGRepeat)}function onUIDataChange(){gUnappliedChanges=!0;$(".apply_changes").button("option","disabled",!1)}function onAppliedUIDataChange(){gUnappliedChanges=!1;$(".apply_changes").button("option","disabled",!0)}
function onChangeContext(a){var b=a.currentTarget.id;a=b.split("_");for(var b=a[1],c=2;c<a.length;++c)b+=","+a[c];gUnappliedChanges?window.location.hash.substring(1,window.location.hash.length)!=b&&confirm(L("UnappliedChanges"),L("DiscardChanges"),L("Cancel"),function(){changeContext(b);onAppliedUIDataChange()}):changeContext(b)}
function changeContext(a){var b=a.split(",")[0];"settings"==b&&(b="settings_users");var c=window.location.hash.substring(1,window.location.hash.length);$(".menu_button").removeClass("on");$("#button_"+b).addClass("on");hideTooltip();return c!=a?(b=window.location.href.substr(0,window.location.href.lastIndexOf("#")),window.location.href=b+"#"+a,!0):!1}function forceChangeContext(a){changeContext(a)||menuAutoLoad()}
function confirm(a,b,c,e){$("#dialog").empty().append(a);a=$("#dialog").dialog({resizable:!1,draggable:!1,width:400,title:L("Notification"),dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:b,click:function(){$(this).dialog("close");$("#eventblocker").hide();e()}},{text:c,click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();$("#eventblocker").show()}
function notify(a){$("#dialog").empty().append(a);a=$("#dialog").dialog({resizable:!1,draggable:!1,title:L("Notification"),width:400,dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:"Ok",click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();$("#eventblocker").show()}
function prompt(a,b,c,e){$("#dialog").empty().append(a).append('<br/><input id="prompt_text" class="prompt_text"/>');a=$("#dialog").dialog({resizable:!1,draggable:!1,width:400,title:L("InputRequired"),dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:b,click:function(){$(this).dialog("close");$("#eventblocker").hide();e($("#prompt_text").val())}},{text:c,click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();
$("#eventblocker").show()}function openLink(a){window.open(a);return!1}function onResize(){hideTooltip();var a=$("#appwindow").height(),b=$("#appwindow").offset().top,c=$(window).height();c<a?0===$("input:focus").length&&(b=$("#menu").offset().top-b,a-=c,$("#appwindow").offset({top:0}),$(window).scrollTop(Math.min(a,b))):$("#appwindow").offset({top:c/2-a/2})}
$(document).ready(function(){$("#tooltip").hide();$("#sheetoverlay").hide();$("#dialog").hide();$("#ajaxblocker").hide();$(document).ajaxSend(function(){$("#ajaxblocker").clearQueue().hide();0==$("#body *").size()?$("#ajaxblocker").delay(300).queue(function(){$("#body").append('<img id="spinner" style="position: relative; top: 50%; margin-top: -32px" src="lib/layout/images/busy.gif"/>');$(this).dequeue()}):0==$("#spinner").size()&&$("#ajaxblocker").delay(800).show(200)});$(window).bind("hashchange",
menuAutoLoad);$(window).resize(onResize);reloadLocale();reloadConfig();tryAutoLogin();reloadUser();initMenu();$("#closesheet").click(closeSheet);$("#body, #banner, #menu").click(startFadeTooltip);dispatch(onResize)});
function menuAutoLoad(){var a=window.location.hash.substring(1,window.location.hash.length),b=a.split(",");if(null==gUser)switch(b[0]){default:changeContext("login");generateLogin();break;case "register":changeContext(a);generateRegistration();break;case "login":changeContext(a),generateLogin()}else if(gUser.validUser)switch(b[0]){default:0!=gUser.characterNames.length||gUser.isAdmin?(changeContext("calendar"),loadDefaultCalendar()):(changeContext("profile"),loadProfile("characters",0));break;case "calendar":changeContext(a);
loadDefaultCalendar();break;case "profile":changeContext(a);1>=b.length?loadProfile("characters",0):2==b.length?loadProfilePanel(b[1],0):loadProfilePanel(b[1],parseInt(b[2],10));break;case "raid":changeContext(a);1>=b.length?loadAllRaids():2==b.length?loadRaid(parseInt(b[1],10),"setup"):loadRaidPanel(b[1],parseInt(b[2],10));break;case "settings":gUser.isAdmin&&(changeContext(a),1>=b.length?loadSettings("users"):loadSettingsPanel(b[1]))}}
function doLogOut(){var a=function(){asyncQuery("logout",null,function(){gUnappliedChanges=!1;reloadUser();initMenu()})};gUnappliedChanges?confirm(L("UnappliedChanges"),L("DiscardChanges"),L("Cancel"),function(){a()}):a()}
function initMenu(){$("#menu").empty();$("#body").empty();if(null==gUser){var a='<span id="button_login" class="menu_button"><div class="icon"></div><div class="text">'+L("Login")+'</div><div class="indicator"></div></span>';gSite.AllowRegistration&&(a+='<span id="button_register" class="menu_button"><div class="icon"></div><div class="text">'+L("Register")+'</div><div class="indicator"></div></span>');$("#menu").append(a);$("#button_login").click(onChangeContext);$("#button_register").click(onChangeContext);
forceChangeContext("login")}else!gUser.validUser&&gUser.registeredUser?(a='<div id="logout"'+(gSite.Logout?"":' style="display:none"')+'><button class="button_logout">'+L("Logout")+"</button></div>",$("#menu").append(a),$(".button_logout").button({icons:{secondary:"ui-icon-eject"}}),$(".button_logout").click(doLogOut),a='<div id="lockMessage">'+(L("AccountIsLocked")+"<br/>"),a+=L("ContactAdminToUnlock"),a+="</div>",$("#body").empty().append(a)):(a=""+('<span id="button_calendar" class="menu_button"><div class="icon"></div><div class="text">'+
L("Calendar")+'</div><div class="indicator"></div></span>'),a+='<span id="button_raid" class="menu_button"><div class="icon"></div><div class="text">'+L("Raid")+'</div><div class="indicator"></div></span>',a+='<span id="button_profile" class="menu_button"><div class="icon"></div><div class="text">'+L("Profile")+'</div><div class="indicator"></div></span>',gUser.isAdmin&&(a+='<span id="button_settings_users" class="menu_button"><div class="icon"></div><div class="text">'+L("Settings")+'</div><div class="indicator"></div></span>'),
a+='<div id="logout"'+(gSite.Logout?"":' style="display:none"')+'><button class="button_logout">'+L("Logout")+"</button></div>",a+='<span id="help"'+(""!=gSite.HelpLink?"":' style="display:none"')+'><button class="button_help"></button></span>',$("#menu").append(a),$(".button_logout").button({icons:{secondary:"ui-icon-eject"}}),$(".button_help").button({icons:{secondary:"ui-icon-help"}}),$("#button_calendar").click(onChangeContext),$("#button_raid").click(onChangeContext),$("#button_profile").click(onChangeContext),
$("#button_settings_users").click(onChangeContext),$(".button_logout").click(doLogOut),$(".button_help").click(function(){openLink(gSite.HelpLink)}),0<window.location.hash.length?menuAutoLoad():0===gUser.characterIds.length?forceChangeContext("profile"):forceChangeContext("calendar"))}
function switchPassField(){$("#loginpass").after('<input id="loginpass" type="password" class="textactive"/>');$("#loginpass:first").detach();$("#loginpass").focus();$("#loginpass").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginname").after('<input id="loginpass" type="text" class="text" value="'+L("Password")+'">'),$("#loginpass").focus(switchPassField))});$("#loginpass").keyup(function(a){13==a.keyCode&&startLogin()})}
function generateLogin(){var a;a='<div id="loginform"><input type="hidden" id="sticky_value" name="sticky" value="false"/>';a+="<div>";a+='<input id="loginname" type="text" class="text" name="user" value="'+L("Username")+'"/>';a+="</div>";a+="<div>";a+='<input id="loginpass" type="text" class="text" value="'+L("Password")+'"/>';a+="</div>";a+='<div class="buttonfield">';a+='<button id="dologin" style="margin-left: 5px" onclick="return startLogin()" class="button_login">'+L("Login")+"</button>";a+=
'<button id="sticky" style="margin-left: 5px" class="button_sticky"></button>';a+="</div>";a+="</div>";$("#body").empty().append(a);$("#loginname").focus(function(){$("#loginname").removeClass("text").addClass("textactive");$("#loginname").val()==L("Username")&&$("#loginname").val("")});$("#loginname").blur(function(){""===$("#loginname").val()&&($("#loginname").removeClass("textactive").addClass("text"),$("#loginname").val(L("Username")))});$("#loginpass").focus(switchPassField);$("#dologin").button().click(startLogin);
$("#sticky").button({icons:{primary:"ui-icon-unlocked"}}).click(function(a){"true"==$("#sticky_value").val()?($(this).button("option","icons",{primary:"ui-icon-unlocked"}),$("#sticky_value").val("false")):($(this).button("option","icons",{primary:"ui-icon-locked"}),$("#sticky_value").val("true"));return!1});$("#loginname").keyup(function(a){13==a.keyCode&&startLogin()})}
function updateProgress(a){100==a?$("#hashing").remove():(0===$("#hashing").length&&$("#sticky_value").after('<div id="hashing"><span class="pglabel">'+L("HashingInProgress")+'</span><span id="hashprogress" class="progress"></span></div>'),$("#hashprogress").css("width",a+"%"))}
function finishLogin(a){if(null!=a.error&&0<a.error.length)$("input").removeAttr("disabled"),$("button").button("option","disabled",!1),$("#hashing").remove();else{var b=a.salt,c=a.pubkey,e=a.method,g=$("#loginpass").val();hash(c,e,g,b,updateProgress,function(b){b={user:$("#loginname").val(),pass:b,sticky:"true"==$("#sticky_value").val()};asyncQuery("login",b,function(){null!=a.error&&0<a.error.length?($("input").removeAttr("disabled"),$("button").button("option","disabled",!1),$("#hashing").remove()):
(reloadUser(),initMenu())},!0)})}}function startLogin(){if(!$("#loginform").data("submitted")){$("input").attr("disabled","disabled");$("button").button("option","disabled",!0);var a={Login:$("#loginname").val()};asyncQuery("query_credentials",a,finishLogin,!0);return!1}}
function validateRegistration(){if(""===$("#loginname").val()||$("#loginname").val()==L("Username"))return notify(L("EnterValidUsername")),!1;if(""===$("#loginpass").val()||$("#loginpass").val()==L("Password"))return notify(L("EnterNonEmptyPassword")),!1;if($("#loginpass").val()!=$("#loginpass_repeat").val())return notify(L("PasswordsNotMatch")),!1;var a={name:$("#loginname").val(),pass:$("#loginpass").val()};asyncQuery("user_create",a,function(a){a.publicmode?notify(L("RegistrationDone")):notify(L("RegistrationDone")+
"<br/>"+L("ContactAdminToUnlock"));changeContext("login");generateLogin()})}
function switchRegisterPassField(){$("#loginpass").after('<input id="loginpass" type="password" class="textactive" name="pass"/>');$("#loginpass:first").detach();$("#loginpass").focus();$("#loginpass").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginpass_repeat").before('<input id="loginpass" type="text" class="text" value="'+L("Password")+'">'),$("#loginpass").focus(switchRegisterPassField))});$("#loginpass").keyup(function(){var a=getPasswordStrength($("#loginpass").val()),
b=parseInt(100*a.quality,10);$("#strength").css("background-color",a.color).css("width",b+"%")})}
function switchRegisterPassRepeatField(){$("#loginpass_repeat").after('<input id="loginpass_repeat" type="password" class="textactive" name="pass_repeat"/>');$("#loginpass_repeat:first").detach();$("#loginpass_repeat").focus();$("#loginpass_repeat").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginpass").after('<input id="loginpass_repeat" type="text" class="text" value="'+L("RepeatPassword")+'">'),$("#loginpass_repeat").focus(switchRegisterPassRepeatField))})}
function generateRegistration(){var a;a='<div id="loginform" style="margin-top:-80px"><input type="hidden" name="register"/>';a+="<div>";a+='<input id="loginname" type="text" class="text" value="'+L("Username")+'"/>';a+="</div>";a+='<div id="strprogress"><span class="pglabel">'+L("PassStrength")+'</span><span id="strength" class="progress"></span></div>';a+="<div>";a+='<input id="loginpass" type="text" class="text" value="'+L("Password")+'"/>';a+="</div>";a+="<div>";a+='<input id="loginpass_repeat" type="text" class="text" value="'+
L("RepeatPassword")+'"/>';a+="</div>";a+='<button id="doregister" onclick="validateRegistration()" style="margin-left: 5px" class="button_register">'+L("Register")+"</button>";a+="</div>";$("#body").empty().append(a);$("#loginname").focus(function(){$("#loginname").removeClass("text").addClass("textactive");$("#loginname").val()==L("Username")&&$("#loginname").val("")});$("#loginname").blur(function(){""===$("#loginname").val()&&($("#loginname").removeClass("textactive").addClass("text"),$("#loginname").val(L("Username")))});
$("#loginpass").focus(switchRegisterPassField);$("#loginpass_repeat").focus(switchRegisterPassRepeatField);$("#doregister").button()}function delayedFadeTooltip(){var a=$("#tooltip");!1===a.data("sticky")&&a.delay(200).fadeOut(100)}function startFadeTooltip(){var a=$("#tooltip");a.fadeOut(100);null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null))}
function hideTooltip(){var a=$("#tooltip");a.stop(!0,!0).clearQueue().hide();null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null))}function showTooltip(){var a=$("#tooltip");null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null));a.stop(!0,!0).clearQueue().show();a.unbind("mouseover");a.unbind("mouseout");a.data("sticky")||(a.mouseover(showTooltip),a.mouseout(delayedFadeTooltip))}
function toggleStickyState(a,b){var c=$("#tooltip"),e=a.attr("id"),g=c.data("id"),g=e==g;if(c.is(":visible")){if(b)c.data("sticky")?(c.data("sticky",!1),c.fadeOut(100)):(a.unbind("mouseout"),c.data("sticky",!0),showTooltip());else{if(!c.data("sticky")&&(a.unbind("mouseout"),a.mouseout(delayedFadeTooltip),!g))return c.data("id",e),!1;showTooltip()}return!0}a.unbind("mouseout");c.data("id",e);b?c.data("sticky",!0):(c.data("sticky",!1),a.mouseout(delayedFadeTooltip));return!1}
function setTooltipArrowTopLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("top left")}function setTooltipArrowTopRightBadge(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("top right_badge")}function setTooltipArrowBottomLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("bottom left")}
function setTooltipArrowBottomRight(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("bottom right")}function setTooltipArrowLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("side_left")}function setTooltipArrowRight(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("side_right")}
function getPageCenter(){var a=$("#body"),b=a.offset();return{X:b.left+0.5*a.width(),Y:b.top+0.5*a.height()}}function showTooltipRaidInfo(a,b,c,e,g){null!=gUser&&(toggleStickyState(a,g)||showTooltipRaidInfoSwitch(a,b,c,e))}
function showTooltipRaidInfoSwitch(a,b,c,e){var g=$("#info_text"),n=$("#tooltip"),k=a.offset(),p=getPageCenter();g.empty().append(generateRaidTooltip(b,c,e));$(".icon",g).click(function(){changeContext("raid,setup,"+b.id)});$(".attend",g).change(function(){triggerAttend(this.value,-1,b.id,e)});$(".attend_sub",g).change(function(){triggerAttend($(".attend",g).val(),this.value,b.id,e)});$(".commentbadge",g).click(function(g){showTooltipRaidCommentSwitch(a,b,c,e);g.stopPropagation()});showTooltip();
for(var t=[],q=$(".attend",g).val(),w=-1,y=0;y<gUser.characterIds.length;++y)if(gUser.characterGames[y]==gGame.GameId){gUser.characterIds[y]==q&&(w=y);var A=gGame.Classes[gUser.characterClass[y][0]];t[gUser.characterIds[y]]="themes/icons/"+gSite.Iconset+"/classessmall/"+A.style+".png"}$(".attend",g).combobox({inlineStyle:{"float":"left"},darkBackground:!0,icons:t});t=[];if(0<=w){if("multi"==gGame.ClassMode)for(y=0;y<gUser.characterClass[w].length;++y)A=gGame.Classes[gUser.characterClass[w][y]],t[y]=
"themes/icons/"+gSite.Iconset+"/classessmall/"+A.style+".png";else t[0]="lib/layout/images/icon_"+gGame.Roles[gUser.role1[w]].style+".png",t[1]="lib/layout/images/icon_"+gGame.Roles[gUser.role2[w]].style+".png";$(".attend_sub",g).combobox({inlineStyle:{"float":"left","margin-left":5},darkBackground:!0,iconAsValue:!0,icons:t})}e?k.top<p.Y?(k.top+=a.height()+12,k.left<p.X?(k.left-=10,n.offset(k),setTooltipArrowTopLeft()):(k.left-=n.width()-a.width()/2-40,n.offset(k),setTooltipArrowTopRightBadge())):
(k.top-=n.height()+30,k.left<p.X?(k.left-=10,n.offset(k),setTooltipArrowBottomLeft()):(k.left-=n.width()-a.width()/2-8,n.offset(k),setTooltipArrowBottomRight())):(k.left+=a.width()+10,n.offset(k),setTooltipArrowLeft())}
function showTooltipRaidCommentSwitch(a,b,c,e){var g=$("#info_text"),n=$("#tooltip").width(),k=$("#tooltip").height();g.empty().append(generateRaidCommentTooltip(b));$(".infobadge",g).click(function(g){showTooltipRaidInfoSwitch(a,b,c,e);g.stopPropagation()});$(".text",g).css("width",n-6).css("height",k-47);$("button",g).click(function(){var a=$(".text",g).val();triggerUpdateComment(a,b.id,e)});$("button",g).button({icons:{secondary:"ui-icon-disk"}})}
function commitAttend(a,b,c,e,g){asyncQuery("raid_attend",{attendanceId:a,attendanceSubId:b,fallback:0,raidId:c,comment:g},e?generateCalendar:loadAllRaids)}function triggerAttend(a,b,c,e){null!=gUser&&(-1==a?prompt(L("WhyAbsent"),L("SetAbsent"),L("Cancel"),function(g){commitAttend(a,b,c,e,g)}):commitAttend(a,b,c,e,""),startFadeTooltip())}function triggerUpdateComment(a,b,c){null!=gUser&&asyncQuery("comment_update",{raidId:b,comment:a},c?generateCalendar:loadAllRaids)}
function applyLocationImage(a,b){var c=a.src.substr(a.src.lastIndexOf("/")+1);$("#locationimagepicker").css("background-image","url(themes/icons/"+gSite.Iconset+"/raidbig/"+c+")");$("#locationimagepicker").data("selectedImage",c);b&&onUIDataChange();startFadeTooltip()}
function applyLocationImageExternal(a,b){var c=a.src.substr(a.src.lastIndexOf("/")+1),e=$("#locationimagelist").data("external");e.css("background-image","url(themes/icons/"+gSite.Iconset+"/raidsmall/"+c+")");e.data("selectedImage",c);b&&onUIDataChange();startFadeTooltip()}
function onLocationChange(a){$("#locationimagepicker").unbind("click").removeClass("clickable");0===a.selectedIndex?($(a).combobox("editable",!0),$("#locationimagepicker").addClass("clickable").click(function(a){showTooltipRaidImageList();a.stopPropagation()}),$("#locationimagepicker").css("background-image","url(lib/layout/images/icon_choose.png)")):($(a).combobox("editable",!1),a=$("#locationimagepicker").data("imageNames")[a.selectedIndex-1],$("#locationimagepicker").css("background-image","url(themes/icons/"+
gSite.Iconset+"/raidbig/"+a+")"))}function showTooltipRaidImageListAtElement(a){var b=$("#tooltip");b.data("sticky",!0);if(b.is(":visible"))b.fadeOut(100);else{$("#info_text").empty().append($("#locationimagelist > *").clone());showTooltip();var c=a.offset();c.left+=32<a.width()?5:-10;c.top+=a.height()+10;b.offset(c);setTooltipArrowTopLeft()}}function showTooltipRaidImageList(a){showTooltipRaidImageListAtElement($("#locationimagepicker"))}
function showTooltipCharChooser(a,b,c,e,g){if(!toggleStickyState(a.parent(),e)){var n=$("#tooltip");e=$("#info_text");for(var k=a.offset(),p=getPageCenter(),t="",q=0,w=0;w<b.characters.length;++w)if(b.characters[w].id==b.charId){q=w;break}if("multi"==gGame.ClassMode)for(w=0;w<b.className.length&&b.className[w]!=b.activeClass;++w);for(var y=[],A=[],w=0;w<b.characters.length;++w){var l=b.characters[w];if("multi"==gGame.ClassMode)for(var u=0;u<l.className.length;++u){var B=l.className[u],d=gGame.Classes[B],
d=null==d?c:d.defaultRole;void 0==A[d]&&(A[d]=[]);-1==y.indexOf(d)&&y.push(d);A[d].push({charIdx:w,classId:B,roleId:d})}else B=l.className[0],void 0==A[l.firstRole]&&(A[l.firstRole]=[]),-1==y.indexOf(l.firstRole)&&y.push(l.firstRole),A[l.firstRole].push({charIdx:w,classId:B,roleId:l.firstRole}),l.secondRole!=l.firstRole&&(void 0==A[l.secondRole]&&(A[l.secondRole]=[]),-1==y.indexOf(l.secondRole)&&y.push(l.secondRole),A[l.secondRole].push({charIdx:w,classId:B,roleId:l.secondRole}))}for(var h=[],f=y.indexOf(c),
w=0;w<y.length;++w)h[y[w]]=0;if("___"!=b.className[0])for(l=A[c],w=0;w<l.length;++w)if(l[w].charIdx==q&&("multi"!=gGame.ClassMode||l[w].classId==b.activeClass)){h[c]=w;break}a.data("setup_info",{charIdx:q,classId:b.activeClass,roleId:c});t+='<div style="width: 116px; display: inline-block"><div class="role_select">';if(1<y.length)for(t+='<div class="switch_role_up clickable"></div><div class="switch_role_down clickable"></div>',q=f+y.length-1,w=0;w<y.length;++w)l=(q+w)%y.length,t+='<img class="role" style="opacity: '+
(y[l]==c?1:0.25)+'" src="lib/layout/images/icon_'+gGame.Roles[y[l]].style+'.png"/>';else t+='<img class="single_role" src="lib/layout/images/icon_'+gGame.Roles[c].style+'.png"/>';t+="</div>";t+='<div class="char_select'+(1<A[c].length?" clickable":"")+'">';t+='<div class="switch_char_next"></div>';t+='<div class="mainchar"></div>';t+="</div>";gUser.isRaidlead&&"___"!=b.className[0]&&"unavailable"!=b.status&&"undecided"!=b.status&&(t+='<button class="switch_button">'+L("Switch")+"</button>",t+='<button class="absent_button">'+
L("Retire")+"</button>");t+="</div>";t+='<div class="player_info">';t+='<div class="name"></div>';t+='<div class="detail"></div>';if(0===b.comment.length)switch(b.status){case "undecided":t+=L("Undecided");break;case "unavailable":t+=L("AbsentNoReason")}else c=b.comment.replace(/(http[s]*:\/\/\S+)/g,'<a href="$1" target="_blank">$1</a>'),t+=c;t+="</div>";e.empty().append(t);$(".switch_button",e).button({icons:{primary:"ui-icon-transferthick-e-w"}});$(".absent_button",e).button({icons:{primary:"ui-icon-cancel"}});
$(".switch_button",e).click(function(){var a=y[f],c=A[a][h[a]];b.switchTo(c.charIdx,a,c.classId);onUIDataChange();hideTooltip()});$(".absent_button",e).click(function(){b.setAbsent();hideTooltip()});var r=$(".role_select",n),C=$(".char_select",n),Q=$(".mainchar",C),R=$(".name",n),F=$(".detail",n),U=function(){var c=y[f],d=A[c][h[c]],e=b.characters[d.charIdx],g=e.name,k=d.classId,k="___"!=k?gGame.Classes[k].style:"random";C.css("background-image","url(themes/icons/"+gSite.Iconset+"/classesbig/"+k+
".png)");R.empty().append(g);if("single"==gGame.ClassMode)e=L(gGame.Roles[e.firstRole].name)+(e.firstRole!=e.secondRole?", "+L(gGame.Roles[e.secondRole].name):""),F.empty().append(e);else{F.empty();for(var l=0;l<e.className.length;++l)"___"==e.className[l]?F.append(L("Random")):F.append((0<l?", ":"")+L(gGame.Classes[e.className[l]].name))}b.characters[d.charIdx].mainchar?Q.show():Q.hide();C.removeClass("clickable");1<A[c].length?($(".switch_char_next",n).show(),C.addClass("clickable")):$(".switch_char_next",
n).hide();a.data("setup_info",d);!gUser.isRaidlead||"unavailable"!=b.status&&"undecided"!=b.status||($(a).css("backgroundImage","url(themes/icons/"+gSite.Iconset+"/classessmall/"+k+".png)"),$(".playerName",a.parent()).empty().append(g))};U();C.click(function(){var a=y[f];h[a]=(h[a]+1)%A[a].length;U()});$(".switch_role_up",n).click(function(){f=(f+y.length-1)%y.length;$(".role:last",r).clone().prependTo(r);$(".role",r).css("top",-48);$(".role",r).slice(3).animate({top:-16},300);$(".role:eq(1)",r).animate({opacity:1,
top:-16},300);$(".role:eq(2)",r).animate({opacity:0.25,top:-16},300);$(".role:eq(0)",r).animate({top:-16},300,function(){U();$(".role:last",r).detach()})});$(".switch_role_down",n).click(function(){f=(f+1)%y.length;$(".role:first",r).clone().appendTo(r);$(".role",r).slice(3).animate({top:-48},300);$(".role:eq(1)",r).animate({opacity:0.25,top:-48},300);$(".role:eq(2)",r).animate({opacity:1,top:-48},300);$(".role:eq(0)",r).animate({top:-48},300,function(){U();$(".role:first",r).detach();$(".role").css("top",
-16)})});showTooltip();n.data("onHide",g);k.left+=a.width()/2+14;k.top-=n.height()+30;k.left<p.X?(k.left-=40,n.offset(k),setTooltipArrowBottomLeft()):(k.left-=n.width()+6,n.offset(k),setTooltipArrowBottomRight())}}function validateRoles(a){var b=gGame.Classes[a.charClass[0]];if("multi"==gGame.ClassMode)a.role1=b.defaultRole,a.role2=b.defaultRole;else{var c=b.roles,e=!1,g=!1;for(i=0;i<c.length;++i)c[i]==a.role1&&(e=!0),c[i]==a.role2&&(g=!0);e||(a.role1=b.defaultRole);g||(a.role2=b.defaultRole)}}
function showTooltipClassList(a,b){var c=$("#tooltip");c.data("sticky",!0);if(c.is(":visible"))c.fadeOut(100);else{var e=$("#info_text"),g=a.offset(),n=getPageCenter(),k="<div><div>",p=0;$.each(gGame.Classes,function(a,b){0<p&&0==p%5&&(k+='</div><div style="clear: left">');k+='<span class="class_select clickable" id="cs_'+a+'"><img src="themes/icons/'+gSite.Iconset+"/classessmall/"+b.style+'.png"/><br/>'+L(b.name)+"</span>";++p});k+="</div></div>";e.empty().append(k);$(".class_select").click(function(){var c=
$(this).attr("id").substr(3),e=parseInt(a.parent().attr("id").substr(4),10),e=$("#charlist").data("characters").mCharacters[e];e.charClass=Array(c);a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[c].style+".png)");validateRoles(e);b();hideTooltip();onUIDataChange()});showTooltip();g.left<n.X?(g.left+=a.width()+10,setTooltipArrowLeft()):(g.left-=c.width()+30,setTooltipArrowRight());c.offset(g)}}
function showTooltipClassListMultiSelect(a,b){var c=$("#tooltip");c.data("sticky",!0);if(c.is(":visible"))c.fadeOut(100);else{var e=$("#info_text"),g=a.offset(),n=getPageCenter(),k=g.left<n.X,n=parseInt(a.parent().attr("id").substr(4),10),p=$("#charlist").data("characters").mCharacters[n],t="",q=function(){var c="";k&&(c=1<p.charClass.length?c+'<img class="shuffle clickable" src="lib/layout/images/move_left.png"/>':c+'<img class="shuffle" style="opacity: 0.5" src="lib/layout/images/move_left.png"/>');
for(var c=c+'<span style="display: inline-block"><div style="height: 42px">',e=0,g=0;g<p.charClass.length;++g){var n=p.charClass[g];"empty"!=n&&(0<e&&0===e%7&&(c+='</div><div style="height: 42px; clear: left">'),c+='<img class="class_selected'+(1<p.charClass.length?" clickable":"")+'" style="'+(k?"float: left":"float: right")+'" id="cs_'+n+'" src="themes/icons/'+gSite.Iconset+"/classessmall/"+gGame.Classes[n].style+'.png"/>',++e)}c+="</div></span>";k||(c=1<p.charClass.length?c+'<img class="shuffle clickable" src="lib/layout/images/move_right.png"/>':
c+'<img class="shuffle" style="opacity: 0.5" src="lib/layout/images/move_right.png"/>');$(".multi_selected").empty().append(c);$(".class_selected").click(function(){var c=0<$("#tooltip .multi_selected .class_selected:animated").length;1<p.charClass.length&&!c&&(c=$(this).attr("id").substr(3),c=p.charClass.indexOf(c),p.charClass.splice(c,1),a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[p.charClass[0]].style+".png)"),0==c&&(validateRoles(p),b()),q(),onUIDataChange())});
$(".shuffle").click(function(){var c=0<$("#tooltip .multi_selected .class_selected:animated").length;1<p.charClass.length&&!c&&$("#tooltip .multi_selected .class_selected:first").fadeOut(200,function(){p.charClass[p.charClass.length]=p.charClass[0];p.charClass.splice(0,1);a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[p.charClass[0]].style+".png)");validateRoles(p);b();q();onUIDataChange();$("#tooltip .multi_selected .class_selected:last").hide().fadeIn(300)})})},
t=k?t+'<div class="multi_selected"></div>':t+'<div class="multi_selected" style="text-align: right"></div>',t=t+'<div style="clear: left"><div>',w=0;$.each(gGame.Classes,function(a,b){0<w&&0==w%5&&(t+='</div><div style="clear: left">');t+='<span class="class_select clickable" id="cs_'+a+'"><img src="themes/icons/'+gSite.Iconset+"/classessmall/"+b.style+'.png"/><br/>'+L(b.name)+"</span>";++w});t+="</div></div>";e.empty().append(t);q();$(".class_select").click(function(){var c=$(this).attr("id").substr(3);
"empty"==p.charClass[0]&&p.charClass.splice(0,1);-1==p.charClass.indexOf(c)&&(p.charClass.push(c),a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[p.charClass[0]].style+".png)"),1==p.charClass.length&&(validateRoles(p),b()),q(),onUIDataChange())});showTooltip();k?(g.left+=a.width()+10,setTooltipArrowLeft()):(g.left-=c.width()+30,setTooltipArrowRight());c.offset(g)}}
function showUnlinkTooltip(a,b){if(null!=gUser){var c=$("#tooltip");c.data("sticky",b);if(c.is(":visible"))c.fadeOut(100);else{var e=$("#info_text"),g=$(".userLinked > .userImage",a),n=g.offset(),k;k='<div style="width: 200px"><img id="unlink" class="removeLink clickable" src="lib/layout/images/remove.png"/>'+('<div style="padding-top: 2px; margin-right: 4px;">'+L("UnlinkUser")+"</div>");k+="</div>";e.empty().append(k);var p=a.attr("id");$("#unlink").click(function(){unlinkUser(p);hideTooltip()});
showTooltip();n.left+=g.width()+5;n.top-=10;c.offset(n);setTooltipArrowLeft()}}}
function showUserTooltip(a,b){if(null!=gUser){var c=$("#tooltip");c.data("sticky",b);if(c.is(":visible"))c.fadeOut(100);else{var e=$("#info_text"),g=$(".userDrag > .userImage",a),n=g.offset(),k=a.parent().attr("id"),p='<div style="margin-bottom: 10px">'+L("MoveUser")+"</div>",p=p+'<select id="grp_move" style="width: 160px">'+('<option value="groupBanned"'+("groupBanned"==k?" selected":"")+">"+L("Locked")+"</option>"),p=p+('<option value="groupMember"'+("groupMember"==k?" selected":"")+">"+L("Members")+
"</option>"),p=p+('<option value="groupRaidlead"'+("groupRaidlead"==k?" selected":"")+">"+L("Raidleads")+"</option>"),p=p+('<option value="groupAdmin"'+("groupAdmin"==k?" selected":"")+">"+L("Administrators")+"</option>"),p=p+'<option value="-">---</option>',p=p+('<option value="groupSync">'+L("LinkUser")+"</option>"),p=p+"</select>";e.empty().append(p);var t=a.attr("id");$("#grp_move").change(function(){moveUserToGroup(t,$("#grp_move > option:selected").val());hideTooltip()});$("#grp_move").combobox({darkBackground:!0});
showTooltip();n.left+=g.width()+5;n.top-=10;c.offset(n);setTooltipArrowLeft()}}}function closeSheet(){hideTooltip();$("#sheetoverlay").is(":visible")&&$("#sheetoverlay").fadeOut(100,function(){$(this).hide();$("#eventblocker").hide();$("#sheet_body").empty()})}
function showSheetNewRaid(a,b,c,e){if(null!=gUser){var g=$("#sheetoverlay"),n=$("#sheet_body");HTMLString='<span style="display: inline-block; vertical-align: top; margin-right: 20px">';HTMLString+='<div id="raiddatepicker"></div>';HTMLString+="</span>";HTMLString+='<span style="display: inline-block; vertical-align: top">';HTMLString+='<span style="display: inline-block; margin-right: 5px; float: left" class="imagepicker clickable" id="locationimagepicker"><div class="imagelist" id="locationimagelist"></div></span>';
HTMLString+='<span style="display: inline-block; vertical-align: top; margin-top: 6px">';HTMLString+='<div style="margin-bottom: 10px">';HTMLString+='<select id="selectlocation" onchange="onLocationChange(this)">';HTMLString+='<option value="0">'+L("NewDungeon")+"</option>";HTMLString+="</select>";HTMLString+='<span style="display: inline-block; width: 3px;"></span>';HTMLString+='<select id="selectsize" style="width: 48px">';$.each(gGame.Groups,function(a,b){HTMLString+='<option value="'+a+'">'+a+
"</option>"});HTMLString+="</select>";HTMLString+="</div>";HTMLString+="<div>";HTMLString+='<select id="starthour">';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 10px">:</span>';HTMLString+='<select id="startminute" style="width: 48px">';HTMLString+='<option value="0">00</option>';HTMLString+='<option value="15">15</option>';HTMLString+='<option value="30">30</option>';HTMLString+='<option value="45">45</option>';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 20px">'+
L("to")+"</span>";HTMLString+='<select id="endhour">';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 10px">:</span>';HTMLString+='<select id="endminute" style="width: 48px">';HTMLString+='<option value="0">00</option>';HTMLString+='<option value="15">15</option>';HTMLString+='<option value="30">30</option>';HTMLString+='<option value="45">45</option>';HTMLString+="</select>";HTMLString+="</div>";HTMLString+="</span>";HTMLString+='<div style="margin-top: 16px; clear: left">';
HTMLString+='<textarea id="descriptiondummy" class="textdummy description">'+L("Description")+"</textarea>";HTMLString+='<textarea id="description" class="textinput description" style="display:none"></textarea>';HTMLString+="</div>";HTMLString+="</div>";HTMLString+="</span>";HTMLString+='<div style="margin-top: 10px; clear: left">';HTMLString+='<span style="float: left; width: 230px">';HTMLString+='<input type="text" id="repeat_amount" value="0" class="textinput" style="padding-left: 3px; color: #ccc; width: 31px; height: 16px">';
HTMLString+='<select id="repeat_stride" style="width: 180px">';HTMLString+='<option value="once">'+L("RepeatOnce")+"</option>";HTMLString+='<option value="day">'+L("RepeatDay")+"</option>";HTMLString+='<option value="week">'+L("RepeatWeek")+"</option>";HTMLString+='<option value="month">'+L("RepeatMonth")+"</option>";HTMLString+="</select>";HTMLString+="</span>";HTMLString+='<span style="display: inline-block; margin-left: 20px; width: 301px" id="submit_options">';HTMLString+='<select id="selectmode" style="width: 180px">';
HTMLString+='<option value="manual">'+L("RaidModeManual")+"</option>";HTMLString+='<option value="overbook">'+L("RaidModeOverbook")+"</option>";HTMLString+='<option value="attend">'+L("RaidModeAttend")+"</option>";HTMLString+='<option value="all">'+L("RaidModeAll")+"</option>";HTMLString+='<option value="optout">'+L("RaidModeOptOut")+"</option>";HTMLString+="</select>";HTMLString+='<button id="newRaidSubmit" style="float:right">'+L("CreateRaid")+"</button>";HTMLString+="</span>";HTMLString+="</div>";
n.empty().append(HTMLString);$("#descriptiondummy").focus(function(){$("#descriptiondummy").hide();$("#description").show().focus()});$("#description").blur(function(){""===$("#description").val()&&($("#description").hide(),$("#descriptiondummy").show())});var k=[];$.each(a.location,function(a,b){k[a]=b.image;$("#selectlocation").append('<option value="'+b.id+'">'+b.name+"</option>")});$("#locationimagepicker").data("imageNames",k);HTMLString="<span><div>";var p=1;$.each(a.locationimage,function(a,
b){0===p%11&&(HTMLString+="<br/>",++p);HTMLString+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+b+'" onclick="applyLocationImage(this, false)" style="width: 32px; height: 32px; margin-right: 5px;"/>';++p});HTMLString+="</div></span>";$("#locationimagelist").append(HTMLString);$("#locationimagepicker").data("selectedImage","unknown.png").click(function(a){showTooltipRaidImageList();a.stopPropagation()});HTMLString="";for(i=4;0<=i;--i)HTMLString+='<option value="'+i+'">'+
formatHourPrefixed(i)+"</option>";for(i=23;4<i;--i)HTMLString+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";var n=24==gSite.TimeFormat?48:64,t=24==gSite.TimeFormat?181:213,q=24==gSite.TimeFormat?295:327;$("#starthour").css("width",n).empty().append(HTMLString);$("#endhour").css("width",n).empty().append(HTMLString);$("#selectlocation").css("width",t);$("#descriptiondummy").css({width:q,"max-width":q});$("#description").css({width:q,"max-width":q});var w=[];w.RaidStartHour=19;w.RaidStartMinute=
15;w.RaidEndHour=23;w.RaidEndMinute=0;w.RaidSize=10;w.StartOfWeek=1;$.each(a.setting,function(a,b){w[b.name]=b.value});$("#starthour").children("option").each(function(){$(this).val()==w.RaidStartHour&&$(this).attr("selected","selected")});$("#startminute").children("option").each(function(){$(this).val()==w.RaidStartMinute&&$(this).attr("selected","selected")});$("#endhour").children("option").each(function(){$(this).val()==w.RaidEndHour&&$(this).attr("selected","selected")});$("#endminute").children("option").each(function(){$(this).val()==
w.RaidEndMinute&&$(this).attr("selected","selected")});$("#selectsize").children("option").each(function(){$(this).val()==w.RaidSize&&$(this).attr("selected","selected")});$("#selectmode").children("option").each(function(){$(this).val()==w.RaidMode&&$(this).attr("selected","selected")});a=[L("Sun"),L("Mon"),L("Tue"),L("Wed"),L("Thu"),L("Fri"),L("Sat")];n=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];
0<b?$("#raiddatepicker").datepicker({dayNamesShort:a,dayNamesMin:a,monthNames:n,firstDay:w.StartOfWeek,inline:!0,defaultDate:c+"/"+b+"/"+e}):$("#raiddatepicker").datepicker({dayNamesShort:a,dayNamesMin:a,monthNames:n,firstDay:w.StartOfWeek,inline:!0});$("#newRaidSubmit").click(triggerNewRaid);$("#eventblocker").show().click(startFadeTooltip);g.show();$("#newRaid").click(startFadeTooltip);$("#sheetoverlay").click(startFadeTooltip);$("#repeat_stride").combobox({inlineStyle:{"float":"right"},darkBackground:!0});
$("#selectlocation").combobox({editable:!0,darkBackground:!0});$("#selectsize").combobox({darkBackground:!0});$("#starthour").combobox({darkBackground:!0});$("#startminute").combobox({darkBackground:!0});$("#endhour").combobox({darkBackground:!0});$("#endminute").combobox({darkBackground:!0});$("#stage").combobox({darkBackground:!0});$("#selectmode").combobox({inlineStyle:{"float":"left"},darkBackground:!0});$("#newRaidSubmit").button({icons:{secondary:"ui-icon-disk"}})}}
function triggerNewRaid(){var a=$("#locationimagepicker").data("selectedImage"),b=new Date($("#raiddatepicker").datepicker("getDate")),c=new Date(b);b.setHours(parseInt($("#starthour").val(),10));b.setMinutes(parseInt($("#startminute").val(),10));c.setHours(parseInt($("#endhour").val(),10));c.setMinutes(parseInt($("#endminute").val(),10));b.getHours()>c.getHours()&&(c.setTime(c.getTime()+864E5),c.setHours(parseInt($("#endhour").val(),10)));a={raidImage:a,locationId:$("#selectlocation").val(),locationSize:$("#selectsize").val(),
locationName:$("#selectlocation_edit").val(),startYear:b.getFullYear(),startMonth:b.getMonth()+1,startDay:b.getDate(),startHour:b.getHours(),startMinute:b.getMinutes(),startOffset:b.getTimezoneOffset(),endYear:c.getFullYear(),endMonth:c.getMonth()+1,endDay:c.getDate(),endHour:c.getHours(),endMinute:c.getMinutes(),endOffset:c.getTimezoneOffset(),mode:$("#selectmode").val(),description:$("#description").val(),repeat:$("#repeat_amount").val(),stride:$("#repeat_stride").children("option:selected").val()};
asyncQuery("raid_create",a,generateCalendar)}function matchesDate(a,b){var c=getDateFromUTCString(a.startDate,a.start);return c.getFullYear()==b.getFullYear()&&c.getMonth()==b.getMonth()&&c.getDate()==b.getDate()}
function generateRaidTooltip(a,b,c){var e="",g=a.status,n=a.role,k=a.image,p="",t="status",q="";"available"==g?(p=L("Benched"),t+="wait"):"unavailable"==g?b&&(p=L("Absent"),t+="absent"):"ok"==g?(p=L("RaidingAs")+" "+L(gGame.Roles[n].name),t+="ok",q=gGame.Roles[n].style):b&&(p=L("NotSignedUp"));var n=a.attendanceIndex,w=a.size,e=e+'<span class="tooltip">';!b&&0<gUser.characterIds.length&&(e+='<div class="commentbadge clickable"></div>');var y=a.start,A=a.startDate,l=a.end,u=a.endDate,B=a.location,
d=12;30>B.length?d=16:45>B.length&&(d=14);e+='<div class="icon clickable" style="background: url(\'themes/icons/'+gSite.Iconset+"/raidbig/"+k+"')\">";if(c){var h=[];$.each(gGame.Roles,function(b,c){var d=a.slotMax[b],e=a.slotCount[b];e<d&&(e=d-e,d=parseInt(100*(e/d)),h.push({order:d,count:e,style:c.style}))});if(0==h.length)e+='<div class="wantedbadge"><span class="wrap ok"></span><span class="count role_ok ok"></span></div>';else for(h.sort(function(a,b){return b.order-a.order}),c=0;2>c&&c<h.length;++c)e+=
'<div class="wantedbadge" style="top: -'+3*c+"px; z-index: "+(5-c)+'"><span class="wrap lfm"></span><span class="count '+h[c].style+' lfm">+'+h[c].count+"</span></div>"}e+='</div><div class="textBlock">';e+='<div class="location" style="font-size: '+d+'px">'+B+" ("+w+")</div>";e+='<div class="time">'+formatTimeStringUTC(A,y)+" - "+formatTimeStringUTC(u,l);e+=" "+formatDateOffsetUTC(A,y)+"</div>";e+='<div class="attends">'+a.attended+" / "+w+" "+L("Players")+"</div>";e+='<div class="description">'+
a.description+"</div>";e+="</div>";e+='<div class="functions">';k=!1;for(c=0;!k&&c<gUser.characterIds.length;++c)gUser.characterGames[c]==gGame.GameId&&(k=!0);if(!b&&k){e+='<select class="attend" style="width: 130px">';0===n&&(e+='<option value="0" selected>'+L("NotSignedUp")+"</option>");k=-1;for(c=0;c<gUser.characterIds.length;++c)gUser.characterGames[c]==gGame.GameId&&((w=n==gUser.characterIds[c])&&(k=c),e+='<option value="'+gUser.characterIds[c]+'"'+(w?" selected":"")+">"+gUser.characterNames[c]+
"</option>");e+='<option value="-1"'+(-1==n?" selected":"")+">"+L("Absent")+"</option>";e+="</select>";if(!gSite.PrimaryRole&&("available"==g||"attend"==a.mode||"all"==a.mode)&&0<=k)if("multi"==gGame.ClassMode){if(g=gUser.characterClass[k].length,1<g){e+='<select class="attend_sub">';for(c=0;c<g;++c)n=gUser.characterClass[k][c],w=n==a.classId,e+='<option value="'+c+'"'+(w?" selected":"")+">"+L(gGame.Classes[n].name)+"</option>";e+="</select>"}}else g=gUser.role1[k],n=gUser.role2[k],g!=n&&(e+='<select class="attend_sub">',
e+='<option value="0"'+(a.role==g?" selected":"")+">"+L(gGame.Roles[g].name)+"</option>",e+='<option value="1"'+(a.role==n?" selected":"")+">"+L(gGame.Roles[n].name)+"</option>",e+="</select>")}offsetText=b?"":' style="margin-left: 10px"';""!=p&&(e+='<span class="attendstatus leftgradient_'+q+" "+t+'"'+offsetText+">",e+='<span class="attendtext">'+p+"</span>",""!=q&&(e+='<img class="attendedrole" src="lib/layout/images/icon_'+q+'.png"/>'),e+="</span>");e+="</div>";return e+="</span>"}
function generateRaidCommentTooltip(a){var b;b='<span class="comment"><div class="infobadge clickable"></div>';b+='<button class="submit">'+L("SaveComment")+"</button>";b+='<textarea class="text">'+a.comment.replace(/<\/br>/g,"\n")+"</textarea>";return b+="</span>"}
function generateCalendar(a){startFadeTooltip();closeSheet();for(var b=[L("Sunday"),L("Monday"),L("Tuesday"),L("Wednesday"),L("Thursday"),L("Friday"),L("Saturday")],c=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")],e='<div id="calendarPositioner"><table id="calendar" cellspacing="0" border="0">',g=parseInt(a.startDay,10),n=parseInt(a.startMonth,10)-1,k=parseInt(a.startYear,10),p=parseInt(a.startOfWeek,
10),g=new Date(k,n,g),n=parseInt(a.displayMonth,10)-1,k=parseInt(a.displayYear,10),t=void 0==gUser.settings.VacationStart?0:1E3*gUser.settings.VacationStart.number,q=void 0==gUser.settings.VacationEnd?0:1E3*gUser.settings.VacationEnd.number,e=e+"<tr>",w=0;7>w;++w)e+='<td class="weekday">'+b[(w+p)%7]+"</td>";e+="</tr>";b=0;p=new Date;p=new Date(p.getFullYear(),p.getMonth(),p.getDate());for(w=0;6>w;++w){for(var e=e+'<tr class="row">',y=0;7>y;++y){var A=g<p,l=g.getMonth()==n?"shadow_gray":"shadow_white",
u=g.getMonth()==n?"dayOfMonth":"dayOfOther",B="day",d="vacation";g.getMonth()==p.getMonth()&&g.getDate()==p.getDate()?(B="today ",d="vacation_today"):0===y&&(B="dayFirst");e=g.getTime()>=t&&g.getTime()<=q?e+('<td class="'+B+" calendarDay "+d+'" id="'+g.getTime()+'">'):e+('<td class="'+B+' calendarDay" id="'+g.getTime()+'">');e+='<div class="day_overflow">';for(e+='<div class="'+u+" "+l+'">'+g.getDate()+"</div>";b<a.raid.length&&matchesDate(a.raid[b],g);){var l=a.raid[b],u=l.status,B=l.id,d=l.size,
h=l.image,f="locked"==l.stage,r="status";"available"==u?r+="wait":"unavailable"==u?r+="absent":"ok"==u&&(r+="ok");e+='<span id="raid'+B+'" index="'+b+'" locked="'+(A||f)+'" class="raid clickable" style="background: url(\'themes/icons/'+gSite.Iconset+"/raidsmall/"+h+'\')" class="raidimg">';e+='<div class="'+r+' shadow_inlay">'+d+"</div>";"canceled"==l.stage?(e+='<div class="overlayCanceled"></div>',f=!0):f&&(e+='<div class="overlayLocked"></div>',f=!0);e+="</span>";++b}e+="</div>";e+="</td>";g.setDate(g.getDate()+
1)}e+="</tr>"}e+='</table></div><div id="calendarFunctions">';e+='<button class="button button_prev_month" onclick="loadCalendar('+n+", "+k+', -1)"></button>';e+='<button class="button button_next_month" onclick="loadCalendar('+n+", "+k+', 1)"></button>';gUser.isRaidlead&&(e+='<button class="button button_new_raid" onclick="loadNewRaidSheet()"></button>');e+='<span id="month">'+c[n]+" "+k+"</span>";e+="</div>";$("#body").empty().append(e);$(".button_prev_month").button({icons:{primary:"ui-icon-carat-1-w"},
text:!1});$(".button_next_month").button({icons:{primary:"ui-icon-carat-1-e"},text:!1});$(".button_new_raid").button({icons:{primary:"ui-icon-plus"},text:!1});$(".raid").each(function(){var b=parseInt($(this).attr("index"),10),c="true"==$(this).attr("locked"),d=a.raid[b];$(this).mouseover(function(){showTooltipRaidInfo($(this),d,c,!0,!1)});$(this).click(function(a){showTooltipRaidInfo($(this),d,c,!0,!0);a.stopPropagation()});$(this).dblclick(function(a){changeContext("raid,setup,"+d.id);a.stopPropagation()})});
gUser.isRaidlead&&($(".calendarDay").dblclick(function(a){var b=new Date(parseInt($(this).attr("id"),10));loadNewRaidSheetForDay(b.getDate(),b.getMonth()+1,b.getFullYear());a.stopPropagation()}),$(".calendarDay").each(function(){if(1==$("div > *",this).length){var a=new Date(parseInt($(this).attr("id"),10));onTouch($(this),function(){loadNewRaidSheetForDay(a.getDate(),a.getMonth()+1,a.getFullYear())})}}))}
function loadNewRaidSheet(){hideTooltip();asyncQuery("query_newRaidData",{},function(a){showSheetNewRaid(a,0,0,0)})}function loadNewRaidSheetForDay(a,b,c){hideTooltip();asyncQuery("query_newRaidData",{},function(e){showSheetNewRaid(e,a,b,c)})}function loadCalendar(a,b,c){reloadUser();null!=gUser&&loadCalendarUnchecked(a,b,c)}function loadCalendarUnchecked(a,b,c){$("#body").empty();for(a+=c;0>a;)--b,a+=12;for(;11<a;)++b,a-=12;asyncQuery("query_calendar",{Month:a+1,Year:b},generateCalendar)}
function loadDefaultCalendar(){reloadUser();if(null!=gUser)if(null!=gUser.calendar)loadCalendarUnchecked(gUser.calendar.month-1,gUser.calendar.year,0);else{var a=new Date;loadCalendarUnchecked(a.getUTCMonth(),a.getUTCFullYear(),0)}}var cPlayerFlagNone=0,cPlayerFlagModified=1,cPlayerFlagNew=2,cPlayerFlagCharId=4,cPlayerFlagUserId=8,cPlayerFlagName=16,cPlayerFlagComment=32;
function CRaidMemberList(){this.mPlayers=[];this.mRemovedPlayers=[];this.mNextRandomId=-1;this.mStage="";this.mMode="manual";this.addPlayer=function(a){var b=this,c={id:a.id,userId:a.userId,timestamp:a.timestamp,hasRecord:a.hasId,charId:a.charid,name:a.name,className:a.classname,mainchar:a.mainchar,activeClass:a.activeclass,activeRole:a.role,firstRole:a.role1,secondRole:a.role2,status:a.status,comment:a.comment,flags:cPlayerFlagNone,characters:[],classIdent:function(){return b.getClassIdent(this)},
classStyle:function(){return b.getClassStyle(this)},switchTo:function(a,c,n){return b.switchPlayer(this.id,a,c,n)},setAbsent:function(){var a=this.id;prompt(L("AbsentMessage"),L("MarkAsAbesent"),L("Cancel"),function(c){0==c.length&&(c=L("AbsentBy"));b.absentPlayer(a,"</br>["+gUser.name+"] "+c)})}};$.each(a.character,function(a,b){c.characters.push({id:b.id,mainchar:b.mainchar,name:b.name,className:b.classname,firstRole:b.role1,secondRole:b.role2})});"___"==a.classname[0]&&c.characters.push({id:a.id,
mainchar:a.mainchar,name:a.name,className:a.classname,firstRole:a.role1,secondRole:a.role2});this.mPlayers.push(c)};this.addRandomPlayer=function(a){var b={id:this.mNextRandomId,userId:0,timestamp:Math.round((new Date).getTime()/1E3),hasRecord:!1,charId:0,name:L("Random"),className:["___"],mainchar:!1,activeClass:null,activeRole:a,firstRole:a,secondRole:a,status:"all"==this.mMode?"ok":"available",comment:"",flags:cPlayerFlagModified|cPlayerFlagNew|cPlayerFlagName,characters:Array({id:this.mNextRandomId,
mainchar:!1,name:L("Random"),className:["___"],firstRole:a,secondRole:a}),classIdent:function(){return"___"},classStyle:function(){return"random"}};--this.mNextRandomId;this.mPlayers.push(b);this.updateRoleList(a)};this.getClassIdent=function(a){return"multi"==gGame.ClassMode?a.activeClass:a.className[0]};this.getClassStyle=function(a){return"___"!=a.classIdent()?gGame.Classes[a.classIdent()].style:"random"};this.forEachPlayer=function(a){for(var b=0;b<this.mPlayers.length;++b)a(this.mPlayers[b])};
this.forEachPlayerWithRole=function(a,b){for(var c=0;c<this.mPlayers.length;++c)this.mPlayers[c].activeRole==a&&b(this.mPlayers[c])};this.numPlayersWithRole=function(a){for(var b=0,c=0;c<this.mPlayers.length;++c)this.mPlayers[c].activeRole==a&&++b;return b};this.getPlayerIndex=function(a){for(var b=0;b<this.mPlayers.length;++b)if(this.mPlayers[b].id==a)return b;return-1};this.getModifiedPlayersForRole=function(a,b){this.forEachPlayerWithRole(a,function(a){0!==(a.flags&cPlayerFlagModified)&&(b.push(a.id),
b.push(a.status),b.push(a.timestamp),b.push(a.flags),0!==(a.flags&cPlayerFlagCharId)&&(b.push(a.charId),b.push(a.activeClass)),0!==(a.flags&cPlayerFlagUserId)&&b.push(a.userId),0!==(a.flags&cPlayerFlagName)&&b.push(a.name),0!==(a.flags&cPlayerFlagComment)&&b.push(a.comment))})};this.changePlayerName=function(a,b){var c=this.getPlayerIndex(a);return b!=this.mPlayers[c].name?(this.mPlayers[c].name=b,this.mPlayers[c].flags=this.mPlayers[c].flags|cPlayerFlagModified|cPlayerFlagName,!0):!1};this.generatePlayerSlot=
function(a,b){var c;c=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";var e=""===a.comment?"activeSlot":"activeSlotComment";gUser.isRaidlead&&(e+=" dragable");c=""+('<div class="'+e+" "+c+' clickable" id="sp'+a.id+'">');c+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c+='<div class="slotMarker"></div>';a.mainchar&&(c+='<div class="mainbadge"></div>');c+="</div>";c=gUser.isRaidlead&&"___"==a.className[0]?c+('<input class="editableName" type="test" value="'+
a.name+'"/>'):c+('<div class="playerName">'+a.name+"</div>");return c=c+"</div>"+this.updateClipStatus(b)};this.generateSpilledSlot=function(a,b){var c;c=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";var e=""===a.comment?"spilledSlot":"spilledSlotComment";gUser.isRaidlead&&(e+=" dragable");c=""+('<div class="'+e+" "+c+' clickable" id="sp'+a.id+'">');c+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c+='<div class="slotMarker"></div>';
a.mainchar&&(c+='<div class="mainbadge"></div>');c+="</div>";c=gUser.isRaidlead&&"___"==a.className[0]?c+('<input class="editableName" type="test" value="'+a.name+'"/>'):c+('<div class="playerName">'+a.name+"</div>");return c=c+"</div>"+this.updateClipStatus(b)};this.generateWaitSlot=function(a,b,c){var e;e=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";c=c?"benchSlot":"waitSlot";c=""===a.comment?c:c+"Comment";gUser.isRaidlead&&(c+=" dragable");e=""+('<div class="'+c+" "+e+' clickable" id="sp'+
a.id+'">');e+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';a.mainchar&&(e+='<div class="mainbadge"></div>');e+="</div>";e=gUser.isRaidlead&&"___"==a.className[0]?e+('<input class="editableName" type="test" value="'+a.name+'"/>'):e+('<div class="playerName">'+a.name+"</div>");return e=e+"</div>"+this.updateClipStatus(b)};this.generateEmptySlot=function(a){var b;b=""+('<div class="emptySlot '+(0===a.clipItemCount%a.colsPerClip?
"break":"nobreak")+'" style="background-image: url(lib/layout/images/'+gGame.Roles[a.roleId].style+'.png)">');return b=b+"</div>"+this.updateClipStatus(a)};this.generateAddRandomSlot=function(a,b){var c="",e=0===a.clipItemCount%a.colsPerClip?"break":"nobreak",c=b?c+('<div class="randomSlot clickable '+e+'" style="background-image: url(lib/layout/images/'+(gGame.Roles[a.roleId].style+"_rnd.png")+')">'):c+('<div class="randomSlot clickable '+e+'">');return c=c+"</div>"+this.updateClipStatus(a)};this.generateAbsentSlot=
function(a,b){var c;c=""+('<div class="'+(""===a.comment?"benchSlot":"benchSlotComment")+' clickable nobreak" id="ap'+a.id+'">');c+='<div class="playerIcon" id="ap_icon'+a.id+'" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c=c+"</div>"+('<div class="playerName">'+a.name+"</div>");c+="</div>";return c+=this.updateRowClipStatus(b)};this.updateClipStatus=function(a){var b="";++a.itemCount;++a.clipItemCount;a.itemCount<a.displayCount&&a.clipItemCount==
a.colsPerClip*a.rowsPerClip-1&&(b+=this.generateNextClipButton(a));return b};this.generateNextClipButton=function(a){var b;b=""+('<div class="clipchange clickable '+(1==a.colsPerClip?"break":"nobreak")+'" onclick="showRaidClip(\'role_'+a.roleId+"_clip"+(a.currentId+1)+"')\"></div>");b=b+"</div>"+('<div class="clip" id="role_'+a.roleId+"_clip"+(a.currentId+1)+'">');b+='<div class="clipchange clickable break" onclick="showRaidClip(\'role_'+a.roleId+"_clip"+a.currentId+"')\"></div>";++a.currentId;a.clipItemCount=
1;return b};this.updateRowClipStatus=function(a){var b="";++a.itemCount;++a.clipItemCount;a.clipItemCount==6*a.rowsPerClip-1&&(b+='<div class="clipchange nobreak" onclick="showRaidClip(\''+a.prefix+(a.currentId+1)+"')\"></div>",b=b+"</div>"+('<div class="clip" id="'+a.prefix+(a.currentId+1)+'">'),b+='<div class="clipchange nobreak" onclick="showRaidClip(\''+a.prefix+a.currentId+"')\"></div>",++a.currentId,a.clipItemCount=1);return b};this.generateRoleList=function(a,b,c){var e=0,g=gGame.Roles[a],
n="";this.forEachPlayerWithRole(a,function(a){"ok"==a.status&&++e});var n=gGame.RaidViewOrder.indexOf(a)==gGame.RaidViewOrder.length-1?n+'<div class="roleList" style="margin-right:0">':n+'<div class="roleList">',n=e>=c?n+'<h3 class="glow_complete">':n+"<h3>",n=n+(L(g.name)+' <span class="attendance_count">'+e+"/"+c+"</span></h3>"),n=n+('<div class="clip" id="role_'+a+'_clip0">'),k={roleId:a,colsPerClip:b,rowsPerClip:9,currentId:0,itemCount:0,clipItemCount:0,displayCount:Math.max(this.numPlayersWithRole(a),
c)},p=this,t=0;this.forEachPlayerWithRole(a,function(a){"ok"==a.status&&(n=t>=c?n+p.generateSpilledSlot(a,k):n+p.generatePlayerSlot(a,k),++t)});var g=k.clipItemCount/b,q=0===g-parseInt(g,10)?0:1,g=parseInt(g,10)+q;g==k.rowsPerClip?n+=this.generateNextClipButton(k):(k.clipItemCount=g*b,n+='<div class="separator"></div>');var w=t>=c&&"overbook"!=this.mMode||!gUser.isRaidlead&&"locked"==this.mStage;this.forEachPlayerWithRole(a,function(a){"available"==a.status&&(n+=p.generateWaitSlot(a,k,w))});for(gUser.isRaidlead&&
(n+=this.generateAddRandomSlot(k,k.itemCount<c));k.itemCount<c;)n+=this.generateEmptySlot(k);n+="</div>";return n+="</div>"};this.generateAbsentList=function(a){var b='<div id="absentList">',b=b+('<h2 style="position: relative; width: 800px">'+L("AbsentPlayers")+"</h2>"),b=b+'<div class="clip" id="absentclip0">',c=this,e={rowsPerClip:a,currentId:0,itemCount:0,clipItemCount:0,prefix:"absentclip"};this.forEachPlayer(function(a){"unavailable"==a.status&&(b+=c.generateAbsentSlot(a,e))});b+="</div>";return b+=
"</div>"};this.generateUndecidedList=function(a){var b='<div id="undecidedList">',b=b+('<h2 style="position: relative; width: 800px">'+L("UndecidedPlayers")+"</h2>"),b=b+'<div class="clip" id="undecidedclip0">',c=this,e={rowsPerClip:a,currentId:0,itemCount:0,clipItemCount:0,prefix:"undecidedclip"};this.forEachPlayer(function(a){"undecided"==a.status&&(b+=c.generateAbsentSlot(a,e))});b+="</div>";return b+="</div>"};this.bindClipPlayer=function(a){var b=parseInt(a.attr("id").substr(2),10),c=this;a.draggable({delay:100,
revert:!0,revertDuration:200,helper:"clone",start:function(){c.showDropTargets(b,$(this))},stop:function(){c.hideDropTargets()}});a.children(".editableName").each(function(){$(this).click(function(a){hideTooltip();a.stopPropagation()});$(this).focus(function(){$(this).prev().css("background-image","url(lib/layout/images/remove.png)").click(function(a){a.stopPropagation();c.removePlayer(b)})});$(this).blur(function(){c.changePlayerName(b,$(this).val())&&onUIDataChange();$(this).prev().css("background-image",
"url(themes/icons/"+gSite.Iconset+"/classessmall/random.png)").unbind("click")})});makeTouchable(a)};this.bindClips=function(a){if(null!=gUser){var b=a.children(".clip"),c=a.data("config"),e=this;gUser.isRaidlead?(b.children(".activeSlot"),b.children(".activeSlotComment"),b.children(".waitSlot, .waitSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),b=e.getPlayerIndex(a),k=e.mPlayers[b],p=$(this),t=p.children(".playerIcon"),q=function(){p.unbind("click").click(w)},w=function(b){"all"!=
e.mMode&&p.unbind("click").click(function(){e.upgradePlayer(a);updateRaidBadges(e);hideTooltip();onUIDataChange()});showTooltipCharChooser(t,k,c.id,!0,q);b.stopPropagation()};p.click(w);e.bindClipPlayer(p)}),b.children(".benchSlot, .benchSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),a=e.getPlayerIndex(a),b=e.mPlayers[a],k=$(this),p=k.children(".playerIcon"),t=function(){k.unbind("click").click(q)},q=function(a){showTooltipCharChooser(p,b,c.id,!0,t);a.stopPropagation()};
k.click(q);e.bindClipPlayer(k)}),b.children(".activeSlot, .spilledSlot, .activeSlotComment, .spilledSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),b=e.getPlayerIndex(a),k=e.mPlayers[b],p=$(this),t=p.children(".playerIcon"),q=function(){p.unbind("click").click(w)},w=function(b){"all"!=e.mMode&&p.unbind("click").click(function(){e.downgradePlayer(a);updateRaidBadges(e);hideTooltip();onUIDataChange()});showTooltipCharChooser(t,k,c.id,!0,q);b.stopPropagation()};p.click(w);
e.bindClipPlayer(p)}),b.children(".randomSlot").each(function(){$(this).click(function(){e.addRandomPlayer(c.id);updateRaidBadges(e);onUIDataChange()})})):b.children(".activeSlot, .spilledSlot, .waitSlot, .benchSlot, .activeSlotComment, .spilledSlotComment, .waitSlotComment, .benchSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),a=e.getPlayerIndex(a),b=e.mPlayers[a],a=$(this),k=a.children(".playerIcon");a.mouseover(function(a){showTooltipCharChooser(k,b,c.id,!1,null);
a.stopPropagation()});a.click(function(a){showTooltipCharChooser(k,b,c.id,!0,null);a.stopPropagation()})})}};this.updateRoleList=function(a){var b=gGame.RaidViewOrder.indexOf(a);a=$($("#raidsetup > .roleList")[b]);var c=a.data("config");a.replaceWith(this.generateRoleList(c.id,c.columns,c.reqSlots));a=$($("#raidsetup > .roleList")[b]);var b=c.clip.lastIndexOf("_clip")+5,e=parseInt(c.clip.substr(b),10),g=a.children(".clip").length;e>=g&&(c.clip=c.clip.substr(0,b)+(g-1));a.data("config",c);$("#"+c.clip).show();
this.bindClips(a)};this.showDropTargets=function(a,b){hideTooltip();var c=$("#raiddetail").data("players"),e=this.getPlayerIndex(a),g=this.mPlayers[e],e=$("#raidsetup > .roleList");if("single"==gGame.ClassMode)e.each(function(e){var k=gGame.RaidViewOrder[e];"___"!=g.className[0]&&k!=g.firstRole&&k!=g.secondRole||k==g.activeRole?$(this).fadeTo(100,0.15):$(this).droppable({drop:function(){b.draggable("option","revert",!1);b.draggable("destroy").detach();c.movePlayer(a,k);onUIDataChange()}})});else{var n=
[];if("___"!=g.className[0])for(var k=0;k<g.className.length;++k)n.push(gGame.Classes[g.className[k]].defaultRole);e.each(function(e){var k=gGame.RaidViewOrder[e];("___"==g.className[0]||-1<n.indexOf(k))&&k!=g.activeRole?$(this).droppable({drop:function(){b.draggable("option","revert",!1);b.draggable("destroy").detach();c.movePlayer(a,k);onUIDataChange()}}):$(this).fadeTo(100,0.15)})}$("#absent_drop").fadeTo(100,1).droppable({hoverClass:"absent_hover",drop:function(){0<g.charId?prompt(L("AbsentMessage"),
L("MarkAsAbesent"),L("Cancel"),function(e){b.draggable("option","revert",!1);b.draggable("destroy").detach();0==e.length&&(e=L("AbsentBy"));c.absentPlayer(a,"</br>["+gUser.name+"] "+e)}):(b.draggable("option","revert",!1),b.draggable("destroy").detach(),c.absentPlayer(a,""))}})};this.hideDropTargets=function(){$("#raidsetup > .roleList").fadeTo(100,1);$("#raidsetup > .ui-droppable").droppable("destroy");$("#absent_drop").fadeTo(100,0)};this.upgradePlayer=function(a){a=this.getPlayerIndex(a);a=this.mPlayers[a];
a.status="ok";a.flags|=cPlayerFlagModified;this.updateRoleList(a.activeRole)};this.downgradePlayer=function(a){a=this.getPlayerIndex(a);a=this.mPlayers[a];a.status="available";a.flags|=cPlayerFlagModified;this.updateRoleList(a.activeRole)};this.switchPlayer=function(a,b,c,e){a=this.getPlayerIndex(a);a=this.mPlayers[a];var g=a.activeRole;null!==b&&(b=a.characters[b],a.charId!=b.id||a.activeClass!=e||a.activeRole!=c)&&(a.name=b.name,a.className=b.className,a.mainchar=b.mainchar,a.charId=b.id,a.activeClass=
e,a.activeRole=c,a.firstRole=b.firstRole,a.secondRole=b.secondRole,a.comment+="</br>["+gUser.name+"] "+L("SwitchChar"),a.flags=a.flags|cPlayerFlagCharId|cPlayerFlagModified|cPlayerFlagComment);g!=a.activeRole&&(this.updateRoleList(g),a.status="all"==this.mMode?"ok":"available");this.updateRoleList(a.activeRole);updateRaidBadges(this)};this.movePlayer=function(a,b){var c=this.getPlayerIndex(a),c=this.mPlayers[c],e=c.activeRole;c.activeRole=b;c.flags|=cPlayerFlagModified;if(0==c.userId)c.firstRole=
b,c.secondRole=b;else if("multi"==gGame.ClassMode){for(var g=0;g<c.className.length;++g){var n=c.className[g];if(b==gGame.Classes[n].defaultRole){c.activeClass=n;break}}c.flags|=cPlayerFlagCharId}c.status="all"==this.mMode?"ok":"available";this.updateRoleList(e);this.updateRoleList(b);updateRaidBadges(this)};this.removePlayer=function(a){var b=this.getPlayerIndex(a),c=this.mPlayers[b].activeRole;this.mPlayers.splice(b,1);0<a&&this.mRemovedPlayers.push(a);this.updateRoleList(c);updateRaidBadges(this);
onUIDataChange()};this.absentPlayer=function(a,b){var c=this.getPlayerIndex(a),e=this.mPlayers[c],g=e.activeRole;0<e.charId?(c=e.characters[0],e.name=c.name,e.charId=c.id,e.className=c.className,e.activeClass=c.className[0],e.mainchar=c.mainchar,e.activeRole=c.firstRole,e.firstRole=c.firstRole,e.secondRole=c.secondRole,e.flags=e.flags|cPlayerFlagModified|cPlayerFlagComment|cPlayerFlagCharId,e.status="unavailable",e.comment+=b,$("#absentList").replaceWith(this.generateAbsentList(3)),onUpdateAbsentList(this)):
(this.mPlayers.splice(c,1),this.mRemovedPlayers.push(a));this.updateRoleList(g);hideTooltip();onUIDataChange()}}function showRaidClip(a){var b=$("#"+a),c=b.parent();c.data("config").clip=a;c.children(".clip").hide();b.show()}function validateRoleCounts(){var a=0,b=$("#selectsize").val();$.each(gGame.RaidViewOrder,function(c,e){var g=$("#slotCount_"+e),n=parseInt(g.val(),10);if(a+n>b||c==gGame.RaidViewOrder-1&&a+n<b)n=b-a;g.unbind("change");g[0].value=n;g.bind("change",validateRoleCounts);a+=n})}
function generateRaidInfo(a,b){var c=a.image,e=a.locationname,g=0,n=a.description;$.each(a.slots,function(a,b){g+=b});var k=a.startDate,p=a.endDate,t=a.start,q=a.end,w=a.attended,y=14;30>e.length?y=28:45>e.length&&(y=20);c='<div class="raidinfo">'+('<img src="themes/icons/'+gSite.Iconset+"/raidbig/"+c+'" class="raidicon">');c=c+('<div class="raidname" style="font-size: '+y+'px">'+e+"</div>")+('<div class="datetime">'+formatDateTimeStringUTC(k,t)+" - "+formatTimeStringUTC(p,q));c+=" "+formatDateOffsetUTC(k,
t)+"</div>";c+='<div class="raidsize"><span class="attends">'+w+"</span> / "+g+" "+L("Players")+"</div>";""!=n&&(c+='<div class="raidcomment">'+n+"</div>");c+="</div>";$("#"+b).prepend(c)}
function generateRaidSetup(a){var b=$("#raiddetail").data("players"),c='<div id="raidsetup" class="content_area"></div>';$("#raiddetail").append(c);gUser.isRaidlead&&$("#raidsetup").append('<div id="absent_drop">'+L("MakeAbsent")+"</div>");$.each(gGame.RaidViewOrder,function(e,g){var n=gGame.RaidView[g],k=a.slots[g];c=b.generateRoleList(g,n,k);$("#raidsetup").append(c);$("#raidsetup > *:last").data("config",{id:g,columns:n,reqSlots:k,clip:"role_"+g+"_clip0"})});$("#raidsetup > .roleList").each(function(){$(this).children(".clip:first").show();
b.bindClips($(this))});generateRaidInfo(a,"raidsetup")}
function onClickAbsentSlot(a,b,c,e){var g=b.data("setup_info");hideTooltip();if(null!==g&&void 0!==g){var n=$("#raiddetail").data("players"),k=c.characters[g.charIdx],p=""!==c.comment;c.status="all"==n.mMode?"ok":"available";c.name=k.name;c.charId=k.id;c.className=k.className;c.mainchar=k.mainchar;c.activeClass=g.classId;c.activeRole=g.roleId;c.firstRole=k.firstRole;c.secondRole=k.secondRole;c.comment+="</br>["+gUser.name+"] "+L("SetupBy");c.flags=c.flags|cPlayerFlagModified|cPlayerFlagComment|cPlayerFlagCharId;
c.hasRecord||(c.flags|=cPlayerFlagNew);p||(c.flags|=cPlayerFlagUserId);e?($("#undecidedList").replaceWith(n.generateUndecidedList(3)),onUpdateUndecidedList(n)):($("#absentList").replaceWith(n.generateAbsentList(3)),onUpdateAbsentList(n));n.updateRoleList(c.activeRole);onUIDataChange();hideTooltip()}else{var t=$(b).css("backgroundImage"),q=$(".playerName",b.parent()).text();showTooltipCharChooser(b,c,"multi"==gGame.ClassMode?gGame.Classes[c.className[0]].defaultRole:c.firstRole,!0,function(){$(b).css("backgroundImage",
t);$(".playerName",b.parent()).empty().append(q);b.data("setup_info",null)})}a.stopPropagation()}
function updateRaidBadges(a){var b=0,c=0,e=0;a.forEachPlayer(function(a){switch(a.status){case "ok":++e;case "available":++c;break;case "unavailable":++b}});$("#slackers_badge").empty();$("#attenders_badge").empty();0<b&&$("#slackers_badge").append('<span style="color: #f00">'+b+"</span>");0<e&&$("#attenders_badge").append('<span style="color: #0f0">'+e+"</span>");$(".raidsize .attends").empty().append(c)}
function onUpdateAbsentList(a){$("#absentList").data("config",{clip:"absentclip0"});$("#absentList > .clip").children(".benchSlotComment, .benchSlot").each(function(){var b=parseInt($(this).attr("id").substr(2),10),b=a.getPlayerIndex(b),c=a.mPlayers[b],e=$(this).children(".playerIcon");gUser.isRaidlead?$(this).click(function(a){onClickAbsentSlot(a,e,c,!1);a.stopPropagation()}):(e.mouseover(function(a){showTooltipCharChooser(e,c,c.activeRole,!1,null);a.stopPropagation()}),e.click(function(a){showTooltipCharChooser(e,
c,c.activeRole,!0,null);a.stopPropagation()}))});$("#absentList > .clip:first").show();updateRaidBadges(a)}
function onUpdateUndecidedList(a){$("#undecidedList").data("config",{clip:"undecidedclip0"});$("#undecidedList > .clip").children(".benchSlotComment, .benchSlot").each(function(){var b=parseInt($(this).attr("id").substr(2),10),b=a.getPlayerIndex(b),c=a.mPlayers[b],e=$(this).children(".playerIcon");gUser.isRaidlead?$(this).click(function(a){onClickAbsentSlot(a,e,c,c.activeRole,!0);a.stopPropagation()}):e.mouseover(function(a){showTooltipCharChooser(e,c,c.activeRole,!1,null);a.stopPropagation()})});
$("#undecidedList > .clip:first").show();updateRaidBadges(a)}function generateRaidSlackers(a){var b=$("#raiddetail").data("players"),c='<div id="slackers" class="content_area">';$("#raiddetail").append(c);c=b.generateAbsentList(3);$("#slackers:first").append(c);c=b.generateUndecidedList(3);$("#slackers:first").append(c);onUpdateAbsentList(b);onUpdateUndecidedList(b);generateRaidInfo(a,"slackers")}
function generateRaidSettings(a){var b='<div id="raidoptions" class="content_area">';$("#raiddetail").append(b);var c=$("#raidoptions"),e=a.image,g=a.locationid,n=a.size,k=a.description,p=a.stage,t=a.mode,q=getDateFromUTCString(a.startDate,a.start),w=q.getHours(),y=q.getMinutes(),A=getDateFromUTCString(a.endDate,a.end),l=A.getHours(),u=A.getMinutes();$("#raidoptions").data("info",{id:a.raidId,year:q.getFullYear(),month:q.getMonth(),day:q.getDate(),size:parseInt(n,10)});b='<span style="display: inline-block; margin-right: 5px; float: left" class="imagepicker" id="locationimagepicker"><div class="imagelist" id="locationimagelist"></div></span>';
b+='<span style="display: inline-block; margin-top: 8px; margin-left: 4px; vertical-align: top">';b+='<div style="margin-bottom: 10px">';b+='<select id="selectlocation" onchange="onLocationChange(this)">';b+='<option value="0">'+L("NewDungeon")+"</option>";b+="</select>";b+='<span style="display: inline-block; width: 3px;"></span>';b+='<select id="selectsize" style="width: 48px">';$.each(gGame.Groups,function(a,c){b+='<option value="'+a+'">'+a+"</option>"});b+="</select>";b+="</div>";b+="<div>";b+=
'<select id="starthour">';b+="</select>";b+='<span class="filltext" style="width: 10px">:</span>';b+='<select id="startminute" style="width: 48px">';b+='<option value="0">00</option>';b+='<option value="15">15</option>';b+='<option value="30">30</option>';b+='<option value="45">45</option>';b+="</select>";b+='<span class="filltext" style="width: 20px">'+L("to")+"</span>";b+='<select id="endhour">';b+="</select>";b+='<span class="filltext" style="width: 10px">:</span>';b+='<select id="endminute" style="width: 48px">';
b+='<option value="0">00</option>';b+='<option value="15">15</option>';b+='<option value="30">30</option>';b+='<option value="45">45</option>';b+="</select>";b+="</div>";b+="</span>";c.append(b);b="";for(i=4;0<=i;--i)b+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";for(i=23;4<i;--i)b+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";var q=24==gSite.TimeFormat?48:64,A=24==gSite.TimeFormat?181:213,B=24==gSite.TimeFormat?295:327;$("#starthour").css("width",q).empty().append(b);
$("#endhour").css("width",q).empty().append(b);$("#selectlocation").css("width",A);$("#descriptiondummy").css({width:B,"max-width":B});$("#description").css({width:B,"max-width":B});$("#selectsize").change(validateRoleCounts);var b="",d=1,h=[];$.each(a.locationimage,function(a,c){0===d%11&&(b+="<br/>",++d);b+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+c+'" onclick="applyLocationImage(this, true)" style="width:32px; height:32px; margin-right:5px;"/>';++d});$("#locationimagelist").append(b);
$("#locationimagepicker").css("background-image","url(themes/icons/"+gSite.Iconset+"/raidbig/"+e+")");$.each(a.location,function(a,b){h[a]=b.image;var c=b.id==g?" selected":"";$("#selectlocation").append('<option value="'+b.id+'"'+c+">"+b.name+"</option>")});b='<br/><div style="margin-top: 25px">';b+='<div class="settingLine"><div class="settingLabel">'+L("Comment")+"</div>";b+='<div class="settingField"><textarea id="comment" style="width:235px; height:64px">'+k.replace(/<\/br>/g,"\n")+"</textarea></div></div>";
b+='<div class="settingLine"><div class="settingLabel">'+L("RaidStatus")+"</div>";b+='<div class="settingField"><select id="raidstage" style="width: 190px">';b+='<option value="open"'+("open"==p?" selected":"")+">"+L("RaidOpen")+"</option>";b+='<option value="locked"'+("locked"==p?" selected":"")+">"+L("RaidLocked")+"</option>";b+='<option value="canceled"'+("canceled"==p?" selected":"")+">"+L("RaidCanceled")+"</option>";b+="</select></div></div>";b+='<div class="settingLine"><div class="settingLabel">'+
L("RaidSetupStyle")+"</div>";b+='<div class="settingField"><select id="raidmode" style="width: 190px">';b+='<option value="manual"'+("manual"==t?" selected":"")+">"+L("RaidModeManual")+"</option>";b+='<option value="overbook"'+("overbook"==t?" selected":"")+">"+L("RaidModeOverbook")+"</option>";b+='<option value="attend"'+("attend"==t?" selected":"")+">"+L("RaidModeAttend")+"</option>";b+='<option value="all"'+("all"==t?" selected":"")+">"+L("RaidModeAll")+"</option>";b+="</select></div></div>";$.each(gGame.RaidViewOrder,
function(c,d){b+='<div class="'+(0==c?"settingLine settingNewSection":"settingLine")+'"><div class="settingLabel">'+L("RequiredForRole")+' "'+L(gGame.Roles[d].name)+'"</div>';b+='<div class="settingField"><input id="slotCount_'+d+'" style="width:24px;" value="'+a.slots[d]+'" type="text"/></div></div>'});b+='<div class="settingLine settingNewSection"><div class="settingLabel">'+L("Export")+"</div>";b+='<div class="settingField"><select id="exportFormat" style="width: 60px">';b+='<option value="xml">XML</option>';
b+='<option value="json" selected>JSON</option>';b+="</select>";b+='<button id="exportFile" style="margin-left: 5px">'+L("ExportFile")+"</button>";b+='<button id="exportClipboard" style="margin-left: 5px">'+L("ExportClipboard")+"</button>";b+="</div></div>";b+='<div class="settingLine settingNewSection"><div class="settingLabel">&nbsp;</div>';b+='<div class="settingField"><button id="deleteRaid">&nbsp;'+L("DeleteRaid")+"</button></div></div>";b+="</div>";c.append(b);$("#raidstage").combobox();$("#raidmode").combobox();
$("#selectsize > option").each(function(){$(this).val()==n&&$(this).attr("selected","selected")});$("#starthour > option").each(function(){$(this).val()==w&&$(this).attr("selected","selected")});$("#startminute > option").each(function(){$(this).val()==y&&$(this).attr("selected","selected")});$("#endhour > option").each(function(){$(this).val()==l&&$(this).attr("selected","selected")});$("#endminute > option").each(function(){$(this).val()==u&&$(this).attr("selected","selected")});$("#selectlocation").combobox({editable:!1});
$("#selectsize").combobox();$("#starthour").combobox();$("#startminute").combobox();$("#endhour").combobox();$("#endminute").combobox();$("#exportFormat").combobox();$("#deleteRaid").button({icons:{primary:"ui-icon-circle-close"}}).click(function(){triggerRaidDelete()});$("#exportFile").button({icons:{secondary:"ui-icon-extlink"}}).click(function(){var b=$("#exportFormat option:selected").val();window.location="lib/apihub.php?query=raid&raid="+a.raidId+"&attends=true&token="+a.token+"&format="+b+
"&as=raid_"+a.raidId+("xml"==b?".xml":".json")});$("#exportClipboard").button({icons:{secondary:"ui-icon-clipboard"},disabled:!0});c=new ZeroClipboard($("#exportClipboard"),{moviePath:"lib/script/ZeroClipboard.swf",hoverClass:"ui-state-hover",activeClass:"ui-state-active"});c.on("load",function(){$("#exportClipboard").button("option","disabled",!1)});c.on("dataRequested",function(b,c){var d=$("#exportFormat option:selected").val(),e="";$.ajax({type:"POST",url:"lib/apihub.php",dataType:d,async:!1,
data:{query:"raid",raid:a.raidId,attends:!0,format:d,token:a.token},complete:onAsyncDone,success:function(a,b,c){e=c.responseText},error:onAsyncError});b.setText(e)});c.on("complete",function(a,b){""!=b.text&&notify(L("CopyOk"))});$("#locationimagepicker").data("imageNames",h).data("selectedImage",e);$("#selectlocation").change(function(){$("#locationimagepicker").unbind("click");0<$("#selectlocation").context.selectedIndex&&$("#locationimagepicker").click(function(a){showTooltipRaidImageList();a.stopPropagation()})});
$("#raidoptions select").change(onUIDataChange);$("#raidoptions textarea").change(onUIDataChange);$.each(gGame.RaidViewOrder,function(a,b){$("#slotCount_"+b).change(function(){validateRoleCounts();onUIDataChange()})})}
function generateRaid(a){hideTooltip();closeSheet();if(null!=gUser)if(null==a.raidId)c='<div id="lockMessage">'+L("RaidNotFound"),c+="</div>",$("#body").empty().append(c);else{var b=new CRaidMemberList,c;c='<div id="raiddetail"><div id="tablist" class="tabs setup"><div style="margin-top: 16px">';c+='<div id="setuptoggle" class="tab_icon icon_setup clickable"><div id="attenders_badge" class="iconbadge"></div></div>';c+='<div id="slackerstoggle" class="tab_icon icon_slackers_off clickable"><div id="slackers_badge" class="iconbadge"></div></div>';
gUser.isRaidlead&&(c+='<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>');c+="</div></div>";gUser.isRaidlead&&(c+='<button id="applyButton" class="apply_changes" disabled="disabled">'+L("Apply")+"</button>");c+="</div>";$("#body").empty().append(c);$("#raiddetail").data("raidid",a.raidId);$("#raiddetail").hide();var e=a.raidId;b.mStage=a.stage;b.mMode=a.mode;$("#raiddetail").data("players",b);$.each(a.attendee,function(a,c){b.addPlayer(c)});generateRaidSetup(a);generateRaidSlackers(a);
gUser.isRaidlead&&(generateRaidSettings(a),$("#settingstoggle").click(function(){changeContext("raid,settings,"+e)}),$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerRaidUpdate()}));$("#setuptoggle").click(function(){changeContext("raid,setup,"+e)});$("#slackerstoggle").click(function(){changeContext("raid,slackers,"+e)});loadRaidPanel(a.show,e);$("#raiddetail").show()}}
function showRaidPanel(a,b){$("#raidsetup").hide();$("#slackers").hide();$("#raidoptions").hide();$("#tablist").removeClass("setup");$("#tablist").removeClass("slackers");$("#tablist").removeClass("settings");$("#setuptoggle").removeClass("icon_setup");$("#slackerstoggle").removeClass("icon_slackers");$("#settingstoggle").removeClass("icon_settings");$("#setuptoggle").addClass("icon_setup_off");$("#slackerstoggle").addClass("icon_slackers_off");$("#settingstoggle").addClass("icon_settings_off");$(a).show();
$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);$("#raidoptions").data("activesection",b)}function loadRaid(a,b){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("raid_detail",{id:a,showPanel:b},generateRaid))}
function loadRaidPanel(a,b){if(null!=gUser)if(0===$("#raiddetail").length||$("#raiddetail").data("raidid")!=b)loadRaid(b,a);else switch(a){default:case "setup":showRaidPanel("#raidsetup","setup");break;case "slackers":showRaidPanel("#slackers","slackers");break;case "settings":showRaidPanel("#raidoptions","settings")}}
function triggerRaidDelete(){null!=gUser&&gUser.isRaidlead&&confirm(L("ConfirmRaidDelete"),L("DeleteRaid"),L("Cancel"),function(){var a={id:$("#raidoptions").data("info").id};onAppliedUIDataChange();asyncQuery("raid_delete",a,generateCalendar)})}
function triggerRaidUpdate(){if(null!=gUser&&gUser.isRaidlead){var a=$("#raiddetail").data("players"),b=$("#raidoptions").data("info"),c=[],e=[],g=[];$.each(gGame.RaidViewOrder,function(b,k){var n=$("#slotCount_"+k);c.push(k);e.push(parseInt(n.val(),10));g[k]=[];a.getModifiedPlayersForRole(k,g[k])});var n=new Date(b.year,b.month,b.day,$("#starthour").val(),$("#startminute").val(),0),k=new Date(b.year,b.month,b.day,$("#endhour").val(),$("#endminute").val(),0);n.getHours()>k.getHours()&&(k.setTime(k.getTime()+
864E5),k.setHours($("#endhour").val()));var p={id:b.id,raidImage:$("#locationimagepicker").data("selectedImage"),locationId:$("#selectlocation").val(),locationSize:$("#selectsize").val(),locationName:$("#selectlocation_edit").val(),startYear:n.getFullYear(),startMonth:n.getMonth()+1,startDay:n.getDate(),startHour:n.getHours(),startMinute:n.getMinutes(),startOffset:n.getTimezoneOffset(),endYear:k.getFullYear(),endMonth:k.getMonth()+1,endDay:k.getDate(),endHour:k.getHours(),endMinute:k.getMinutes(),
endOffset:k.getTimezoneOffset(),description:$("#comment").val(),mode:$("#raidmode option:selected").val(),stage:$("#raidstage option:selected").val(),slotRoles:c,slotCount:e,removed:a.mRemovedPlayers,showPanel:$("#raidoptions").data("activesection")};$.each(gGame.RaidViewOrder,function(a,b){p["role_"+b]=g[b]});onAppliedUIDataChange();asyncQuery("raid_update",p,generateRaid)}}
function generateRaidList(a){var b='<div id="raidlist">',b=b+("<h1>"+L("Upcoming")+"</h1>"),b=b+'<div id="nextRaids">';$.each(a.raid,function(a,c){var n=!0,k=!1;$.each(gGame.Roles,function(a,b){var e=c.slotMax[a],k=c.slotCount[a];n=n&&k>=e});var p=n?"overlayStatusOk":"overlayStatusOpen";"canceled"==c.stage?(p="overlayStatusCanceled",k=!0):"locked"==c.stage&&(p="overlayStatusLocked",k=!0);var t=c.startDate,q=c.start,w=c.endDate,y=c.end;b+='<span class="raidSlot box_inlay">';b+='<span id="raid'+c.id+
'" class="locationImg clickable" index="'+a+'" locked="'+k+'" >';b+='<img src="themes/icons/'+gSite.Iconset+"/raidbig/"+c.image+'"/>';b+='<div class="overlayStatus '+p+'"></div>';b+="</span>";b+='<span class="raidInfo">';b+='<div class="location">'+c.location+" ("+c.size+")</div>";b+=formatDateStringUTC(t,q)+"<br/>"+formatTimeStringUTC(t,q)+" - "+formatTimeStringUTC(w,y);b+=" "+formatDateOffsetUTC(t,q)+"<br/>";b+='<div style="line-height: 2.5em">'+c.attended+" / "+c.size+" "+L("Players")+"</div>";
b+="</span>";b+='<span class="setupInfo">';n?b+='<div class="setupInfoSlot" style="background-image: url(lib/layout/images/slot_ok.png)"></div>':$.each(gGame.Roles,function(a,e){var k=c.slotMax[a],n=c.slotCount[a];n<k&&(b+='<div class="setupInfoSlot" style="background-image: url(lib/layout/images/'+e.style+'.png)">',b+="+"+(k-n),b+="</div>")});b+="</span>";b+="</span>"});b+="</div>";b+="<br/><h1>"+L("History")+"</h1>";b+='<div id="raidHistory">';$.each(a.history,function(a,c){var n=c.startDate,k=
c.start;b+='<span class="historySlot clickable" id="raid'+c.id+'">';b+='<img class="icon clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+c.image+'"/>';"canceled"==c.stage?b+='<div class="overlayCanceled"></div>':"locked"==c.stage&&(b+='<div class="overlayLocked"></div>');b+='<div class="name">'+c.location+'<br/><span style="font-size: 80%">'+formatDateStringUTC(n,k)+"</span></div>";b+="</span>"});b+="</div>";$("#body").empty().append(b);var c=$("#appwindow").data("animation");window.clearInterval(c);
c=window.setInterval(function(){$(".setupInfo").each(function(){var a=$(this);if(2<$(this).children().length){var b=a.children().first();b.height();b.slideUp(1E3,function(){$(this).detach().appendTo(a).show()})}})},3E3);$("#appwindow").data("animation",c);$(".locationImg").each(function(){var b=parseInt($(this).attr("index"),10),c="true"==$(this).attr("locked"),n=a.raid[b];$(this).mouseover(function(){showTooltipRaidInfo($(this),n,c,!1,!1)});$(this).click(function(a){showTooltipRaidInfo($(this),n,
c,!1,!0);a.stopPropagation()});$(this).dblclick(function(a){changeContext("raid,setup,"+parseInt($(this).attr("id").substr(4),10));a.stopPropagation()})});$(".historySlot").dblclick(function(a){changeContext("raid,setup,"+parseInt($(this).attr("id").substr(4),10));a.stopPropagation()})}function loadAllRaids(){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("raid_list",{offset:0,count:30},generateRaidList))}var g_NewCharIndex=0;
function CCharacterList(){this.mCharacters=[];this.addCharacter=function(a,b,c,e,g,n){a={id:a,name:b,charClass:c,mainChar:e,role1:g,role2:n};e&&this.toggleMainChar(this.mCharacters.length);this.mCharacters.push(a)};this.addNewCharacter=function(){this.addCharacter(0,"",["empty"],0===this.mCharacters.length,-1,-1)};this.toggleMainChar=function(a){for(var b=0;b<this.mCharacters.length;++b)this.mCharacters[b].mainChar=b==a};this.removeCharacter=function(a){this.mCharacters.splice(a,1);this.rebuildSlots()};
this.generateSlots=function(a,b,c){for(var e="",g=0;a<this.mCharacters.length&&g<c;++g){var n=this.mCharacters[a];0===g&&0!==a?e+='<div class="nextgroup clickable box_inlay" id="next'+(b-1)+'"></div>':(e+='<div class="charslot box_inlay" id="char'+a+'">',e+='<div class="clearchar clickable"></div>',e+='<div class="class" style="top: 15px; left: 29px; background: url(themes/icons/'+gSite.Iconset+"/classesbig/"+("empty"!=n.charClass[0]?gGame.Classes[n.charClass[0]].style:"empty")+'.png)">',e=n.mainChar?
e+'<div class="badge mainchar" style="top: -15px; left: -28px;"></div>':e+'<div class="badge twink" style="top: -15px; left: -28px;"></div>',e+="</div>",0===n.id?(e+='<div class="newname_label" style="top: 24px">'+L("CharName")+"</div>",e+='<input type="text" style="top: 24px" class="newname" value="'+n.name+'"/>'):e+='<div class="name" style="top: 24px">'+n.name+"</div>",e+='<div class="role_group"></div>',e+="</div>",++a)}e=a==this.mCharacters.length?e+'<div class="newchar clickable box_inlay"></div>':
e+('<div class="nextgroup clickable box_inlay" id="next'+(b+1)+'"></div>');return{HTMLString:e,charIdx:a}};this.rebuildSlots=function(){var a="",b=$("#charlist > .charGroup:visible"),b=0===b.length?0:parseInt(b.attr("id").substr(3),10),c=0;if(0===this.mCharacters.length)a+='<div id="grp0" class="charGroup"><div class="newchar clickable box_inlay"></div>',a+="</div>";else for(var e=0;c<this.mCharacters.length;++e)c=this.generateSlots(c,e,6),a+='<div id="grp'+e+'" class="charGroup">',a+=c.HTMLString,
a+="</div>",c=c.charIdx;$("#charlist").empty().append(a);var g=$("#charlist > .charGroup"),n=this,b=Math.min(b,g.length-1);g.hide();g.eq(b).show();g.each(function(){$(this).children(".newchar").click(function(a){n.addNewCharacter();n.rebuildSlots();a.stopPropagation();onUIDataChange()});$(this).children(".nextgroup").click(function(a){var b=parseInt($(this).attr("id").substr(4),10);g.hide();g.eq(b).show();hideTooltip();a.stopPropagation()});$(this).children(".charslot").each(function(){var a=this,
b=parseInt($(this).attr("id").substr(4),10),c=n.mCharacters[b],e=0===c.id;$(".class:first > .badge:first",this).click(function(a){n.toggleMainChar(b);$(".charslot > .class > .badge",g).removeClass("mainchar twink").addClass("twink");$(this).removeClass("mainchar twink").addClass("mainchar");a.stopPropagation();onUIDataChange()});var w=function(){var b="";if("empty"==c.charClass[0])b+='<div class="single" style="background-image: url(lib/layout/images/slot_wait.png)"></div>';else{var e=gGame.Classes[c.charClass[0]],
d=e.roles.length;"multi"==gGame.ClassMode?b+='<div class="single" style="background-image: url(lib/layout/images/'+gGame.Roles[e.defaultRole].style+'_rnd.png)"></div>':1==d?b+='<div class="single" style="background-image: url(lib/layout/images/'+gGame.Roles[c.role1].style+'_rnd.png)"></div>':(b+='<div class="primary clickable" style="background-image: url(lib/layout/images/'+gGame.Roles[c.role1].style+'_rnd.png)"></div>',b+='<div class="secondary clickable" style="background-image: url(lib/layout/images/'+
gGame.Roles[c.role2].style+'_rnd.png)"></div>')}$(".role_group",a).empty().append(b);$(".primary",a).click(function(a){if(!$(this).is(":animated")){a=gGame.Classes[c.charClass[0]].roles;var b=(a.indexOf(c.role1)+1)%a.length;c.role1=a[b];$(this).animate({left:-60},100,function(){$(this).css("background-image","url(lib/layout/images/"+gGame.Roles[c.role1].style+"_rnd.png)");$(this).animate({left:-5},100);onUIDataChange()})}});$(".secondary",a).click(function(a){if(!$(this).is(":animated")){a=gGame.Classes[c.charClass[0]].roles;
var b=(a.indexOf(c.role2)+1)%a.length;c.role2=a[b];$(this).animate({right:-60},100,function(){$(this).css("background-image","url(lib/layout/images/"+gGame.Roles[c.role2].style+"_rnd.png)");$(this).animate({right:-5},100);onUIDataChange()})}})};w();if(e||"multi"==gGame.ClassMode){var y=$(this).children(".class:first");y.addClass("clickable");y.click(function(a){"multi"==gGame.ClassMode?showTooltipClassListMultiSelect($(this),w):showTooltipClassList($(this),w);a.stopPropagation()})}if(e){var A=$(this).children(".newname:first"),
l=$(this).children(".newname_label:first");""!==A.val()&&(A.show(),l.hide());l.click(function(){l.hide();A.show().focus()});A.blur(function(){""===$(this).val()&&(A.hide(),l.show())});A.change(function(){n.mCharacters[b].name=$(this).val()})}$(this).children(".clearchar").click(function(){e?n.removeCharacter(b):confirm(L("ConfirmDeleteCharacter")+"<br>"+L("AttendancesRemoved"),L("DeleteCharacter"),L("Cancel"),function(){n.removeCharacter(b);onUIDataChange()})})})})}}
function setupCharacters(a){var b=$("#charlist").data("characters");$.each(a.character,function(a,e){b.addCharacter(e.id,e.name,e.classname,e.mainchar,e.role1,e.role2)});b.rebuildSlots()}
function generateUserAttendance(a){var b=a.attendance.raids,c=a.attendance.ok,e=a.attendance.available,g=a.attendance.unavailable,n=b-(c+e+g),k=720*(c/b)-10,p=720*(e/b)-10,t=720*(g/b)-10,q=720*(n/b)-10,w=[],y=[],A=0;$.each(gGame.Roles,function(b,e){var g=a.attendance.roles[b];w[b]=void 0==g?0:g;y[b]=720*(w[b]/c)-10;A+=w[b]});HTMLString='<div class="attendanceCount" style="720px">';0<c&&(HTMLString+='<span class="bar_part gradient_ok" style="width: '+k.toFixed()+'px">'+c+"</span>");0<e&&(HTMLString+=
'<span class="bar_part gradient_available" style="width: '+p.toFixed()+'px">'+e+"</span>");0<g&&(HTMLString+='<span class="bar_part gradient_unavailable" style="width: '+t.toFixed()+'px">'+g+"</span>");0<n&&(HTMLString+='<span class="bar_part gradient_missed" style="width: '+q.toFixed()+'px">'+n+"</span>");0===b&&(HTMLString+='<span class="bar_part gradient_missed" style="width: 710px">&nbsp;</span>');HTMLString+="</div>";HTMLString+='<div class="label">'+L("RaidAttendance")+"</div>";HTMLString+=
'<div class="attendanceType" style="720px">';0===A?HTMLString+='<span class="bar_part gradient_missed" style="width: 710px"><div class="count">&nbsp;</div></span>':$.each(gGame.Roles,function(a,b){0<w[a]&&(HTMLString+='<span class="bar_part gradient_'+b.style+'" style="width: '+y[a].toFixed()+'px">'+w[a]+"</span>")});HTMLString+="</div>";HTMLString+='<div class="label">'+L("RolesInRaids")+"</div>";HTMLString+='<div class="labels">';HTMLString+="<div>";HTMLString+='<div class="box gradient_ok"></div>';
HTMLString+='<div class="label">'+c+"x "+L("Attended")+"</div>";HTMLString+='<div class="box gradient_available"></div>';HTMLString+='<div class="label">'+e+"x "+L("Queued")+"</div>";HTMLString+='<div class="box gradient_unavailable"></div>';HTMLString+='<div class="label">'+g+"x "+L("Absent")+"</div>";HTMLString+='<div class="box gradient_missed"></div>';HTMLString+='<div class="label">'+n+"x "+L("Missed")+"</div>";HTMLString+="</div>";HTMLString+='<div style="clear: left; padding-top: 5px">';$.each(gGame.Roles,
function(a,b){HTMLString+="<span>";HTMLString+='<div class="box gradient_'+b.style+'"></div>';HTMLString+='<div class="label">'+w[a]+"x "+L(b.name)+"</div>";HTMLString+="</span>"});HTMLString+="</div>";HTMLString+="</div>";$("#attendance").empty().append(HTMLString)}
function showProfilePanel(a,b){$("#characters").hide();$("#profilesettings").hide();$("#tablist").removeClass("characters");$("#tablist").removeClass("settings");$("#characterstoggle").removeClass("icon_characters");$("#settingstoggle").removeClass("icon_settings");$("#characterstoggle").addClass("icon_characters_off");$("#settingstoggle").addClass("icon_settings_off");$(a).show();$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);"about"==
b||"stats"==b?$("#applyButton").hide():$("#applyButton").show()}
function generateProfile(a){if(null==a.name){var b;b='<div id="lockMessage">'+L("UserNotFound");b+="</div>";$("#body").empty().append(b)}else b='<div id="profile">'+("<h1>"+L("Profile")+"</h1>"),b+='<div id="tablist" class="tabs characters"><div style="margin-top: 16px">',b+='<div id="characterstoggle" class="tab_icon icon_characters clickable"></div>',b+='<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>',b+="</div></div>",b+='<button id="applyButton" class="apply_changes" disabled="disabled">'+
L("Apply")+"</button>",$("#body").empty().append(b),$("#profile").data("userid",a.userid),$("#profile").hide(),generateProfileCharacters(a),generateProfileSettings(a),$("#characterstoggle").click(function(){a.userid==gUser.id?changeContext("profile,characters"):changeContext("profile,characters,"+a.userid)}),$("#settingstoggle").click(function(){a.userid==gUser.id?changeContext("profile,settings"):changeContext("profile,settings,"+a.userid)}),$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerProfileUpdate(a.userid)}),
loadProfilePanel(a.show,a.userid),$("#profile").show()}
function generateProfileCharacters(a){HTMLString='<div id="characters" class="content_area">';HTMLString+="<h2>"+L("Characters")+"</h2>";HTMLString+='<div id="charlist"></div>';HTMLString+='<h2 style="margin-top: 20px; margin-bottom: 4px">'+L("RaidAttendance")+"</h2>";HTMLString+='<div id="attendance"></div>';HTMLString+="</div>";$("#profile").append(HTMLString);$("#charlist").data("characters",new CCharacterList);setupCharacters(a);generateUserAttendance(a)}
function generateProfileSettings(a){HTMLString='<div id="profilesettings" class="content_area">';var b="none"!=a.binding&&a.bindingActive,c=b?' disabled="disabled"':"",b=b?"settingLabel labeldisabled":"settingLabel";HTMLString+='<div class="settingLine"><div class="'+b+'">'+(gUser.isAdmin&&gUser.id!=a.userid?L("AdminPassword"):L("OldPassword"))+"</div>";HTMLString+='<div class="settingField"><input type="password" id="pass_old"'+c+"/></div></div>";HTMLString+='<div class="settingLine"><div class="'+
b+'">'+L("Password")+"</div>";HTMLString+='<div class="settingField"><input type="password" id="pass_new" disabled="disabled"/></div></div>';HTMLString+='<div class="settingLine"><div class="'+b+'"></div><div class="settingField">';HTMLString+='<div id="profile_strprogress"><span class="pglabel">'+L("PassStrength")+'</span><span id="strength" class="progress"></span></div>';HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="'+b+'">'+L("RepeatPassword")+"</div>";HTMLString+=
'<div class="settingField"><input type="password" id="pass_repeat" disabled="disabled"/></div></div>';HTMLString+='<div class="settingLine settingNewSection"><div class="settingLabel">'+L("AutoAttend")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<input type="checkbox" id="auto_attend" value="true"'+(void 0!=a.settings.AutoAttend?" checked":"")+"/>";HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationStart")+"</div>";HTMLString+=
'<div class="settingField">';HTMLString+='<div class="datepicker"><span class="datepicker_icon ui-icon-calendar"></span><input type="text" class="datepicker_field" id="vacation_start"/></div>';HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationEnd")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<div class="datepicker"><span class="datepicker_icon ui-icon-calendar"></span><input type="text" class="datepicker_field" id="vacation_end"/></div>';
HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationMessage")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<textarea id="vacationMessage">'+(void 0==a.settings.VacationMessage?"":a.settings.VacationMessage.text)+"</textarea>";HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel"></div>';HTMLString+='<div class="settingField">';HTMLString+='<button id="vacationClear">'+L("ClearVacation")+"</button>";
HTMLString+="</div></div>";HTMLString+="</div>";$("#profile").append(HTMLString);$("#pass_old").keyup(function(){var a=0==$("#pass_old").val().length;$("#pass_new").prop("disabled",a);$("#pass_repeat").prop("disabled",a);onUIDataChange()});$("#pass_new").keyup(function(){var a=getPasswordStrength($("#pass_new").val()),b=parseInt(100*a.quality,10);$("#strength").css({"background-color":a.color,width:b+"%"})});var c=[L("Sun"),L("Mon"),L("Tue"),L("Wed"),L("Thu"),L("Fri"),L("Sat")],b=[L("January"),L("February"),
L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")],e=24==gSite.TimeFormat?"d. MM yy":"MM d, yy";$("#auto_attend").change(function(){onUIDataChange()});$("#vacation_start").parent().click(function(a){$("#vacation_start").focus()});$("#vacation_end").parent().click(function(a){$("#vacation_end").focus()});$("#vacationMessage").change(function(a){onUIDataChange()});$("#vacationClear").button({icons:{primary:"ui-icon-circle-close"}}).click(function(){$("#vacation_start").datepicker("setDate",
null);$("#vacation_end").datepicker("setDate",null);$("#vacationMessage").val("");onUIDataChange()});$("#vacation_start").datepicker({dayNamesShort:c,dayNamesMin:c,monthNames:b,dateFormat:e,firstDay:gSite.StartOfWeek,onClose:function(a){""!=a&&($("#vacation_end").datepicker("option","minDate",a),onUIDataChange())}});$("#vacation_end").datepicker({dayNamesShort:c,dayNamesMin:c,monthNames:b,dateFormat:e,firstDay:gSite.StartOfWeek,onClose:function(a){""!=a&&($("#vacation_start").datepicker("option",
"maxDate",a),onUIDataChange())}});void 0!=a.settings.VacationStart&&$("#vacation_start").datepicker("setDate",new Date(1E3*a.settings.VacationStart.number));void 0!=a.settings.VacationEnd&&$("#vacation_end").datepicker("setDate",new Date(1E3*a.settings.VacationEnd.number))}
function triggerProfileUpdate(a){if(null!=gUser){for(var b=$("#charlist").data("characters"),c=0;c<b.mCharacters.length;++c){var e=b.mCharacters[c];if(0===e.id){if("empty"==e.charClass[0]){notify(L("Error")+".<br>"+L("NoClass"));return}if(0===e.name.length){notify(L("Error")+".<br>"+L("NoName"));return}}}null!=$("#vacation_end").datepicker("getDate")&&null==$("#vacation_start").datepicker("getDate")?notify(L("NoStartDate")):null!=$("#vacation_start").datepicker("getDate")&&null==$("#vacation_end").datepicker("getDate")?
notify(L("NoEndDate")):0<$("#pass_old").val().length?""===$("#pass_new").val()?notify(L("EnterNonEmptyPassword")):$("#pass_new").val()!=$("#pass_repeat").val()?notify(L("PasswordsNotMatch")):asyncQuery("query_credentials_id",{UserId:gUser.id},triggerHashPassword):triggerProfileUpdateData(a,"")}}
function updateNewPasswordProgress(a){if(100==a)$("#profile_hashing").remove();else{if(0===$("#profile_hashing").length){var b=$("#applyButton").width()+16;$("#applyButton").before('<div id="profile_hashing" style="right: '+b+'px"><span class="pglabel">'+L("HashingInProgress")+'</span><span id="hashprogress" class="progress"></span></div>')}$("#hashprogress").css("width",a+"%")}}
function triggerHashPassword(a){var b=a.salt,c=a.pubkey;a=a.method;var e=$("#pass_old").val();hash(c,a,e,b,updateNewPasswordProgress,function(a){triggerProfileUpdateData($("#profile").data("userid"),a)})}
function triggerProfileUpdateData(a,b){for(var c=[],e=[],g=[],n=[],k=[],p=[],t=$("#charlist").data("characters"),q=0;q<t.mCharacters.length;++q){var w=t.mCharacters[q];c.push(w.id);g.push(w.charClass);n.push(w.mainChar);k.push(w.role1);p.push(w.role2);0===w.id?e.push(w.name):e.push("")}t=window.location.hash.substring(window.location.hash.indexOf(",")+1);q=$("#vacation_start").datepicker("getDate");w=$("#vacation_end").datepicker("getDate");null!=w&&(w.setHours(23),w.setMinutes(59));c={userId:a,charId:c,
name:e,charClass:g,mainChar:n,role1:k,role2:p,showPanel:t,autoAttend:$("#auto_attend").prop("checked"),vacationStart:null==q?null:q.getTime()/1E3,vacationEnd:null==w?null:w.getTime()/1E3,vacationMessage:""==$("#vacationMessage")?null:$("#vacationMessage").val(),oldPass:b,newPass:$("#pass_new").val()};onAppliedUIDataChange();asyncQuery("profile_update",c,function(a){reloadUser();generateProfile(a)})}
function loadProfile(a,b){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("query_profile",{userId:b,showPanel:a},generateProfile))}function loadProfilePanel(a,b){if(null!=gUser){var c=0==b?gUser.id:b;if(0===$("#profile").length||$("#profile").data("userid")!=c)loadProfile(a,b);else switch(a){default:case "characters":showProfilePanel("#characters","characters");break;case "settings":showProfilePanel("#profilesettings","settings")}}}
function CGroup(a){this.mUsers=[];this.mName=a;$("#"+a).data("helper",this);this.addUser=function(a,c,e,g,n){this.mUsers.push({id:a,login:c,binding:g,bindingActive:e,changedLinkage:!1,locked:n&&e&&"none"!=g})};this.addUserObject=function(a){this.mUsers.push(a)};this.removeUser=function(a){var c=this.mUsers[a];this.mUsers.splice(a,1);return c};this.removeUserById=function(a){for(var c=0;c<this.mUsers.length;++c){var e=this.mUsers[c];if(e.id==a)return this.mUsers.splice(c,1),e}return null};this.unlinkUser=
function(a){for(var c=0;c<this.mUsers.length;++c){var e=this.mUsers[c];if(e.id==a){e.bindingActive=!1;e.changedLinkage=!0;e.locked=!1;break}}};this.getUserIdArray=function(){for(var a=[],c=0;c<this.mUsers.length;++c)a.push(this.mUsers[c].id);return a};this.getUserIdxById=function(a){for(var c=0;c<this.mUsers.length;++c)if(this.mUsers[c].id==a)return c;return-1};this.updateLinkageArrays=function(a,c){for(var e=0;e<this.mUsers.length;++e)this.mUsers[e].changedLinkage&&(this.mUsers[e].bindingActive?
c.push(this.mUsers[e].id):a.push(this.mUsers[e].id))};this.refreshList=function(){for(var a="",c=0;c<this.mUsers.length;++c){var e=this.mUsers[c].binding,g=this.mUsers[c].bindingActive?"binding_active":"binding",n=this.mUsers[c].id==gUser.id,k=this.mUsers[c].locked,a=a+('<div class="user" id="'+this.mUsers[c].id+'">'),a=n?a+'<span class="userFunction"></span>':a+'<span class="userFunction functionDelete clickable"></span>',a=a+'<span class="userFunction functionEdit clickable"></span>';n?(a+='<div index="'+
c+'">',a+='<div style="background-image: url(lib/layout/images/icon_'+(this.mUsers[c].bindingActive?"exuser":"user")+'.png)" class="userImage">',a+='<div class="overlayLocked"></div>',a+="</div>"):k?(a+='<div class="userLinked" index="'+c+'">',a+='<div style="background-image: url(lib/layout/images/icon_exuser.png)" class="userImage">',a+='<div class="overlayLocked"></div>',a+="</div>"):(a+='<div class="userDrag" index="'+c+'">',a+='<div style="background-image: url(lib/layout/images/icon_user.png)" class="userImage"></div>');
"none"==e?(a+='<div class="userNameLocal">',a+='<span style="font-weight: bold">'+this.mUsers[c].login+"</span>"):(a+='<div class="userName">',a+='<span style="font-weight: bold">'+this.mUsers[c].login+"</span><br/>",a+='<span class="'+g+'">'+e+"</span>");a+="</div>";a+="</div>";a+="</div>"}c=$("#"+this.mName);c.empty().append(a);a=$(".user > .userDrag",c);c=$(".user > .userLinked",c);a.data("handle",this.mName);a.addClass("clickable");c.addClass("clickable");$(".functionDelete").click(function(){var a=
$(this).parent().attr("id"),b=$(this).parent().parent().data("helper");confirm(L("ConfirmDeleteUser"),L("DeleteUser"),L("Cancel"),function(){var c=b.removeUserById(a);b.refreshList();onUIDataChange();$("#groups").data("helper").addUserObject(c)})});$(".functionEdit").click(function(){var a=$(this).parent().attr("id");changeContext("profile,characters,"+a)});a.draggable({revert:"invalid",revertDuration:200,opacity:0.5,helper:"clone",stop:refreshSource}).each(function(){makeTouchable($(this))});a.click(function(a){showUserTooltip($(this).parent(),
!0);a.stopPropagation()});c.click(function(a){showUnlinkTooltip($(this).parent(),!0);a.stopPropagation()});$(".groupSlot").droppable({disabled:!1,hoverClass:"groupTarget",drop:onUserDrop,addClasses:!1})}}function refreshSource(a,b){var c=$(this).data("handle");$("#"+c).data("helper").refreshList()}
function onUserDrop(a,b){var c=b.draggable.attr("index"),e=b.draggable.data("handle"),g=$("#"+e).data("helper"),e=$(a.target).children(".content").data("helper");g!=e&&(c=g.removeUser(c),e.addUserObject(c),e.refreshList(),onUIDataChange())}
function onLinkUserReturn(a){var b=a.userid,c=a.binding,e="groupBanned";switch(a.group){case "member":e="groupMember";break;case "raidlead":e="groupRaidlead";break;case "admin":e="groupAdmin"}var g=$("#"+b).parent().data("helper");if(null!=g){var e=$("#"+e).data("helper"),b=g.getUserIdxById(parseInt(b,10)),n=g.mUsers[b];n.bindingActive=!0;n.changedLinkage=!0;n.binding=c;n.locked=a.syncActive;g!=e&&(g.removeUser(b),e.addUserObject(n),e.refreshList());g.refreshList();onUIDataChange()}else notify(L("SyncFailed"));
hideTooltip()}function moveUserToGroup(a,b){if("groupSync"==b)linkUser(a);else{var c=$("#"+a).parent().data("helper"),e=$("#"+b).data("helper");if(c!=e){var g=c.removeUserById(a);e.addUserObject(g);c.refreshList();e.refreshList();onUIDataChange()}}}function unlinkUser(a){var b=$("#"+a).parent().data("helper");b.unlinkUser(a);b.refreshList();onUIDataChange()}function linkUser(a){asyncQuery("user_link",{userId:a},onLinkUserReturn)}
function calculateShortTime(a){a={time:a,metric:0};0<Math.abs(a.time/60)&&0===a.time%60&&(a.time/=60,++a.metric,0<Math.abs(a.time/60)&&0===a.time%60&&(a.time/=60,++a.metric,0<Math.abs(a.time/24)&&0===a.time%24&&(a.time/=24,++a.metric,0<Math.abs(a.time/7)&&0===a.time%7&&(a.time/=7,++a.metric,Math.abs(0<a.time/4)&&0===a.time%4&&(a.time/=4,++a.metric)))));return a}
function calculateUnixTime(a,b){switch(b){case 1:return 60*a;case 2:return 3600*a;case 3:return 86400*a;case 4:return 604800*a;case 5:return 2419200*a}return a}function deleteLocation(a){confirm(L("ConfirmDeleteLocation")+"<br>"+L("NoteDeleteRaidsToo"),L("DeleteLocationRaids"),L("Cancel"),function(){var b=$(a).attr("id"),b=parseInt(b.substring(9,b.length),10);$("#locationsettings").data("removed").push(b);$(a).detach();onUIDataChange()})}
function showPanel(a,b){$("#groups").hide();$("#locationsettings").hide();$("#raidsettings").hide();$("#statistics").hide();$("#about").hide();$("#tablist").removeClass("users");$("#tablist").removeClass("locations");$("#tablist").removeClass("settings");$("#tablist").removeClass("stats");$("#tablist").removeClass("about");$("#userstoggle").removeClass("icon_users");$("#locationstoggle").removeClass("icon_locations");$("#settingstoggle").removeClass("icon_settings");$("#statstoggle").removeClass("icon_stats");
$("#abouttoggle").removeClass("icon_about");$("#userstoggle").addClass("icon_users_off");$("#locationstoggle").addClass("icon_locations_off");$("#settingstoggle").addClass("icon_settings_off");$("#statstoggle").addClass("icon_stats_off");$("#abouttoggle").addClass("icon_about_off");$(a).show();$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);"about"==b||"stats"==b?$("#applyButton").hide():$("#applyButton").show()}
function generateSettingsUsers(a){var b;b='<div id="groups" class="content_area"><span class="groupSlot box_inlay">'+('<div class="head">'+L("Locked")+"</div>");b+='<div id="groupBanned" class="content">';b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay">';b+='<div class="head">'+L("Members")+"</div>";b+='<div id="groupMember" class="content">';b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay">';b+='<div class="head">'+L("Raidleads")+"</div>";b+='<div id="groupRaidlead" class="content">';
b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay" style="margin-right: 0px">';b+='<div class="head">'+L("Administrators")+"</div>";b+='<div id="groupAdmin" class="content">';b+="</div>";b+="</span>";b+="</div>";$("#settings").append(b);var c=new CGroup("groupBanned"),e=new CGroup("groupMember"),g=new CGroup("groupRaidlead"),n=new CGroup("groupAdmin");new CGroup("groups");var k=a.syncActive;$.each(a.user,function(a,b){var q=null;switch(b.group){case "none":q=c;break;case "member":q=e;
break;case "raidlead":q=g;break;case "admin":q=n}null!=q&&q.addUser(b.id,b.login,b.bindingActive,b.binding,k)});c.refreshList();e.refreshList();g.refreshList();n.refreshList();$("#groups").hide()}
function generateSettingsLocation(a){var b='<div id="locationsettings" class="content_area">',b=b+'<div class="imagelist" id="locationimagelist">',c=0;$.each(a.locationimage,function(a,g){0===(c+1)%11&&(b+="<br/>",++c);b+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+g+'" onclick="applyLocationImageExternal(this, true)" style="width: 32px; height: 32px; margin-right: 5px;"/>';++c});b+="</div>";b+="</div>";$("#settings").append(b);$.each(a.location,function(a,c){var n=c.id,
k=c.image;b='<div class="location" id="location_'+n+'">';b+='<span class="imagepicker locationimg clickable" style="background-image: url(themes/icons/'+gSite.Iconset+"/raidsmall/"+k+')"></span>';b+='<input class="locationname" type="text" value="'+c.name+'"/>';b+='<div class="deletecmd clickable" onclick="deleteLocation($(this).parent())"></div>';b+="</div>";$("#locationsettings").append(b);$("#location_"+n+" > .locationimg:first").data("selectedImage",k)});$("#locationsettings .imagepicker").click(function(a){$("#locationimagelist").data("external",
$(this));showTooltipRaidImageListAtElement($(this));a.stopPropagation()});$("#locationsettings").data("removed",[]);$(".locationname").change(onUIDataChange);$("#locationimagelist").hide();$("#locationsettings").hide()}
function generateSettingsRaid(a){var b=0,c=0,e=0,g=0,n=[];n.RaidStartHour={text:"",number:19};n.RaidStartMinute={text:"",number:30};n.RaidEndHour={text:"",number:23};n.RaidEndMinute={text:"",number:0};n.RaidSize={text:"",number:10};n.Theme={text:"default",number:0};n.Site={text:"",number:0};n.HelpPage={text:"",number:0};n.TimeFormat={text:"",number:0};n.GameConfig={text:"wow",number:0};n.PrimaryRole={text:"true",number:0};$.each(a.setting,function(a,k){var l=k.name;if("PurgeRaids"==l){var p=calculateShortTime(k.intValue);
b=p.time;c=p.metric}else"LockRaids"==l&&(p=calculateShortTime(k.intValue),e=p.time,g=p.metric);n[l]={text:k.textValue,number:k.intValue}});for(var k='<div id="raidsettings" class="content_area">',k=k+'<span class="settingBlock" style="width: 530px">',k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("DeleteRaids")+"</div>"),k=k+'<div class="settingField"><input class="timeField" type="text" id="purgeTime" value=""/>',k=k+'<select class="metricField" id="purgeMetric">',k=k+("<option"+
(0===c?" selected":"")+">"+L("Seconds")+"</option>"),k=k+("<option"+(1==c?" selected":"")+">"+L("Minutes")+"</option>"),k=k+("<option"+(2==c?" selected":"")+">"+L("Hours")+"</option>"),k=k+("<option"+(3==c?" selected":"")+">"+L("Days")+"</option>"),k=k+("<option"+(4==c?" selected":"")+">"+L("Weeks")+"</option>"),k=k+("<option"+(5==c?" selected":"")+">"+L("Month")+"</option>"),k=k+"</select>",k=k+('<span class="propLabel2">'+L("AfterDone")+"</span>"),k=k+"</div></div>",k=k+'<div class="settingLine">',
k=k+('<div class="settingLabel">'+L("LockRaids")+"</div>"),k=k+'<div class="settingField"><input class="timeField" type="text" id="lockTime" value=""/>',k=k+'<select class="metricField" id="lockMetric">',k=k+("<option"+(0===g?" selected":"")+">"+L("Seconds")+"</option>"),k=k+("<option"+(1==g?" selected":"")+">"+L("Minutes")+"</option>"),k=k+("<option"+(2==g?" selected":"")+">"+L("Hours")+"</option>"),k=k+("<option"+(3==g?" selected":"")+">"+L("Days")+"</option>"),k=k+("<option"+(4==g?" selected":
"")+">"+L("Weeks")+"</option>"),k=k+("<option"+(5==g?" selected":"")+">"+L("Month")+"</option>"),k=k+"</select>",k=k+('<span class="propLabel2">'+L("BeforeStart")+"</span>"),k=k+"</div></div>",k=k+'<div class="settingLine settingNewSection">',k=k+('<div class="settingLabel">'+L("TimeFormat")+"</div>"),k=k+('<div class="settingField"><select id="timeFormat" style="width: '+(24==gSite.TimeFormat?48:64)+'px">'),k=k+('<option value="12"'+(12==n.TimeFormat.number?" selected":"")+">12h</option>"),k=k+('<option value="24"'+
(24==n.TimeFormat.number?" selected":"")+">24h</option>"),k=k+"</select>",k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("StartOfWeek")+"</div>"),k=k+'<div class="settingField"><select id="startOfWeek" style="width: 160px">',k=k+('<option value="0"'+(0===n.StartOfWeek.number?" selected":"")+">"+L("Sunday")+"</option>"),k=k+('<option value="1"'+(1==n.StartOfWeek.number?" selected":"")+">"+L("Monday")+"</option>"),k=k+('<option value="2"'+(2==n.StartOfWeek.number?
" selected":"")+">"+L("Tuesday")+"</option>"),k=k+('<option value="3"'+(3==n.StartOfWeek.number?" selected":"")+">"+L("Wednesday")+"</option>"),k=k+('<option value="4"'+(4==n.StartOfWeek.number?" selected":"")+">"+L("Thursday")+"</option>"),k=k+('<option value="5"'+(5==n.StartOfWeek.number?" selected":"")+">"+L("Friday")+"</option>"),k=k+('<option value="6"'+(6==n.StartOfWeek.number?" selected":"")+">"+L("Saturday")+"</option>"),k=k+"</select>",k=k+"</div></div>",k=k+'<div class="settingLine">',k=
k+('<div class="settingLabel">'+L("DefaultStartTime")+"</div>"),k=k+('<div class="settingField"><select id="starthour" style="width: '+(24==gSite.TimeFormat?48:64)+'px">'),p=4;0<=p;--p)k+='<option value="'+p+'"'+(n.RaidStartHour.number==p?" selected":"")+">"+formatHourPrefixed(p)+"</option>";for(p=23;4<p;--p)k+='<option value="'+p+'"'+(n.RaidStartHour.number==p?" selected":"")+">"+formatHourPrefixed(p)+"</option>";k+="</select><span>&nbsp;:&nbsp;</span>";k+='<select id="startminute" style="width: 48px">';
k+='<option value="0"'+(0===n.RaidStartMinute.number?" selected":"")+">00</option>";k+='<option value="15"'+(15==n.RaidStartMinute.number?" selected":"")+">15</option>";k+='<option value="30"'+(30==n.RaidStartMinute.number?" selected":"")+">30</option>";k+='<option value="45"'+(45==n.RaidStartMinute.number?" selected":"")+">45</option>";k+="</select>";k+="</div></div>";k+='<div class="settingLine">';k+='<div class="settingLabel">'+L("DefaultEndTime")+"</div>";k+='<div class="settingField"><select id="endhour" style="width: '+
(24==gSite.TimeFormat?48:64)+'px">';for(p=4;0<=p;--p)k+='<option value="'+p+'"'+(n.RaidEndHour.number==p?" selected":"")+">"+formatHourPrefixed(p)+"</option>";for(p=23;4<p;--p)k+='<option value="'+p+'"'+(n.RaidEndHour.number==p?" selected":"")+">"+formatHourPrefixed(p)+"</option>";var k=k+"</select><span>&nbsp;:&nbsp;</span>",k=k+'<select id="endminute" style="width: 48px">',k=k+('<option value="0"'+(0===n.RaidEndMinute.number?" selected":"")+">00</option>"),k=k+('<option value="15"'+(15==n.RaidEndMinute.number?
" selected":"")+">15</option>"),k=k+('<option value="30"'+(30==n.RaidEndMinute.number?" selected":"")+">30</option>"),k=k+('<option value="45"'+(45==n.RaidEndMinute.number?" selected":"")+">45</option>"),k=k+"</select>",k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("DefaultRaidSize")+"</div>"),k=k+'<div class="settingField" id="size_select">',k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("DefaultRaidMode")+"</div>"),
k=k+'<div class="settingField"><select id="raidmode" style="width: 160px">',k=k+('<option value="manual"'+("manual"==n.RaidMode.text?" selected":"")+">"+L("RaidModeManual")+"</option>"),k=k+('<option value="overbook"'+("overbook"==n.RaidMode.text?" selected":"")+">"+L("RaidModeOverbook")+"</option>"),k=k+('<option value="attend"'+("attend"==n.RaidMode.text?" selected":"")+">"+L("RaidModeAttend")+"</option>"),k=k+('<option value="all"'+("all"==n.RaidMode.text?" selected":"")+">"+L("RaidModeAll")+"</option>"),
k=k+('<option value="optout"'+("optout"==n.RaidMode.text?" selected":"")+">"+L("RaidModeOptOut")+"</option>"),k=k+"</select>",k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("AttendWithPrimary")+"</div>"),k=k+'<div class="settingField">',k=k+('<input type="checkbox" id="primaryrole"'+(n.PrimaryRole.text?" checked":"")+"/>"),k=k+"</div></div>",k=k+"</span>",k=k+'<span class="settingBlock">',k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("Game")+
"</div>"),k=k+'<div class="settingField"><select id="game" style="width: 160px">',t=a.game.length-1,q="wow";$.each(a.game,function(a,b){var c=b.name,e=b.file,g=b.family,d=n.GameConfig.text==e;d&&(t=a,q=g);k+='<option family="'+g+'" value="'+e+'"'+(d?" selected":"")+">"+c+"</option>"});var k=k+"</select>",k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("Theme")+"</div>"),k=k+'<div class="settingField" id="theme_select">',k=k+"</div></div>",k=k+'<div class="settingLine">',
k=k+('<div class="settingLabel">'+L("BannerPage")+"</div>"),k=k+('<div class="settingField"><input type="text" id="site" style="width: 155px" value="'+n.Site.text+'"/>'),k=k+"</div></div>",k=k+'<div class="settingLine">',k=k+('<div class="settingLabel">'+L("HelpPage")+"</div>"),k=k+('<div class="settingField"><input type="text" id="helpPage" style="width: 155px" value="'+n.HelpPage.text+'"/>'),k=k+"</div></div>",k=k+'<div class="settingLine settingNewSection">',k=k+('<div class="settingLabel">'+L("ApiPrivate")+
"</div>"),k=k+('<div class="settingField"><input type="text" style="width: 155px" value="'+n.ApiPrivate.text+'" disabled="disabled"/>'),k=k+"</div></div>",k=k+"</span>",k=k+"</div>",w=function(b,c){var e=$("#size_select"),g='<select id="raidsize" style="width: '+(24==gSite.TimeFormat?48:64)+'px">',k=$("#raidsize option:selected").val(),d=void 0==k?n.RaidSize.number:parseInt(k,10),h=0,f=d;$.each(a.game[b].groups,function(a,b){var c=Math.abs(b-d);c<f&&(f=c,h=a);g+='<option value="'+b+'">'+b+"</option>"});
g+="</select>";e.empty().append(g);$("#raidsize option").eq(h).prop("selected",!0);$("#raidsize").combobox();e=$("#theme_select");g='<select id="theme" style="width: 160px">';$.each(a.theme,function(a,b){if(-1<b.family.indexOf(c)){var d=b.file;g+='<option value="'+d+'"'+(n.Theme.text==d?" selected":"")+">"+b.name+"</option>"}});g+="</select>";e.empty().append(g);$("#theme").combobox();$("#theme").change(onUIDataChange)};$("#settings").append(k);$("#purgeTime").val(b);$("#lockTime").val(e);$("#purgeMetric").combobox();
$("#lockMetric").combobox();$("#timeFormat").combobox();$("#startOfWeek").combobox();$("#starthour").combobox();$("#startminute").combobox();$("#endhour").combobox();$("#endminute").combobox();$("#raidsize").combobox();$("#raidmode").combobox();$("#game").combobox();$("#raidsettings input").change(onUIDataChange);$("#raidsettings select").change(onUIDataChange);$("#game").change(function(){var a=$("option:selected",this).attr("family"),b=$("option:selected",this).index();w(b,a)});w(t,q);$("#raidsettings").hide()}
function generateSettingsStats(a){var b='<div id="statistics" class="content_area scrollable_y">',b=b+'<div class="labels">',b=b+'<div class="box gradient_ok"></div>',b=b+('<div class="label">'+L("Attended")+"</div>"),b=b+'<div class="box gradient_available"></div>',b=b+('<div class="label">'+L("Queued")+"</div>"),b=b+'<div class="box gradient_unavailable"></div>',b=b+('<div class="label">'+L("Absent")+"</div>"),b=b+'<div class="box gradient_missed"></div>',b=b+('<div class="label">'+L("Missed")+
"</div>"),b=b+"</div>",b=b+'<div style="clear: left; padding-top: 15px">';$.each(a.attendance,function(a,e){b+='<div style="clear: left">';b+='<div class="name">'+e.name+"</div>";b+='<div class="bar"></span>';var g=parseInt(e.ok),n=parseInt(e.available),k=parseInt(e.unavailable),p=parseInt(e.undecided),t=g+n+k+p,q=740*(n/t)-10,w=740*(k/t)-10,y=740*(p/t)-10;0<g&&(b+='<span class="bar_part gradient_ok" style="width: '+(740*(g/t)-10).toFixed()+'px">'+g+"</span>");0<n&&(b+='<span class="bar_part gradient_available" style="width: '+
q.toFixed()+'px">'+n+"</span>");0<k&&(b+='<span class="bar_part gradient_unavailable" style="width: '+w.toFixed()+'px">'+k+"</span>");0<p&&(b+='<span class="bar_part gradient_missed" style="width: '+y.toFixed()+'px">'+p+"</span>");0===t&&(b+='<span class="bar_part gradient_missed" style="width: 740px">&nbsp;</span>');b+="</div></div>"});b+="</div>";b+="</div>";$("#settings").append(b);$("#statistics").hide()}
function generateSettingsAbout(a){a='<div id="about" class="content_area">';var b=parseInt(Math.round(10*(gSite.Version-parseInt(gSite.Version)))),b=0===b?"":String.fromCharCode(97+(b-1));a=a+'<div class="version">'+("Version "+parseInt(gSite.Version/100,10)+"."+parseInt(gSite.Version%100/10,10)+"."+parseInt(gSite.Version%10,10)+b+"<br/>");a+='<button id="update_check" style="margin-top: 15px">'+L("UpdateCheck")+"</button>";a+="</div>";$("#settings").append(a);$("#update_check").button({icons:{secondary:"ui-icon-arrowreturnthick-1-n"}}).click(function(){triggerUpdateCheck()})}
function generateSettings(a){var b;b='<div id="settings">'+("<h1>"+L("Settings")+"</h1>");b+='<div id="tablist" class="tabs users"><div style="margin-top: 16px">';b+='<div id="userstoggle" class="tab_icon icon_users clickable"></div>';b+='<div id="locationstoggle" class="tab_icon icon_locations_off clickable"></div>';b+='<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>';b+='<div id="statstoggle" class="tab_icon icon_stats_off clickable"></div>';b+='<div id="abouttoggle" class="tab_icon icon_about_off clickable"></div>';
b+="</div></div>";b+='<button id="applyButton" class="apply_changes" disabled="disabled">'+L("Apply")+"</button>";$("#body").empty().append(b);$("#settings").hide();generateSettingsUsers(a);generateSettingsLocation(a);generateSettingsRaid(a);generateSettingsStats(a);generateSettingsAbout(a);$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerSettingsUpdate()});$("#userstoggle").click(function(){changeContext("settings,users")});$("#locationstoggle").click(function(){changeContext("settings,location")});
$("#settingstoggle").click(function(){changeContext("settings,general")});$("#statstoggle").click(function(){changeContext("settings,stats")});$("#abouttoggle").click(function(){changeContext("settings,about")});loadSettingsPanel(a.show);$("#settings").show()}
function triggerSettingsUpdate(){if(null!=gUser&&gUser.isAdmin){var a=$("#groupBanned").data("helper"),b=$("#groupMember").data("helper"),c=$("#groupRaidlead").data("helper"),e=$("#groupAdmin").data("helper"),g=$("#groups").data("helper"),n=a.getUserIdArray(),k=b.getUserIdArray(),p=c.getUserIdArray(),t=e.getUserIdArray(),g=g.getUserIdArray(),q=[],w=[];a.updateLinkageArrays(q,w);b.updateLinkageArrays(q,w);c.updateLinkageArrays(q,w);e.updateLinkageArrays(q,w);var a=calculateUnixTime($("#purgeTime").val(),
$("#purgeMetric")[0].selectedIndex),b=calculateUnixTime($("#lockTime").val(),$("#lockMetric")[0].selectedIndex),y=[],A=[],l=[];$("#locationsettings").children(".location").each(function(){var a=$(this).attr("id"),a=parseInt(a.substring(9,a.length),10);y.push(a);A.push($(this).children(".locationname").val());l.push($(this).children(".imagepicker").data("selectedImage"))});var c=window.location.hash.substring(1,window.location.hash.length),e=c.lastIndexOf(","),u={banned:n,member:k,raidlead:p,admin:t,
removed:g,unlinked:q,relinked:w,locationIds:y,locationNames:A,locationImages:l,locationRemoved:$("#locationsettings").data("removed"),purgeTime:a,lockTime:b,timeFormat:$("#timeFormat").val(),startOfWeek:$("#startOfWeek").val(),raidStartHour:$("#starthour").val(),raidStartMinute:$("#startminute").val(),raidEndHour:$("#endhour").val(),raidEndMinute:$("#endminute").val(),raidSize:$("#raidsize").val(),raidMode:$("#raidmode").val(),site:$("#site").val(),helpPage:$("#helpPage").val(),theme:$("#theme").val(),
game:$("#game").val(),primaryRole:$("#primaryrole").prop("checked"),showPanel:c.substr(e+1)};onAppliedUIDataChange();asyncQuery("settings_update",u,function(){reloadConfig();loadSettings(u.showPanel)})}}
function onUpdateCheckReturn(a){$("#update_message").detach();$("#ajaxblocker").clearQueue().hide();gSite.Version<a.version?($("#about .version").css("color","#AA0000"),$("#update_check").before('<div id="update_message"><a href="https://github.com/arnecls/raidplaner/releases" style="font-size: 12px">'+L("VisitProjectPage")+"</a><br/><div>"),void 0==a.hotfix&&(a.hotfix=""),notify(L("NewVersionAvailable")+'<br/><span style="font-size: 26px">'+a.major+"."+a.minor+"."+a.patch+a.hotfix+"</span>")):($("#about .version").css("color",
"#00AA00"),$("#update_check").before('<div id="update_message"><span style="font-size: 12px; color: #666">'+L("UpToDate")+"</span><br/></div>"),notify(L("UpToDate")))}function triggerUpdateCheck(){$.ajax({type:"GET",url:"http://www.packedpixel.de/raidplaner_version.php",dataType:"json",async:!0,data:{},success:onUpdateCheckReturn,crossDomain:!0})}function loadSettings(a){reloadUser();null!=gUser&&gUser.isAdmin&&($("#body").empty(),asyncQuery("query_settings",{showPanel:a},generateSettings))}
function loadSettingsPanel(a){if(0===$("#settings").length)loadSettings(a);else switch(a){default:case "users":showPanel("#groups","users");break;case "location":showPanel("#locationsettings","locations");break;case "general":showPanel("#raidsettings","settings");break;case "stats":showPanel("#statistics","stats");break;case "about":showPanel("#about","about")}};
